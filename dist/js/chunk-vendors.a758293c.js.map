{"version":3,"sources":["webpack:///./node_modules/core-js/modules/_iter-define.js","webpack:///./node_modules/algoliasearch-helper/src/functions/formatSort.js","webpack:///./node_modules/core-js/modules/es7.promise.finally.js","webpack:///./node_modules/core-js/modules/_array-methods.js","webpack:///./node_modules/core-js/modules/_flags.js","webpack:///./node_modules/core-js/modules/_object-keys.js","webpack:///./node_modules/core-js/modules/_is-array.js","webpack:///./node_modules/core-js/modules/_object-gopd.js","webpack:///./node_modules/algoliasearch/dist/algoliasearch-lite.umd.js","webpack:///./node_modules/core-js/modules/_object-dps.js","webpack:///./node_modules/algoliasearch-helper/src/functions/merge.js","webpack:///./node_modules/instantsearch.js/node_modules/qs/lib/index.js","webpack:///./node_modules/algoliasearch-helper/src/functions/find.js","webpack:///./node_modules/core-js/modules/_task.js","webpack:///./node_modules/algoliasearch-helper/src/SearchParameters/RefinementList.js","webpack:///./node_modules/core-js/modules/_iter-call.js","webpack:///./node_modules/core-js/modules/_dom-create.js","webpack:///./node_modules/core-js/modules/_classof.js","webpack:///./node_modules/core-js/modules/_object-gops.js","webpack:///./node_modules/core-js/modules/core.get-iterator-method.js","webpack:///./node_modules/vue-loader/lib/runtime/componentNormalizer.js","webpack:///./node_modules/core-js/modules/_redefine.js","webpack:///./node_modules/core-js/modules/_object-create.js","webpack:///./node_modules/vue/dist/vue.runtime.esm.js","webpack:///./node_modules/core-js/modules/_wks.js","webpack:///./node_modules/algoliasearch-helper/src/DerivedHelper/index.js","webpack:///./node_modules/core-js/modules/_library.js","webpack:///./node_modules/core-js/modules/_cof.js","webpack:///./node_modules/core-js/modules/_invoke.js","webpack:///./node_modules/core-js/modules/_hide.js","webpack:///./node_modules/core-js/modules/_is-array-iter.js","webpack:///./node_modules/core-js/modules/es6.regexp.flags.js","webpack:///./node_modules/core-js/modules/_object-gpo.js","webpack:///./node_modules/algoliasearch-helper/index.js","webpack:///./node_modules/core-js/modules/_iter-create.js","webpack:///./node_modules/core-js/modules/es6.object.keys.js","webpack:///./node_modules/core-js/modules/_to-integer.js","webpack:///./node_modules/core-js/modules/_property-desc.js","webpack:///./node_modules/core-js/modules/_for-of.js","webpack:///./node_modules/core-js/modules/_to-object.js","webpack:///./node_modules/algoliasearch-helper/src/SearchParameters/index.js","webpack:///./node_modules/algoliasearch-helper/src/functions/inherits.js","webpack:///./node_modules/core-js/modules/_object-pie.js","webpack:///./node_modules/algoliasearch-helper/src/functions/intersection.js","webpack:///./node_modules/core-js/modules/es6.promise.js","webpack:///./node_modules/core-js/modules/_shared.js","webpack:///./node_modules/algoliasearch-helper/src/utils/isValidUserToken.js","webpack:///./node_modules/core-js/modules/_export.js","webpack:///./node_modules/core-js/modules/_iter-detect.js","webpack:///./node_modules/core-js/modules/_inherit-if-required.js","webpack:///./node_modules/core-js/modules/_object-sap.js","webpack:///./node_modules/core-js/modules/_shared-key.js","webpack:///./node_modules/core-js/modules/_iobject.js","webpack:///./node_modules/algoliasearch-helper/src/functions/compact.js","webpack:///./node_modules/core-js/modules/_to-iobject.js","webpack:///./node_modules/core-js/modules/_has.js","webpack:///./node_modules/core-js/modules/_to-primitive.js","webpack:///./node_modules/core-js/modules/es6.regexp.to-string.js","webpack:///./node_modules/core-js/modules/_object-assign.js","webpack:///./node_modules/core-js/modules/es6.array.find.js","webpack:///./node_modules/core-js/modules/_global.js","webpack:///./node_modules/core-js/modules/_to-absolute-index.js","webpack:///./node_modules/core-js/modules/_fails.js","webpack:///./node_modules/core-js/modules/_set-species.js","webpack:///./node_modules/instantsearch.js/node_modules/qs/lib/formats.js","webpack:///./node_modules/node-libs-browser/node_modules/events/events.js","webpack:///./node_modules/core-js/modules/_set-to-string-tag.js","webpack:///./node_modules/core-js/modules/es6.function.name.js","webpack:///./node_modules/core-js/modules/_microtask.js","webpack:///./node_modules/algoliasearch-helper/src/functions/objectHasKeys.js","webpack:///./node_modules/core-js/modules/_core.js","webpack:///./node_modules/core-js/modules/_iterators.js","webpack:///./node_modules/core-js/modules/_object-dp.js","webpack:///./node_modules/instantsearch.js/node_modules/qs/lib/stringify.js","webpack:///./node_modules/vue-instantsearch/es/src/util/suit.js","webpack:///./node_modules/vue-instantsearch/es/src/mixins/suit.js","webpack:///./node_modules/vue-instantsearch/es/src/util/warn.js","webpack:///./node_modules/vue-instantsearch/es/src/mixins/widget.js","webpack:///./node_modules/instantsearch.js/es/lib/utils/escape.js","webpack:///./node_modules/instantsearch.js/es/lib/utils/isPlainObject.js","webpack:///./node_modules/instantsearch.js/es/lib/escape-highlight.js","webpack:///./node_modules/instantsearch.js/es/lib/utils/documentation.js","webpack:///./node_modules/instantsearch.js/es/lib/utils/noop.js","webpack:///./node_modules/instantsearch.js/es/lib/utils/getObjectType.js","webpack:///./node_modules/instantsearch.js/es/lib/utils/checkRendering.js","webpack:///./node_modules/instantsearch.js/es/lib/utils/createSendEventForHits.js","webpack:///./node_modules/instantsearch.js/es/connectors/autocomplete/connectAutocomplete.js","webpack:///../../../src/components/Autocomplete.vue","webpack:///./node_modules/instantsearch.js/es/connectors/breadcrumb/connectBreadcrumb.js","webpack:///./node_modules/vue-instantsearch/es/src/mixins/panel.js","webpack:///../../../src/components/Breadcrumb.vue","webpack:///./node_modules/instantsearch.js/es/lib/utils/clearRefinements.js","webpack:///./node_modules/instantsearch.js/es/lib/utils/findIndex.js","webpack:///./node_modules/instantsearch.js/es/lib/utils/uniq.js","webpack:///./node_modules/instantsearch.js/es/lib/utils/mergeSearchParameters.js","webpack:///./node_modules/instantsearch.js/es/lib/utils/find.js","webpack:///./node_modules/instantsearch.js/es/lib/utils/unescapeRefinement.js","webpack:///./node_modules/instantsearch.js/es/lib/utils/getRefinements.js","webpack:///./node_modules/instantsearch.js/es/connectors/clear-refinements/connectClearRefinements.js","webpack:///../../../src/components/ClearRefinements.vue","webpack:///./node_modules/instantsearch.js/es/connectors/configure/connectConfigure.js","webpack:///./node_modules/vue-instantsearch/es/src/components/Configure.js","webpack:///./node_modules/instantsearch.js/es/lib/utils/getPropertyByPath.js","webpack:///./node_modules/instantsearch.js/es/connectors/configure-related-items/connectConfigureRelatedItems.js","webpack:///./node_modules/vue-instantsearch/es/src/components/ConfigureRelatedItems.js","webpack:///./node_modules/instantsearch.js/es/connectors/current-refinements/connectCurrentRefinements.js","webpack:///../../../src/components/CurrentRefinements.vue","webpack:///./node_modules/instantsearch.js/es/lib/utils/isFacetRefined.js","webpack:///./node_modules/instantsearch.js/es/lib/utils/createSendEventForFacet.js","webpack:///./node_modules/instantsearch.js/es/connectors/hierarchical-menu/connectHierarchicalMenu.js","webpack:///../../../src/components/HierarchicalMenuList.vue","webpack:///../../../src/components/HierarchicalMenu.vue","webpack:///./node_modules/vue-instantsearch/es/src/util/unescape.js","webpack:///./node_modules/vue-instantsearch/es/src/util/parseAlgoliaHit.js","webpack:///../../../src/components/Highlighter.vue","webpack:///../../../src/components/Highlight.vue","webpack:///./node_modules/instantsearch.js/es/lib/insights/client.js","webpack:///./node_modules/instantsearch.js/es/lib/utils/hits-absolute-position.js","webpack:///./node_modules/instantsearch.js/es/lib/utils/hits-query-id.js","webpack:///./node_modules/instantsearch.js/es/connectors/hits/connectHits.js","webpack:///./node_modules/instantsearch.js/es/connectors/hits/connectHitsWithInsights.js","webpack:///../../../src/components/Hits.vue","webpack:///./node_modules/instantsearch.js/es/connectors/hits-per-page/connectHitsPerPage.js","webpack:///../../../src/components/HitsPerPage.vue","webpack:///./node_modules/instantsearch.js/es/lib/utils/resolveSearchParameters.js","webpack:///./node_modules/instantsearch.js/es/widgets/index/index.js","webpack:///./node_modules/vue-instantsearch/es/src/components/Index.js","webpack:///./node_modules/instantsearch.js/es/lib/version.js","webpack:///./node_modules/instantsearch.js/es/lib/suit.js","webpack:///./node_modules/instantsearch.js/es/helpers/highlight.js","webpack:///./node_modules/instantsearch.js/es/helpers/snippet.js","webpack:///./node_modules/instantsearch.js/es/helpers/insights.js","webpack:///./node_modules/instantsearch.js/es/lib/createHelpers.js","webpack:///./node_modules/instantsearch.js/es/lib/utils/defer.js","webpack:///./node_modules/instantsearch.js/es/lib/utils/isEqual.js","webpack:///./node_modules/instantsearch.js/es/middlewares/createRouterMiddleware.js","webpack:///./node_modules/instantsearch.js/es/lib/InstantSearch.js","webpack:///./node_modules/instantsearch.js/es/helpers/get-insights-anonymous-user-token.js","webpack:///./node_modules/instantsearch.js/es/lib/infiniteHitsCache/sessionStorage.js","webpack:///./node_modules/instantsearch.js/es/index.js","webpack:///./node_modules/vue-instantsearch/es/package.json.js","webpack:///./node_modules/vue-instantsearch/es/src/util/polyfills.js","webpack:///./node_modules/vue-instantsearch/es/src/util/createInstantSearchComponent.js","webpack:///./node_modules/vue-instantsearch/es/src/components/InstantSearch.js","webpack:///./node_modules/vue-instantsearch/es/src/components/InstantSearchSsr.js","webpack:///./node_modules/instantsearch.js/es/connectors/infinite-hits/connectInfiniteHits.js","webpack:///./node_modules/instantsearch.js/es/connectors/infinite-hits/connectInfiniteHitsWithInsights.js","webpack:///../../../src/components/InfiniteHits.vue","webpack:///./node_modules/instantsearch.js/es/connectors/menu/connectMenu.js","webpack:///../../../src/components/Menu.vue","webpack:///../../../src/components/MenuSelect.vue","webpack:///./node_modules/instantsearch.js/es/lib/utils/convertNumericRefinementsToFilters.js","webpack:///./node_modules/instantsearch.js/es/lib/utils/isFiniteNumber.js","webpack:///./node_modules/instantsearch.js/es/connectors/numeric-menu/connectNumericMenu.js","webpack:///../../../src/components/NumericMenu.vue","webpack:///./node_modules/instantsearch.js/es/lib/utils/range.js","webpack:///./node_modules/instantsearch.js/es/connectors/pagination/Paginator.js","webpack:///./node_modules/instantsearch.js/es/connectors/pagination/connectPagination.js","webpack:///../../../src/components/Pagination.vue","webpack:///../../../src/components/Panel.vue","webpack:///../../../src/components/PoweredBy.vue","webpack:///./node_modules/instantsearch.js/es/connectors/query-rules/connectQueryRules.js","webpack:///./node_modules/vue-instantsearch/es/src/components/QueryRuleContext.js","webpack:///../../../src/components/QueryRuleCustomData.vue","webpack:///./node_modules/instantsearch.js/es/connectors/range/connectRange.js","webpack:///../../../src/components/RangeInput.vue","webpack:///./node_modules/instantsearch.js/es/connectors/rating-menu/connectRatingMenu.js","webpack:///../../../src/components/RatingMenu.vue","webpack:///./node_modules/instantsearch.js/es/connectors/refinement-list/connectRefinementList.js","webpack:///../../../src/components/SearchInput.vue","webpack:///../../../src/components/RefinementList.vue","webpack:///./node_modules/vue-instantsearch/es/src/connectors/connectStateResults.js","webpack:///../../../src/components/StateResults.vue","webpack:///./node_modules/instantsearch.js/es/connectors/search-box/connectSearchBox.js","webpack:///../../../src/components/SearchBox.vue","webpack:///../../../src/components/Snippet.vue","webpack:///./node_modules/instantsearch.js/es/connectors/sort-by/connectSortBy.js","webpack:///../../../src/components/SortBy.vue","webpack:///./node_modules/instantsearch.js/es/connectors/stats/connectStats.js","webpack:///../../../src/components/Stats.vue","webpack:///./node_modules/instantsearch.js/es/lib/utils/toArray.js","webpack:///./node_modules/instantsearch.js/es/lib/utils/escapeRefinement.js","webpack:///./node_modules/instantsearch.js/es/connectors/toggle-refinement/connectToggleRefinement.js","webpack:///../../../src/components/ToggleRefinement.vue","webpack:///./node_modules/instantsearch.js/es/lib/voiceSearchHelper/index.js","webpack:///./node_modules/instantsearch.js/es/connectors/voice-search/connectVoiceSearch.js","webpack:///../../../src/components/VoiceSearch.vue","webpack:///./node_modules/vue-instantsearch/es/src/plugin.js","webpack:///./node_modules/core-js/modules/_set-proto.js","webpack:///./node_modules/core-js/modules/_object-gopn.js","webpack:///./node_modules/algoliasearch-helper/src/functions/defaultsPure.js","webpack:///./node_modules/algoliasearch-helper/src/SearchResults/generate-hierarchical-tree.js","webpack:///./node_modules/core-js/modules/_ctx.js","webpack:///./node_modules/core-js/modules/_add-to-unscopables.js","webpack:///./node_modules/core-js/modules/_perform.js","webpack:///./node_modules/algoliasearch-helper/src/functions/valToNumber.js","webpack:///./node_modules/core-js/modules/_to-length.js","webpack:///./node_modules/core-js/modules/_descriptors.js","webpack:///./node_modules/algoliasearch-helper/src/functions/findIndex.js","webpack:///./node_modules/core-js/modules/_user-agent.js","webpack:///./node_modules/core-js/modules/_new-promise-capability.js","webpack:///./node_modules/algoliasearch-helper/src/functions/omit.js","webpack:///./node_modules/core-js/modules/_string-trim.js","webpack:///./node_modules/core-js/modules/web.dom.iterable.js","webpack:///./node_modules/algoliasearch-helper/src/SearchResults/index.js","webpack:///./node_modules/core-js/modules/_promise-resolve.js","webpack:///./node_modules/core-js/modules/_defined.js","webpack:///./node_modules/core-js/modules/_array-includes.js","webpack:///./node_modules/instantsearch.js/node_modules/qs/lib/utils.js","webpack:///./node_modules/core-js/modules/es6.number.constructor.js","webpack:///./node_modules/core-js/modules/_ie8-dom-define.js","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/instantsearch.js/node_modules/qs/lib/parse.js","webpack:///./node_modules/core-js/modules/_uid.js","webpack:///./node_modules/core-js/modules/es6.array.iterator.js","webpack:///./node_modules/algoliasearch-helper/src/functions/orderBy.js","webpack:///./node_modules/core-js/modules/_an-object.js","webpack:///./node_modules/core-js/modules/_array-species-create.js","webpack:///./node_modules/core-js/modules/_object-keys-internal.js","webpack:///./node_modules/algoliasearch-helper/src/requestBuilder.js","webpack:///./node_modules/core-js/modules/_is-object.js","webpack:///./node_modules/core-js/modules/_iter-step.js","webpack:///./node_modules/core-js/modules/_a-function.js","webpack:///./node_modules/core-js/modules/_redefine-all.js","webpack:///./node_modules/core-js/modules/_enum-bug-keys.js","webpack:///./node_modules/algoliasearch-helper/src/version.js","webpack:///./node_modules/core-js/modules/_array-species-constructor.js","webpack:///./node_modules/algoliasearch-helper/src/algoliasearch.helper.js","webpack:///./node_modules/core-js/modules/_species-constructor.js","webpack:///./node_modules/instantsearch.js/es/lib/stateMappings/simple.js","webpack:///./node_modules/core-js/modules/_an-instance.js","webpack:///./node_modules/core-js/modules/es6.object.assign.js","webpack:///./node_modules/core-js/modules/_function-to-string.js","webpack:///./node_modules/core-js/modules/_html.js","webpack:///./node_modules/core-js/modules/_string-ws.js","webpack:///./node_modules/instantsearch.js/es/lib/routers/history.js"],"names":["LIBRARY","$export","redefine","hide","Iterators","$iterCreate","setToStringTag","getPrototypeOf","ITERATOR","BUGGY","keys","FF_ITERATOR","KEYS","VALUES","returnThis","this","module","exports","Base","NAME","Constructor","next","DEFAULT","IS_SET","FORCED","methods","key","IteratorPrototype","getMethod","kind","proto","TAG","DEF_VALUES","VALUES_BUG","prototype","$native","$default","$entries","undefined","$anyNative","entries","call","Object","name","values","P","F","find","sortBy","defaults","defaultInstructions","map","sort","split","reduce","out","sortInstruction","matchingDefault","defaultInstruction","length","push","core","global","speciesConstructor","promiseResolve","R","onFinally","C","Promise","isFunction","then","x","e","ctx","IObject","toObject","toLength","asc","TYPE","$create","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","NO_HOLES","create","$this","callbackfn","that","val","res","O","self","f","index","result","anObject","ignoreCase","multiline","unicode","sticky","$keys","enumBugKeys","cof","Array","isArray","arg","pIE","createDesc","toIObject","toPrimitive","has","IE8_DOM_DEFINE","gOPD","getOwnPropertyDescriptor","t","r","defineProperty","value","enumerable","configurable","writable","getOwnPropertySymbols","n","filter","apply","arguments","o","forEach","getOwnPropertyDescriptors","defineProperties","a","indexOf","propertyIsEnumerable","Symbol","iterator","toString","u","i","done","return","TypeError","from","concat","localStorage","window","JSON","parse","getItem","get","miss","resolve","stringify","all","set","setItem","delete","clear","removeItem","caches","shift","catch","s","serializable","c","Math","floor","random","l","replace","encodeURIComponent","h","WithinQueryParameters","WithinHeaders","d","data","timeout","headers","queryParameters","cacheable","m","Read","Write","Any","p","v","y","g","status","lastUpdate","Date","now","b","protocol","url","accept","q","getTimeout","statelessHosts","j","method","toLowerCase","userAgent","pop","message","transporterStackTrace","A","S","path","connectTimeout","timeouts","connect","responseTimeout","request","response","host","triesLeft","onSucess","content","onRetry","isTimedOut","logger","info","hostsCache","onFail","requester","send","reverse","w","add","segment","version","T","charAt","substr","join","N","appId","authMode","apiKey","requestsCache","responsesCache","hosts","read","mappedRequestOptions","transporter","reject","write","addAlgoliaAgent","clearCache","indexName","k","params","requests","J","facetName","facetQuery","searchForFacetValues","E","query","queryLanguages","I","D","W","H","XMLHttpRequest","open","setRequestHeader","setTimeout","abort","onreadystatechange","readyState","OPENED","clearTimeout","onerror","responseText","onload","debug","console","error","search","multipleQueries","multipleSearchForFacetValues","initIndex","findAnswers","dP","getKeys","Properties","clone","_merge","isObjectOrArrayOrFunction","target","source","hasOwnProperty","sourceVal","targetVal","merge","formats","array","comparator","defer","channel","port","invoke","html","cel","process","setTask","setImmediate","clearTask","clearImmediate","MessageChannel","Dispatch","counter","queue","ONREADYSTATECHANGE","run","id","fn","listener","event","args","Function","nextTick","port2","port1","onmessage","postMessage","addEventListener","importScripts","appendChild","removeChild","defaultsPure","omit","objectHasKeys","lib","addRefinement","refinementList","attribute","isRefined","valueAsString","facetRefinement","mod","removeRefinement","clearRefinement","toggleRefinement","Error","refinementType","hasChanged","newRefinementList","memo","facetList","refinementValue","containsRefinements","refinementValueAsString","ret","isObject","document","is","createElement","it","ARG","tryGet","B","callee","classof","getIteratorMethod","normalizeComponent","scriptExports","render","staticRenderFns","functionalTemplate","injectStyles","scopeId","moduleIdentifier","shadowMode","hook","options","_compiled","functional","_scopeId","context","$vnode","ssrContext","parent","__VUE_SSR_CONTEXT__","_registeredComponents","_ssrRegister","$root","$options","shadowRoot","_injectStyles","originalRender","existing","beforeCreate","SRC","$toString","TO_STRING","TPL","inspectSource","safe","String","dPs","IE_PROTO","Empty","PROTOTYPE","createDict","iframeDocument","iframe","lt","gt","style","display","src","contentWindow","close","emptyObject","freeze","isUndef","isDef","isTrue","isFalse","isPrimitive","obj","_toString","isPlainObject","isRegExp","isValidArrayIndex","parseFloat","isFinite","isPromise","toNumber","isNaN","makeMap","str","expectsLowerCase","list","isReservedAttribute","remove","arr","item","splice","hasOwn","cached","cache","hit","camelizeRE","camelize","_","toUpperCase","capitalize","slice","hyphenateRE","hyphenate","polyfillBind","boundFn","_length","nativeBind","bind","toArray","start","extend","to","_from","noop","no","identity","looseEqual","isObjectA","isObjectB","isArrayA","isArrayB","every","getTime","keysA","keysB","looseIndexOf","once","called","SSR_ATTR","ASSET_TYPES","LIFECYCLE_HOOKS","config","optionMergeStrategies","silent","productionTip","devtools","performance","errorHandler","warnHandler","ignoredElements","keyCodes","isReservedTag","isReservedAttr","isUnknownElement","getTagNamespace","parsePlatformTagName","mustUseProp","async","_lifecycleHooks","unicodeRegExp","isReserved","charCodeAt","def","bailRE","RegExp","parsePath","test","segments","_isServer","hasProto","inBrowser","inWeex","WXEnvironment","platform","weexPlatform","UA","navigator","isIE","isIE9","isEdge","isIOS","isFF","match","nativeWatch","watch","supportsPassive","opts","isServerRendering","env","VUE_ENV","__VUE_DEVTOOLS_GLOBAL_HOOK__","isNative","Ctor","_Set","hasSymbol","Reflect","ownKeys","Set","warn","uid","Dep","subs","addSub","sub","removeSub","depend","addDep","notify","update","targetStack","pushTarget","popTarget","VNode","tag","children","text","elm","componentOptions","asyncFactory","ns","fnContext","fnOptions","fnScopeId","componentInstance","raw","isStatic","isRootInsert","isComment","isCloned","isOnce","asyncMeta","isAsyncPlaceholder","prototypeAccessors","child","createEmptyVNode","node","createTextVNode","cloneVNode","vnode","cloned","arrayProto","arrayMethods","methodsToPatch","original","len","inserted","ob","__ob__","observeArray","dep","arrayKeys","getOwnPropertyNames","shouldObserve","toggleObserving","Observer","vmCount","protoAugment","copyAugment","walk","__proto__","observe","asRootData","isExtensible","_isVue","defineReactive$$1","customSetter","shallow","property","getter","setter","childOb","dependArray","newVal","max","del","items","strats","mergeData","toVal","fromVal","mergeDataOrFn","parentVal","childVal","vm","instanceData","defaultData","mergeHook","dedupeHooks","hooks","mergeAssets","type","key$1","props","inject","computed","provide","defaultStrat","normalizeProps","normalizeInject","normalized","normalizeDirectives","dirs","directives","def$$1","mergeOptions","_base","extends","mixins","mergeField","strat","resolveAsset","warnMissing","assets","camelizedId","PascalCaseId","validateProp","propOptions","propsData","prop","absent","booleanIndex","getTypeIndex","Boolean","stringIndex","getPropDefaultValue","prevShouldObserve","default","_props","getType","isSameType","expectedTypes","handleError","err","cur","$parent","errorCaptured","capture","globalHandleError","invokeWithErrorHandling","handler","_handled","logError","timerFunc","isUsingMicroTask","callbacks","pending","flushCallbacks","copies","MutationObserver","observer","textNode","createTextNode","characterData","cb","_resolve","seenObjects","traverse","_traverse","seen","isA","isFrozen","depId","normalizeEvent","passive","once$$1","createFnInvoker","fns","invoker","arguments$1","updateListeners","on","oldOn","remove$$1","createOnceHandler","old","mergeVNodeHook","hookKey","oldHook","wrappedHook","merged","extractPropsFromVNodeData","attrs","altKey","checkProp","hash","preserve","simpleNormalizeChildren","normalizeChildren","normalizeArrayChildren","isTextNode","nestedIndex","lastIndex","last","_isVList","initProvide","_provided","initInjections","resolveInject","provideKey","provideDefault","resolveSlots","slots","slot","name$1","isWhitespace","normalizeScopedSlots","normalSlots","prevSlots","hasNormalSlots","isStable","$stable","$key","_normalized","$hasNormal","normalizeScopedSlot","key$2","proxyNormalSlot","proxy","renderList","renderSlot","fallback","bindObject","nodes","scopedSlotFn","$scopedSlots","$slots","$createElement","resolveFilter","isKeyNotMatch","expect","actual","checkKeyCodes","eventKeyCode","builtInKeyCode","eventKeyName","builtInKeyName","mappedKeyCode","bindObjectProps","asProp","isSync","loop","domProps","camelizedKey","hyphenatedKey","$event","renderStatic","isInFor","_staticTrees","tree","_renderProxy","markStatic","markOnce","markStaticNode","bindObjectListeners","ours","resolveScopedSlots","hasDynamicKeys","contentHashKey","bindDynamicKeys","baseObj","prependModifier","symbol","installRenderHelpers","_o","_n","_s","_l","_t","_q","_i","_m","_f","_k","_b","_v","_e","_u","_g","_d","_p","FunctionalRenderContext","contextVm","this$1","_original","isCompiled","needNormalization","listeners","injections","scopedSlots","_c","createFunctionalComponent","mergeProps","renderContext","cloneAndMarkFunctionalResult","vnodes","componentVNodeHooks","init","hydrating","_isDestroyed","keepAlive","mountedNode","prepatch","createComponentInstanceForVnode","activeInstance","$mount","oldVnode","updateChildComponent","insert","_isMounted","callHook","queueActivatedComponent","activateChildComponent","destroy","deactivateChildComponent","$destroy","hooksToMerge","createComponent","baseCtor","cid","resolveAsyncComponent","createAsyncPlaceholder","resolveConstructorOptions","model","transformModel","nativeOn","abstract","installComponentHooks","_isComponent","_parentVnode","inlineTemplate","toMerge","_merged","mergeHook$1","f1","f2","callback","SIMPLE_NORMALIZE","ALWAYS_NORMALIZE","normalizationType","alwaysNormalize","_createElement","pre","applyNS","registerDeepBindings","force","class","initRender","_vnode","parentVnode","_renderChildren","parentData","_parentListeners","currentRenderingInstance","renderMixin","Vue","$nextTick","_render","ref","ensureCtor","comp","base","__esModule","toStringTag","factory","errorComp","resolved","owner","owners","loading","loadingComp","sync","timerLoading","timerTimeout","$on","forceRender","renderCompleted","$forceUpdate","reason","component","delay","getFirstComponentChild","initEvents","_events","_hasHookEvent","updateComponentListeners","remove$1","$off","_target","onceHandler","oldListeners","eventsMixin","hookRE","$once","i$1","cbs","$emit","setActiveInstance","prevActiveInstance","initLifecycle","$children","$refs","_watcher","_inactive","_directInactive","_isBeingDestroyed","lifecycleMixin","_update","prevEl","$el","prevVnode","restoreActiveInstance","__patch__","__vue__","teardown","_watchers","_data","mountComponent","el","updateComponent","Watcher","before","renderChildren","newScopedSlots","oldScopedSlots","hasDynamicScopedSlot","needsForceUpdate","$attrs","$listeners","propKeys","_propKeys","isInInactiveTree","direct","handlers","activatedChildren","waiting","flushing","resetSchedulerState","currentFlushTimestamp","getNow","createEvent","timeStamp","flushSchedulerQueue","watcher","activatedQueue","updatedQueue","callActivatedHooks","callUpdatedHooks","emit","queueWatcher","uid$2","expOrFn","isRenderWatcher","deep","user","lazy","active","dirty","deps","newDeps","depIds","newDepIds","expression","cleanupDeps","tmp","oldValue","evaluate","sharedPropertyDefinition","sourceKey","initState","initProps","initMethods","initData","initComputed","initWatch","propsOptions","isRoot","getData","computedWatcherOptions","watchers","_computedWatchers","isSSR","userDef","defineComputed","shouldCache","createComputedGetter","createGetterInvoker","createWatcher","$watch","stateMixin","dataDef","propsDef","$set","$delete","immediate","uid$3","initMixin","_init","_uid","initInternalComponent","constructor","_self","vnodeComponentOptions","_componentTag","super","superOptions","cachedSuperOptions","modifiedOptions","resolveModifiedOptions","extendOptions","components","modified","latest","sealed","sealedOptions","initUse","use","plugin","installedPlugins","_installedPlugins","unshift","install","initMixin$1","mixin","initExtend","Super","SuperId","cachedCtors","_Ctor","Sub","initProps$1","initComputed$1","Comp","initAssetRegisters","definition","getComponentName","matches","pattern","pruneCache","keepAliveInstance","cachedNode","pruneCacheEntry","current","cached$$1","patternTypes","KeepAlive","include","exclude","Number","created","destroyed","mounted","ref$1","parseInt","builtInComponents","initGlobalAPI","configDef","util","defineReactive","observable","acceptValue","attr","isEnumeratedAttr","isValidContentEditableValue","convertEnumeratedValue","isFalsyAttrValue","isBooleanAttr","xlinkNS","isXlink","getXlinkProp","genClassForVnode","parentNode","childNode","mergeClassData","renderClass","staticClass","dynamicClass","stringifyClass","stringifyArray","stringifyObject","stringified","namespaceMap","svg","math","isHTMLTag","isSVG","unknownElementCache","HTMLUnknownElement","HTMLElement","isTextInputType","selected","querySelector","createElement$1","tagName","multiple","setAttribute","createElementNS","namespace","createComment","insertBefore","newNode","referenceNode","nextSibling","setTextContent","textContent","setStyleScope","nodeOps","registerRef","isRemoval","refs","refInFor","emptyNode","sameVnode","sameInputType","typeA","typeB","createKeyToOldIdx","beginIdx","endIdx","createPatchFunction","backend","modules","emptyNodeAt","createRmCb","childElm","removeNode","createElm","insertedVnodeQueue","parentElm","refElm","nested","ownerArray","setScope","createChildren","invokeCreateHooks","isReactivated","initComponent","reactivateComponent","pendingInsert","isPatchable","innerNode","transition","activate","ref$$1","ancestor","addVnodes","startIdx","invokeDestroyHook","removeVnodes","ch","removeAndInvokeRemoveHook","rm","updateChildren","oldCh","newCh","removeOnly","oldKeyToIdx","idxInOld","vnodeToMove","oldStartIdx","newStartIdx","oldEndIdx","oldStartVnode","oldEndVnode","newEndIdx","newStartVnode","newEndVnode","canMove","patchVnode","findIdxInOld","end","hydrate","postpatch","invokeInsertHook","initial","isRenderedModule","inVPre","hasChildNodes","innerHTML","childrenMatch","firstChild","fullInvoke","isInitialPatch","isRealElement","nodeType","hasAttribute","removeAttribute","oldElm","_leaveCb","patchable","i$2","updateDirectives","oldDir","dir","isCreate","isDestroy","oldDirs","normalizeDirectives$1","newDirs","dirsWithInsert","dirsWithPostpatch","oldArg","callHook$1","componentUpdated","callInsert","emptyModifiers","modifiers","getRawDirName","rawName","baseModules","updateAttrs","inheritAttrs","oldAttrs","setAttr","removeAttributeNS","baseSetAttr","setAttributeNS","__ieph","blocker","stopImmediatePropagation","removeEventListener","updateClass","oldData","cls","transitionClass","_transitionClasses","_prevClass","target$1","klass","RANGE_TOKEN","CHECKBOX_RADIO_TOKEN","normalizeEvents","change","createOnceHandler$1","remove$2","useMicrotaskFix","add$1","attachedTimestamp","_wrapper","currentTarget","ownerDocument","updateDOMListeners","svgContainer","events","updateDOMProps","oldProps","childNodes","_value","strCur","shouldUpdateValue","checkVal","composing","isNotInFocusAndDirty","isDirtyWithModifiers","notInFocus","activeElement","_vModifiers","number","trim","parseStyleText","cssText","listDelimiter","propertyDelimiter","normalizeStyleData","normalizeStyleBinding","staticStyle","bindingStyle","getStyle","checkChild","styleData","emptyStyle","cssVarRE","importantRE","setProp","setProperty","normalizedName","normalize","vendorNames","capName","updateStyle","oldStaticStyle","oldStyleBinding","normalizedStyle","oldStyle","newStyle","whitespaceRE","addClass","classList","getAttribute","removeClass","tar","resolveTransition","css","autoCssTransition","enterClass","enterToClass","enterActiveClass","leaveClass","leaveToClass","leaveActiveClass","hasTransition","TRANSITION","ANIMATION","transitionProp","transitionEndEvent","animationProp","animationEndEvent","ontransitionend","onwebkittransitionend","onanimationend","onwebkitanimationend","raf","requestAnimationFrame","nextFrame","addTransitionClass","transitionClasses","removeTransitionClass","whenTransitionEnds","expectedType","getTransitionInfo","propCount","ended","onEnd","transformRE","styles","getComputedStyle","transitionDelays","transitionDurations","transitionTimeout","animationDelays","animationDurations","animationTimeout","hasTransform","delays","durations","toMs","enter","toggleDisplay","cancelled","_enterCb","appearClass","appearToClass","appearActiveClass","beforeEnter","afterEnter","enterCancelled","beforeAppear","appear","afterAppear","appearCancelled","duration","transitionNode","isAppear","startClass","activeClass","toClass","beforeEnterHook","enterHook","afterEnterHook","enterCancelledHook","explicitEnterDuration","expectsCSS","userWantsControl","getHookArgumentsLength","show","pendingNode","_pending","isValidDuration","leave","beforeLeave","afterLeave","leaveCancelled","delayLeave","explicitLeaveDuration","performLeave","invokerFns","_enter","platformModules","patch","vmodel","trigger","directive","binding","_vOptions","setSelected","getValue","onCompositionStart","onCompositionEnd","prevOptions","curOptions","some","needReset","hasNoMatchingOption","actuallySetSelected","isMultiple","option","selectedIndex","initEvent","dispatchEvent","locateNode","transition$$1","originalDisplay","__vOriginalDisplay","unbind","platformDirectives","transitionProps","mode","getRealChild","compOptions","extractTransitionData","placeholder","rawChild","hasParentTransition","isSameChild","oldChild","isNotTextNode","isVShowDirective","Transition","_leaving","oldRawChild","delayedLeave","moveClass","TransitionGroup","beforeMount","kept","prevChildren","rawChildren","transitionData","removed","c$1","pos","getBoundingClientRect","updated","hasMove","callPendingCbs","recordPosition","applyTranslation","_reflow","body","offsetHeight","moved","transform","WebkitTransform","transitionDuration","_moveCb","propertyName","_hasMove","cloneNode","newPos","oldPos","dx","left","dy","top","platformComponents","store","USE_SYMBOL","$exports","inherits","DerivedHelper","mainHelper","main","lastResults","EventEmitter","detach","removeAllListeners","detachDerivedHelper","getModifiedState","parameters","un","object","ArrayProto","flags","ObjectProto","AlgoliaSearchHelper","SearchParameters","SearchResults","algoliasearchHelper","client","descriptor","ceil","bitmap","isArrayIter","getIterFn","BREAK","RETURN","iterable","step","iterFn","defined","intersection","valToNumber","isValidUserToken","RefinementList","isEqualNumericRefinement","findArray","searchedValue","currentValue","newParameters","_parseNumbers","userToken","facets","disjunctiveFacets","hierarchicalFacets","facetsRefinements","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacetsRefinements","paramName","isKeyKnown","PARAMETERS","isValueDefined","partialState","numbers","numberKeys","parsedValue","insideBoundingBox","geoRect","operators","operator","parsedValues","vPrime","make","instance","facet","rootPath","currentRefinement","getHierarchicalRefinement","clearRefinements","toggleHierarchicalFacetRefinement","validate","currentState","tagFilters","numericFilters","_clearNumericRefinements","setQueryParameters","clearTags","setIndex","setQuery","newQuery","setPage","newPage","page","setFacets","setDisjunctiveFacets","setHitsPerPage","hitsPerPage","setTypoTolerance","typoTolerance","addNumericRefinement","isNumericRefined","getConjunctiveRefinements","isConjunctiveFacet","getDisjunctiveRefinements","isDisjunctiveFacet","getExcludeRefinements","removeNumericRefinement","paramValue","op","getNumericRefinements","getNumericRefinement","newNumericRefinements","operatorList","outValues","predicateResult","addFacet","addDisjunctiveFacet","addHierarchicalFacet","hierarchicalFacet","isHierarchicalFacet","addFacetRefinement","addExcludeRefinement","addDisjunctiveFacetRefinement","addTagRefinement","isTagRefined","modification","removeFacet","removeDisjunctiveFacet","removeHierarchicalFacet","removeFacetRefinement","removeExcludeRefinement","removeDisjunctiveFacetRefinement","removeTagRefinement","toggleFacetRefinement","toggleConjunctiveFacetRefinement","toggleDisjunctiveFacetRefinement","toggleExcludeFacetRefinement","separator","_getHierarchicalFacetSeparator","getHierarchicalFacetByName","upOneOrMultipleLevel","lastIndexOf","addHierarchicalFacetRefinement","isHierarchicalFacetRefined","removeHierarchicalFacetRefinement","toggleTagRefinement","isFacetRefined","isExcludeRefined","isDisjunctiveFacetRefined","refinements","isOperatorDefined","isAttributeValueDefined","getRefinedDisjunctiveFacets","disjunctiveNumericRefinedFacets","getRefinedHierarchicalFacets","getUnrefinedDisjunctiveFacets","refinedFacets","managedParameters","getQueryParams","queryParams","setQueryParameter","parameter","nextWithNumbers","previousPlainObject","acc","nextPlainObject","previous","isPreviousValueDefined","isNextValueDefined","resetPage","_getHierarchicalFacetSortBy","_getHierarchicalRootPath","_getHierarchicalShowParentLevel","showParentLevel","hierarchicalFacetName","getHierarchicalFacetBreadcrumb","refinement","part","ctor","superCtor","arr1","arr2","Internal","newGenericPromiseCapability","OwnPromiseCapability","Wrapper","aFunction","anInstance","forOf","task","microtask","newPromiseCapabilityModule","perform","PROMISE","versions","v8","$Promise","isNode","empty","newPromiseCapability","USE_NATIVE","promise","FakePromise","exec","PromiseRejectionEvent","isThenable","isReject","chain","ok","reaction","exited","fail","domain","_h","onHandleUnhandled","exit","onUnhandled","unhandled","isUnhandled","onunhandledrejection","_a","onrejectionhandled","$reject","_w","$resolve","wrapper","executor","onFulfilled","onRejected","G","capability","$$reject","iter","remaining","$index","alreadyCalled","race","SHARED","copyright","own","exp","IS_FORCED","IS_GLOBAL","IS_STATIC","IS_PROTO","IS_BIND","expProto","U","SAFE_CLOSING","riter","skipClosing","setPrototypeOf","fails","KEY","shared","valueOf","$flags","DESCRIPTORS","define","gOPS","$assign","assign","K","aLen","getSymbols","isEnum","$find","forced","__g","toInteger","min","SPECIES","percentTwenties","Format","RFC1738","RFC3986","formatters","ReflectOwnKeys","ReflectApply","receiver","ProcessEmitWarning","warning","NumberIsNaN","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","_getMaxListeners","_addListener","prepend","newListener","warned","emitter","count","onceWrapper","fired","removeListener","wrapFn","_onceWrap","state","wrapped","_listeners","unwrap","evlistener","unwrapListeners","arrayClone","listenerCount","copy","spliceOne","eventListener","errorListener","RangeError","setMaxListeners","getMaxListeners","doError","er","addListener","prependListener","prependOnceListener","position","originalListener","off","rawListeners","eventNames","stat","FProto","nameRE","macrotask","WebKitMutationObserver","head","flush","standalone","toggle","__e","Attributes","utils","arrayPrefixGenerators","brackets","prefix","comma","indices","repeat","pushToArray","valueOrArray","toISO","toISOString","defaultFormat","addQueryPrefix","allowDots","charset","charsetSentinel","delimiter","encode","encoder","encodeValuesOnly","format","formatter","serializeDate","date","skipNulls","strictNullHandling","isNonNullishPrimitive","generateArrayPrefix","maybeMap","isBuffer","keyValue","objKeys","keyPrefix","normalizeStringifyOptions","arrayFormat","joined","classNames","suit","connector","instantSearchInstance","getParentIndex","mainIndex","updateState","widget","widgetParams","addWidgets","__initialSearchResults","started","__forceRender","beforeDestroy","removeWidgets","htmlEscapes","regexUnescapedHtml","regexHasUnescapedHtml","character","_typeof","getTag","isObjectLike","_extends","enumerableOnly","symbols","sym","_objectSpread","_defineProperty","TAG_PLACEHOLDER","highlightPreTag","highlightPostTag","TAG_REPLACEMENT","replaceTagsAndEscape","recursiveEscape","input","escapeHits","hits","__escaped","_ref","_highlightResult","_snippetResult","escapeFacets","facetHits","highlighted","createDocumentationLink","_ref$connector","createDocumentationMessageGenerator","_len","widgets","_key","links","getObjectType","checkRendering","rendering","usage","buildPayload","widgetType","methodName","eventType","eventName","hitsArray","queryID","__queryID","objectIDs","objectID","positions","__position","insightsMethod","payload","createSendEventForHits","_ref2","sendEventForHits","sendEventToInsights","createBindEventForHits","_ref3","bindEventForHits","_len2","_key2","btoa","withUsage","renderFn","unmountFn","_ref$escapeHTML","escapeHTML","connectorState","$$type","initOptions","getWidgetRenderState","renderOptions","renderState","sendEvent","getRenderState","autocomplete","_ref4","_this","helper","scopedResults","refine","scopedResult","results","indexId","getWidgetUiState","uiState","_ref5","searchParameters","getWidgetSearchParameters","_ref6","dispose","_ref7","stateWithoutQuery","createWidgetMixin","connectAutocomplete","createSuitMixin","required","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","_arr","attributes","_ref$separator","_ref$rootPath","_ref$transformItems","transformItems","_attributes","breadcrumb","createURL","getItems","_state$hierarchicalFa","facetValues","getFacetValues","shiftItemsValues","facetValue","canRefine","currentItem","label","idx","instantSearchPanelEmitter","updateCanRefine","mapStateToCanRefine","hasAlreadyEmitted","connectBreadcrumb","createPanelConsumerMixin","isLastItem","_ref$attributesToClea","attributesToClear","finalState","findIndex","uniq","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","sourceSymbolKeys","sourceKeys","mergeWithRest","right","ruleContexts","rest","mergeFacets","mergeDisjunctiveFacets","nextFacets","mergeTagRefinements","mergeFacetRefinements","mergeFacetsExcludes","mergeDisjunctiveFacetsRefinements","mergeNumericRefinements","mergeHierarchicalFacetsRefinements","hierarchicalFacetsRefinementsMerged","hierarchicalFacetsMerged","tagRefinementsMerged","numericRefinementsMerged","disjunctiveFacetsRefinementsMerged","facetsExcludesMerged","facetRefinementsMerged","disjunctiveFacetsMerged","ruleContextsMerged","facetsMerged","predicate","unescapeRefinement","getRefinement","resultsFacets","resultsFacet","facetDeclaration","nameParts","getFacetRefinement","facetData","refinementKey","_loop","exhaustive","getRefinements","clearsQuery","_state$facetsRefineme","_state$facetsExcludes","_state$disjunctiveFac","_state$numericRefinem","_state$tagRefinements","refinementNames","refinementName","operatorOriginal","valueOrValues","numericValue","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","_ref$includedAttribut","includedAttributes","_ref$excludedAttribut","excludedAttributes","cachedRefine","cachedCreateURL","getAttributesToClear","indexHelper","setState","mergeSearchParameters","hasRefinements","attributeToClear","connectClearRefinements","getInitialSearchParameters","actualState","nextSearchParameters","_renderState$configur","widgetRenderState","configure","getPropertyByPath","parts","createOptionalFilter","attributeName","attributeValue","attributeScore","matchingPatterns","_ref2$transformSearch","transformSearchParameters","optionalFilters","score","attributeSubValue","sumOrFiltersScores","facetFilters","makeConfigure","currentRefinements","_createURL","accResults","getRefinementsItems","clearRefinementFromState","filterFunction","normalizeRefinement","allItems","getOperatorSymbol","normalizedRefinement","connectCurrentRefinements","noRefinement","createItemKey","filters","toLocaleUpperCase","createSendEventForFacet","sendEventForFacet","_args$","getIndex","connectHierarchicalMenu","_widgetParams$separat","_widgetParams$rootPat","_widgetParams$showPar","_widgetParams$limit","limit","_widgetParams$showMor","showMore","_widgetParams$showMor2","showMoreLimit","_widgetParams$sortBy","_widgetParams$transfo","toggleShowMore","cachedToggleShowMore","isShowingMore","createToggleShowMore","getLimit","_prepareFacetValues","_this2","subValue","hierarchicalMenu","_this3","_refine","getHasExhaustiveItems","currentLimit","maxValuesPerFacet","canToggleShowMore","withFacetConfiguration","currentMaxValuesPerFacet","nextMaxValuesPerFacet","withMaxValuesPerFacet","level","HierarchicalMenuList","preTag","postTag","highlightedValue","isHighlighted","highlightProperty","highlightedTagName","parsedHighlights","parseAlgoliaHit","AisHighlighter","selectedObjectIDs","selectedHits","queryIDs","getPositions","inferPayload","aa","withInstantSearchUsage","inferredPayload","withInsights","wrapRenderFn","isFirstRender","insights","insightsClient","addAbsolutePosition","addQueryID","bindEvent","initialEscaped","connectHitsWithInsights","userItems","defaultItems","defaultItem","normalizeItems","getRefine","createURLFactory","isCurrentInOptions","hasNoResults","nbHits","connectHitsPerPage","handleChange","resolveSearchParameters","getParent","states","getHelper","isIndexWidget","privateHelperSetState","isPageReset","_uiState","getLocalWidgetsState","widgetStateOptions","initialUiState","getWidgetState","getLocalWidgetsSearchParameters","widgetSearchParametersOptions","initialSearchParameters","resetPageFromWidgets","indexWidgets","widgetHelper","getWidgets","resolveScopedResultsFromWidgets","getIndexId","getResults","resolveScopedResultsFromIndex","widgetParent","widgetSiblings","_props$indexId","localWidgets","localUiState","localInstantSearchInstance","localParent","derivedHelper","nextState","getIndexName","_initialUiState","templatesConfig","searchMetadata","isSearchStalled","_isSearchStalled","storeRenderState","scheduleSearch","onStateChange","setUiState","searchWithoutTriggeringOnStateChange","maxFacetHits","userState","derive","scheduleStalledRender","scheduleRender","onInternalStateChange","_state","previousUiState","innerIndex","refreshUiState","parentIndexName","$_ais_getParentIndex","NAMESPACE","componentName","descendantName","modifierName","descendent","modifier","_ref$highlightedTagNa","_ref$cssClasses","cssClasses","_ref2$value","className","writeDataAttributes","serializedPayload","hoganHelpers","numberLocale","formatNumber","toLocaleString","highlight","highlightOptions","snippet","snippetOptions","_JSON$parse","nextMicroTask","progress","wait","cancel","isEqual","first","second","_Object$keys","_props$router","router","_props$stateMapping","stateMapping","simple","topLevelCreateURL","route","stateToRoute","routeToState","lastRouteState","routeState","subscribe","onUpdate","unsubscribe","_classCallCheck","_defineProperties","_createClass","protoProps","staticProps","_possibleConstructorReturn","_assertThisInitialized","_getPrototypeOf","ReferenceError","_inherits","subClass","superClass","_setPrototypeOf","defaultCreateURL","_EventEmitter","InstantSearch","hasPendingRequests","_searchStalledTimer","nextUiState","middleware","_options$indexName","_options$initialUiSta","_options$routing","routing","searchFunction","_options$stalledSearc","stalledSearchDelay","_options$searchClient","searchClient","_options$insightsClie","_options$onStateChang","helpers","compileOptions","_stalledSearchDelay","_searchFunction","routerOptions","newMiddlewareList","newMiddleware","searchOnlyWithDerivedHelpers","fakeClient","_mainHelperSearch","mainIndexHelper","searchFunctionHelper","overrideStateWithoutTriggeringChangeEvent","_this4","setIndexHelperState","indexWidget","ANONYMOUS_TOKEN_COOKIE_KEY","getCookie","cookies","cookie","substring","getInsightsAnonymousUserTokenInternal","getInsightsAnonymousUserToken","getStateWithoutPage","hasSessionStorage","sessionStorage","createInfiniteHitsSessionStorageCache","SyntaxError","$_ais_instantSearchInstance","setClient","validator","$_ais_ssrInstantSearchInstance","getInMemoryCache","cachedHits","cachedState","extractHitsFromCachedHits","showPrevious","_ref4$escapeHTML","_ref4$transformItems","_ref4$cache","getFirstReceivedPage","_state$page","pages","getLastReceivedPage","_state$page2","getShowPrevious","getShowMore","currentPageHits","infiniteHits","isFirstPage","_state$page3","_page","isLastPage","nbPages","stateWithoutPage","_ref8","widgetSearchParameters","connectInfiniteHitsWithInsights","refinePrevious","refineNext","connectMenu","menu","_helper$getHierarchic","_helper$getHierarchic2","refinedItem","facetItems","_searchParameters$get","_searchParameters$get2","showShowMoreButton","convertNumericRefinementsToFilters","filtersObj","isFiniteNumber","_ref2$attribute","_ref2$items","_ref2$transformItems","prepareItems","encodeURI","equal","numericMenu","withoutRefinements","isExact","_value$split$map","_value$split$map2","withMinRefinement","withMaxRefinement","refinedState","newState","hasNumericRefinement","resolvedState","refinedOption","decodeURI","includes","connectNumericMenu","range","_ref$start","_ref$step","limitStep","arrayLength","round","Paginator","currentPage","total","padding","totalDisplayedPages","nbPagesDisplayed","paddingLeft","calculatePaddingLeft","paddingRight","totalPages","_ref$padding","pager","getMaxPage","pagination","connectPagination","showFirst","showLast","showNext","const","createPanelProviderMixin","theme","algoliaUrl","location","hostname","hasStateRefinements","escapeRuleContext","ruleName","getRuleContextsFromTrackedFilters","sharedHelperState","trackedFilters","facetRefinements","getTrackedFacetValues","trackedFacetValues","applyRuleContexts","initialRuleContexts","transformRuleContexts","previousRuleContexts","newRuleContexts","nextRuleContexts","unmount","_ref2$trackedFilters","_ref2$transformRuleCo","rules","onHelperChange","hasTrackedFilters","_ref4$userData","userData","queryRules","connectQueryRules","toPrecision","precision","pow","minBound","maxBound","_ref2$precision","formatToNumber","toFixed","rangeFormatter","getRefinedState","currentRange","nextMin","nextMax","newNextMin","newNextMax","currentRangeMin","currentRangeMax","isResetMin","isResetMax","_toPrecision","nextMinAsNumber","nextMaxAsNumber","isResetNewNextMin","isGreaterThanCurrentRange","isMinValid","isResetNewNextMax","isLowerThanRange","isMaxValid","hasMinChange","hasMaxChange","sendEventWithRefinedState","createSendEvent","_facetValue","_getCurrentRange","stats","_getCurrentRefinement","minValue","_ref9","_ref10","maxValue","Infinity","_ref11","_ref12","_ref13","facetsFromResults","facetResult","_ref14","_ref15","_searchParameters$get3","_ref16","lowerBound","upperBound","connectRange","minInput","maxInput","minRange","maxRange","pick","getRefinedStar","connectRatingMenu","_widgetParams$max","_getRefinedStar","toggleRefinementFactory","ratingMenu","allValues","refinedStar","star","stars","withDisjunctiveFacet","connectRefinementList","_widgetParams$operato","_widgetParams$escapeF","escapeFacetValues","lastResultsFromMainSearch","triggerRefine","formatItems","_getLimit","lastItemsFromMainSearch","hasExhaustiveItems","createSearchForFacetValues","tags","normalizedFacetValues","isFromSearch","_renderOptions$isFrom","maxValuesPerFacetConfig","searchFacetValues","canShowLess","canShowMore","searchForItems","withoutMaxValuesPerFacet","isDisjunctive","autofocus","showLoadingIndicator","shouldShowLoadingIndicator","submitTitle","resetTitle","onFormSubmit","blur","onFormReset","SearchInput","AisHighlight","searchable","searchablePlaceholder","searchForFacetValuesQuery","connectStateResults","stateResults","connectSearchBox","queryHook","_clear","_cachedClear","searchBox","setQueryAndSearch","localValue","isControlled","connectSortBy","currentIndex","initialIndex","isInitialIndex","connectStats","processingTimeMS","escapeRefinement","connectToggleRefinement","_widgetParams$on","userOn","userOff","hasAnOffValue","hasAnOnValue","valuesToRemove","valuesToAdd","onFacetValue","offFacetValue","offValue","allFacetValues","onData","offData","nextRefinement","recognition","searchAsYouSpeak","language","onQueryChange","SpeechRecognitionAPI","webkitSpeechRecognition","SpeechRecognition","getDefaultState","transcript","isSpeechFinal","errorCode","isBrowserSupported","isListening","getState","resetState","onStart","onError","onResult","isFinal","startListening","interimResults","lang","stop","stopListening","_widgetParams$searchA","additionalQueryParameters","_widgetParams$createV","createVoiceSearchHelper","voiceSearch","ignorePlurals","removeStopWords","optionalWords","_voiceSearchHelper","toggleListening","voiceListeningState","additional","toReset","connectVoiceSearch","buttonTitle","disabledButtonTitle","buttonSvgAttrs","xmlns","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","errorNotAllowed","rootSlotProps","innerSlotProps","handleClick","check","buggy","hiddenKeys","sources","reduceRight","generateTrees","orderBy","prepareHierarchicalFacetSortBy","hierarchicalFacetResult","hierarchicalFacetIndex","hierarchicalFacetRefinement","hierarchicalSeparator","hierarchicalRootPath","hierarchicalShowParentLevel","rootExhaustive","generateTreeFn","generateHierarchicalTree","hierarchicalTree","currentHierarchicalLevel","subtree","picked","tuple","onlyMatchingTree","facetCount","parentPath","UNSCOPABLES","PromiseCapability","$$resolve","spaces","space","non","ltrim","rtrim","exporter","ALIAS","FORCE","string","$iterators","wks","TO_STRING_TAG","ArrayValues","DOMIterables","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList","collections","explicit","Collection","compact","formatSort","getIndices","assignFacetStats","dest","facetStats","findMatchingHierarchicalFacetFromAttributeName","hierarchicalAttributeName","facetNames","mainSubResponse","_rawResults","sum","facetsIndices","disjunctiveFacetsIndices","nextDisjunctiveResult","mainFacets","facetKey","facetValueObject","facetIndex","idxAttributeName","exhaustiveFacetsCount","isFacetDisjunctive","isFacetConjunctive","facets_stats","disjunctiveFacet","dfacet","facetResults","attributeIndex","dataFromMainRequest","refinedFacet","root","excludes","extractNormalizedFacetValues","isExcluded","recSort","sortFn","sortedChildren","vanillaSortFn","order","getFacetStatsIfAvailable","rootFacet","intermediateFacet","newFacet","getFacetByName","DEFAULT_SORT","hierarchicalFacetValues","getFacetStats","promiseCapability","toAbsoluteIndex","IS_INCLUDES","fromIndex","hexTable","compactQueue","compacted","arrayToObject","plainObjects","allowPrototypes","mergeTarget","targetItem","decode","decoder","strWithoutPlus","unescape","decodeURIComponent","defaultEncoder","escape","$0","combine","mapped","inheritIfRequired","gOPN","$trim","NUMBER","$Number","BROKEN_COF","TRIM","argument","third","radix","maxCode","NaN","code","digits","arrayLimit","depth","ignoreQueryPrefix","interpretNumericEntities","parameterLimit","parseArrays","numberStr","fromCharCode","parseArrayValue","isoSentinel","parseValues","cleanStr","skipIndex","bracketEqualsPos","encodedVal","parseObject","valuesParsed","leaf","cleanRoot","0","parseKeys","givenKey","normalizeParseOptions","tempObj","newObj","px","addToUnscopables","iterated","Arguments","compareAscending","other","valIsDefined","valIsNull","othIsDefined","othIsNull","collection","iteratees","orders","criteria","iteratee","arrayIndexOf","names","requestBuilder","_getQueries","queries","_getHitsSearchParams","_getDisjunctiveFacetSearchParams","_getHitsHierarchicalFacetsAttributes","_getFacetFilters","_getNumericFilters","_getTagFilters","additionalParams","hierarchicalRootLevel","attributesToRetrieve","attributesToHighlight","attributesToSnippet","analytics","clickAnalytics","_getDisjunctiveHierarchicalFacetAttribute","vs","orFilters","attributeToRefine","attributesIndex","allAttributes","hierarchicalRefinement","newAttributes","rootLevel","parentLevel","getSearchForFacetQuery","stateForSearchForFacetValues","searchForFacetSearchParameters","_queryId","_lastQueryIdReceived","derivedHelpers","_currentNbQueries","setCurrentPage","_change","getCurrentPage","_search","onlyWithDerivedHelpers","getQuery","searchOnce","tempState","_originalResponse","clientHasSFFV","algoliaQuery","searchForFacetValuesPromise","addDisjunctiveRefine","addRefine","addFacetExclusion","addExclude","addTag","removeDisjunctiveRefine","removeRefine","removeFacetExclusion","removeExclude","removeTag","toggleFacetExclusion","toggleExclude","toggleRefine","toggleTag","nextPage","previousPage","isDisjunctiveRefined","hasTag","hasTagRefinements","getPage","getTags","conjRefinements","excludeRefinements","disjRefinements","mainQueries","queriesCount","derivedQueries","derivedState","derivedStateQueries","queryId","_dispatchAlgoliaResponse","_dispatchAlgoliaError","specificResults","formattedResponse","containsRefinement","_hasDisjunctiveRefinements","disjunctiveRefinements","newClient","getClient","getIndexStateWithoutConfigure","trackedUiState","simpleStateMapping","forbiddenField","documentElement","qsModule","_location$port","pathname","queryString","portWithPrefix","defaultParseURL","setWindowTitle","title","BrowserHistory","windowTitle","_ref3$writeDelay","writeDelay","_ref3$createURL","_ref3$parseURL","parseURL","writeTimer","history","pushState","_onPopState"],"mappings":"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","file":"js/chunk-vendors.a758293c.js","sourcesContent":["'use strict';\nvar LIBRARY = require('./_library');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar $iterCreate = require('./_iter-create');\nvar setToStringTag = require('./_set-to-string-tag');\nvar getPrototypeOf = require('./_object-gpo');\nvar ITERATOR = require('./_wks')('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS: return function keys() { return new Constructor(this, kind); };\n      case VALUES: return function values() { return new Constructor(this, kind); };\n    } return function entries() { return new Constructor(this, kind); };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = $native || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!LIBRARY && typeof IteratorPrototype[ITERATOR] != 'function') hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() { return $native.call(this); };\n  }\n  // Define iterator\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n","'use strict';\n\nvar find = require('./find');\n\n/**\n * Transform sort format from user friendly notation to lodash format\n * @param {string[]} sortBy array of predicate of the form \"attribute:order\"\n * @param {string[]} [defaults] array of predicate of the form \"attribute:order\"\n * @return {array.<string[]>} array containing 2 elements : attributes, orders\n */\nmodule.exports = function formatSort(sortBy, defaults) {\n  var defaultInstructions = (defaults || []).map(function(sort) {\n    return sort.split(':');\n  });\n\n  return sortBy.reduce(\n    function preparePredicate(out, sort) {\n      var sortInstruction = sort.split(':');\n\n      var matchingDefault = find(defaultInstructions, function(\n        defaultInstruction\n      ) {\n        return defaultInstruction[0] === sortInstruction[0];\n      });\n\n      if (sortInstruction.length > 1 || !matchingDefault) {\n        out[0].push(sortInstruction[0]);\n        out[1].push(sortInstruction[1]);\n        return out;\n      }\n\n      out[0].push(matchingDefault[0]);\n      out[1].push(matchingDefault[1]);\n      return out;\n    },\n    [[], []]\n  );\n};\n","// https://github.com/tc39/proposal-promise-finally\n'use strict';\nvar $export = require('./_export');\nvar core = require('./_core');\nvar global = require('./_global');\nvar speciesConstructor = require('./_species-constructor');\nvar promiseResolve = require('./_promise-resolve');\n\n$export($export.P + $export.R, 'Promise', { 'finally': function (onFinally) {\n  var C = speciesConstructor(this, core.Promise || global.Promise);\n  var isFunction = typeof onFinally == 'function';\n  return this.then(\n    isFunction ? function (x) {\n      return promiseResolve(C, onFinally()).then(function () { return x; });\n    } : onFinally,\n    isFunction ? function (e) {\n      return promiseResolve(C, onFinally()).then(function () { throw e; });\n    } : onFinally\n  );\n} });\n","// 0 -> Array#forEach\n// 1 -> Array#map\n// 2 -> Array#filter\n// 3 -> Array#some\n// 4 -> Array#every\n// 5 -> Array#find\n// 6 -> Array#findIndex\nvar ctx = require('./_ctx');\nvar IObject = require('./_iobject');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar asc = require('./_array-species-create');\nmodule.exports = function (TYPE, $create) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  var create = $create || asc;\n  return function ($this, callbackfn, that) {\n    var O = toObject($this);\n    var self = IObject(O);\n    var f = ctx(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n    var val, res;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      val = self[index];\n      res = f(val, index, O);\n      if (TYPE) {\n        if (IS_MAP) result[index] = res;   // map\n        else if (res) switch (TYPE) {\n          case 3: return true;             // some\n          case 5: return val;              // find\n          case 6: return index;            // findIndex\n          case 2: result.push(val);        // filter\n        } else if (IS_EVERY) return false; // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result;\n  };\n};\n","'use strict';\n// 21.2.5.3 get RegExp.prototype.flags\nvar anObject = require('./_an-object');\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = require('./_object-keys-internal');\nvar enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n","var pIE = require('./_object-pie');\nvar createDesc = require('./_property-desc');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar has = require('./_has');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n","/*! algoliasearch-lite.umd.js | 4.8.3 | © Algolia, inc. | https://github.com/algolia/algoliasearch-client-javascript */\n!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):(e=e||self).algoliasearch=t()}(this,(function(){\"use strict\";function e(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function r(r){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?t(Object(o),!0).forEach((function(t){e(r,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))}))}return r}function n(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var u,i=e[Symbol.iterator]();!(n=(u=i.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==i.return||i.return()}finally{if(o)throw a}}return r}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}()}function a(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}()}function u(e){var t,r=\"algoliasearch-client-js-\".concat(e.key),n=function(){return void 0===t&&(t=e.localStorage||window.localStorage),t},a=function(){return JSON.parse(n().getItem(r)||\"{}\")};return{get:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return Promise.resolve().then((function(){var r=JSON.stringify(e),n=a()[r];return Promise.all([n||t(),void 0!==n])})).then((function(e){var t=o(e,2),n=t[0],a=t[1];return Promise.all([n,a||r.miss(n)])})).then((function(e){return o(e,1)[0]}))},set:function(e,t){return Promise.resolve().then((function(){var o=a();return o[JSON.stringify(e)]=t,n().setItem(r,JSON.stringify(o)),t}))},delete:function(e){return Promise.resolve().then((function(){var t=a();delete t[JSON.stringify(e)],n().setItem(r,JSON.stringify(t))}))},clear:function(){return Promise.resolve().then((function(){n().removeItem(r)}))}}}function i(e){var t=a(e.caches),r=t.shift();return void 0===r?{get:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}},n=t();return n.then((function(e){return Promise.all([e,r.miss(e)])})).then((function(e){return o(e,1)[0]}))},set:function(e,t){return Promise.resolve(t)},delete:function(e){return Promise.resolve()},clear:function(){return Promise.resolve()}}:{get:function(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return r.get(e,n,o).catch((function(){return i({caches:t}).get(e,n,o)}))},set:function(e,n){return r.set(e,n).catch((function(){return i({caches:t}).set(e,n)}))},delete:function(e){return r.delete(e).catch((function(){return i({caches:t}).delete(e)}))},clear:function(){return r.clear().catch((function(){return i({caches:t}).clear()}))}}}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{serializable:!0},t={};return{get:function(r,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}},a=JSON.stringify(r);if(a in t)return Promise.resolve(e.serializable?JSON.parse(t[a]):t[a]);var u=n(),i=o&&o.miss||function(){return Promise.resolve()};return u.then((function(e){return i(e)})).then((function(){return u}))},set:function(r,n){return t[JSON.stringify(r)]=e.serializable?JSON.stringify(n):n,Promise.resolve(n)},delete:function(e){return delete t[JSON.stringify(e)],Promise.resolve()},clear:function(){return t={},Promise.resolve()}}}function c(e){for(var t=e.length-1;t>0;t--){var r=Math.floor(Math.random()*(t+1)),n=e[t];e[t]=e[r],e[r]=n}return e}function l(e,t){return t?(Object.keys(t).forEach((function(r){e[r]=t[r](e)})),e):e}function f(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var o=0;return e.replace(/%s/g,(function(){return encodeURIComponent(r[o++])}))}var h={WithinQueryParameters:0,WithinHeaders:1};function d(e,t){var r=e||{},n=r.data||{};return Object.keys(r).forEach((function(e){-1===[\"timeout\",\"headers\",\"queryParameters\",\"data\",\"cacheable\"].indexOf(e)&&(n[e]=r[e])})),{data:Object.entries(n).length>0?n:void 0,timeout:r.timeout||t,headers:r.headers||{},queryParameters:r.queryParameters||{},cacheable:r.cacheable}}var m={Read:1,Write:2,Any:3},p=1,v=2,y=3;function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p;return r(r({},e),{},{status:t,lastUpdate:Date.now()})}function b(e){return\"string\"==typeof e?{protocol:\"https\",url:e,accept:m.Any}:{protocol:e.protocol||\"https\",url:e.url,accept:e.accept||m.Any}}var O=\"GET\",P=\"POST\";function q(e,t){return Promise.all(t.map((function(t){return e.get(t,(function(){return Promise.resolve(g(t))}))}))).then((function(e){var r=e.filter((function(e){return function(e){return e.status===p||Date.now()-e.lastUpdate>12e4}(e)})),n=e.filter((function(e){return function(e){return e.status===y&&Date.now()-e.lastUpdate<=12e4}(e)})),o=[].concat(a(r),a(n));return{getTimeout:function(e,t){return(0===n.length&&0===e?1:n.length+3+e)*t},statelessHosts:o.length>0?o.map((function(e){return b(e)})):t}}))}function j(e,t,n,o){var u=[],i=function(e,t){if(e.method===O||void 0===e.data&&void 0===t.data)return;var n=Array.isArray(e.data)?e.data:r(r({},e.data),t.data);return JSON.stringify(n)}(n,o),s=function(e,t){var n=r(r({},e.headers),t.headers),o={};return Object.keys(n).forEach((function(e){var t=n[e];o[e.toLowerCase()]=t})),o}(e,o),c=n.method,l=n.method!==O?{}:r(r({},n.data),o.data),f=r(r(r({\"x-algolia-agent\":e.userAgent.value},e.queryParameters),l),o.queryParameters),h=0,d=function t(r,a){var l=r.pop();if(void 0===l)throw{name:\"RetryError\",message:\"Unreachable hosts - your application id may be incorrect. If the error persists, contact support@algolia.com.\",transporterStackTrace:A(u)};var d={data:i,headers:s,method:c,url:S(l,n.path,f),connectTimeout:a(h,e.timeouts.connect),responseTimeout:a(h,o.timeout)},m=function(e){var t={request:d,response:e,host:l,triesLeft:r.length};return u.push(t),t},p={onSucess:function(e){return function(e){try{return JSON.parse(e.content)}catch(t){throw function(e,t){return{name:\"DeserializationError\",message:e,response:t}}(t.message,e)}}(e)},onRetry:function(n){var o=m(n);return n.isTimedOut&&h++,Promise.all([e.logger.info(\"Retryable failure\",x(o)),e.hostsCache.set(l,g(l,n.isTimedOut?y:v))]).then((function(){return t(r,a)}))},onFail:function(e){throw m(e),function(e,t){var r=e.content,n=e.status,o=r;try{o=JSON.parse(r).message}catch(e){}return function(e,t,r){return{name:\"ApiError\",message:e,status:t,transporterStackTrace:r}}(o,n,t)}(e,A(u))}};return e.requester.send(d).then((function(e){return function(e,t){return function(e){var t=e.status;return e.isTimedOut||function(e){var t=e.isTimedOut,r=e.status;return!t&&0==~~r}(e)||2!=~~(t/100)&&4!=~~(t/100)}(e)?t.onRetry(e):2==~~(e.status/100)?t.onSucess(e):t.onFail(e)}(e,p)}))};return q(e.hostsCache,t).then((function(e){return d(a(e.statelessHosts).reverse(),e.getTimeout)}))}function w(e){var t={value:\"Algolia for JavaScript (\".concat(e,\")\"),add:function(e){var r=\"; \".concat(e.segment).concat(void 0!==e.version?\" (\".concat(e.version,\")\"):\"\");return-1===t.value.indexOf(r)&&(t.value=\"\".concat(t.value).concat(r)),t}};return t}function S(e,t,r){var n=T(r),o=\"\".concat(e.protocol,\"://\").concat(e.url,\"/\").concat(\"/\"===t.charAt(0)?t.substr(1):t);return n.length&&(o+=\"?\".concat(n)),o}function T(e){return Object.keys(e).map((function(t){return f(\"%s=%s\",t,(r=e[t],\"[object Object]\"===Object.prototype.toString.call(r)||\"[object Array]\"===Object.prototype.toString.call(r)?JSON.stringify(e[t]):e[t]));var r})).join(\"&\")}function A(e){return e.map((function(e){return x(e)}))}function x(e){var t=e.request.headers[\"x-algolia-api-key\"]?{\"x-algolia-api-key\":\"*****\"}:{};return r(r({},e),{},{request:r(r({},e.request),{},{headers:r(r({},e.request.headers),t)})})}var N=function(e){var t=e.appId,n=function(e,t,r){var n={\"x-algolia-api-key\":r,\"x-algolia-application-id\":t};return{headers:function(){return e===h.WithinHeaders?n:{}},queryParameters:function(){return e===h.WithinQueryParameters?n:{}}}}(void 0!==e.authMode?e.authMode:h.WithinHeaders,t,e.apiKey),a=function(e){var t=e.hostsCache,r=e.logger,n=e.requester,a=e.requestsCache,u=e.responsesCache,i=e.timeouts,s=e.userAgent,c=e.hosts,l=e.queryParameters,f={hostsCache:t,logger:r,requester:n,requestsCache:a,responsesCache:u,timeouts:i,userAgent:s,headers:e.headers,queryParameters:l,hosts:c.map((function(e){return b(e)})),read:function(e,t){var r=d(t,f.timeouts.read),n=function(){return j(f,f.hosts.filter((function(e){return 0!=(e.accept&m.Read)})),e,r)};if(!0!==(void 0!==r.cacheable?r.cacheable:e.cacheable))return n();var a={request:e,mappedRequestOptions:r,transporter:{queryParameters:f.queryParameters,headers:f.headers}};return f.responsesCache.get(a,(function(){return f.requestsCache.get(a,(function(){return f.requestsCache.set(a,n()).then((function(e){return Promise.all([f.requestsCache.delete(a),e])}),(function(e){return Promise.all([f.requestsCache.delete(a),Promise.reject(e)])})).then((function(e){var t=o(e,2);t[0];return t[1]}))}))}),{miss:function(e){return f.responsesCache.set(a,e)}})},write:function(e,t){return j(f,f.hosts.filter((function(e){return 0!=(e.accept&m.Write)})),e,d(t,f.timeouts.write))}};return f}(r(r({hosts:[{url:\"\".concat(t,\"-dsn.algolia.net\"),accept:m.Read},{url:\"\".concat(t,\".algolia.net\"),accept:m.Write}].concat(c([{url:\"\".concat(t,\"-1.algolianet.com\")},{url:\"\".concat(t,\"-2.algolianet.com\")},{url:\"\".concat(t,\"-3.algolianet.com\")}]))},e),{},{headers:r(r(r({},n.headers()),{\"content-type\":\"application/x-www-form-urlencoded\"}),e.headers),queryParameters:r(r({},n.queryParameters()),e.queryParameters)}));return l({transporter:a,appId:t,addAlgoliaAgent:function(e,t){a.userAgent.add({segment:e,version:t})},clearCache:function(){return Promise.all([a.requestsCache.clear(),a.responsesCache.clear()]).then((function(){}))}},e.methods)},C=function(e){return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={transporter:e.transporter,appId:e.appId,indexName:t};return l(n,r.methods)}},k=function(e){return function(t,n){var o=t.map((function(e){return r(r({},e),{},{params:T(e.params||{})})}));return e.transporter.read({method:P,path:\"1/indexes/*/queries\",data:{requests:o},cacheable:!0},n)}},J=function(e){return function(t,o){return Promise.all(t.map((function(t){var a=t.params,u=a.facetName,i=a.facetQuery,s=n(a,[\"facetName\",\"facetQuery\"]);return C(e)(t.indexName,{methods:{searchForFacetValues:F}}).searchForFacetValues(u,i,r(r({},o),s))})))}},E=function(e){return function(t,r,n){return e.transporter.read({method:P,path:f(\"1/answers/%s/prediction\",e.indexName),data:{query:t,queryLanguages:r},cacheable:!0},n)}},I=function(e){return function(t,r){return e.transporter.read({method:P,path:f(\"1/indexes/%s/query\",e.indexName),data:{query:t},cacheable:!0},r)}},F=function(e){return function(t,r,n){return e.transporter.read({method:P,path:f(\"1/indexes/%s/facets/%s/query\",e.indexName,t),data:{facetQuery:r},cacheable:!0},n)}},R=1,D=2,W=3;function H(e,t,n){var o,a={appId:e,apiKey:t,timeouts:{connect:1,read:2,write:30},requester:{send:function(e){return new Promise((function(t){var r=new XMLHttpRequest;r.open(e.method,e.url,!0),Object.keys(e.headers).forEach((function(t){return r.setRequestHeader(t,e.headers[t])}));var n,o=function(e,n){return setTimeout((function(){r.abort(),t({status:0,content:n,isTimedOut:!0})}),1e3*e)},a=o(e.connectTimeout,\"Connection timeout\");r.onreadystatechange=function(){r.readyState>r.OPENED&&void 0===n&&(clearTimeout(a),n=o(e.responseTimeout,\"Socket timeout\"))},r.onerror=function(){0===r.status&&(clearTimeout(a),clearTimeout(n),t({content:r.responseText||\"Network request failed\",status:r.status,isTimedOut:!1}))},r.onload=function(){clearTimeout(a),clearTimeout(n),t({content:r.responseText,status:r.status,isTimedOut:!1})},r.send(e.data)}))}},logger:(o=W,{debug:function(e,t){return R>=o&&console.debug(e,t),Promise.resolve()},info:function(e,t){return D>=o&&console.info(e,t),Promise.resolve()},error:function(e,t){return console.error(e,t),Promise.resolve()}}),responsesCache:s(),requestsCache:s({serializable:!1}),hostsCache:i({caches:[u({key:\"\".concat(\"4.8.3\",\"-\").concat(e)}),s()]}),userAgent:w(\"4.8.3\").add({segment:\"Browser\",version:\"lite\"}),authMode:h.WithinQueryParameters};return N(r(r(r({},a),n),{},{methods:{search:k,searchForFacetValues:J,multipleQueries:k,multipleSearchForFacetValues:J,initIndex:function(e){return function(t){return C(e)(t,{methods:{search:I,searchForFacetValues:F,findAnswers:E}})}}}}))}return H.version=\"4.8.3\",H}));\n","var dP = require('./_object-dp');\nvar anObject = require('./_an-object');\nvar getKeys = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n","'use strict';\n\nfunction clone(value) {\n  if (typeof value === 'object' && value !== null) {\n    return _merge(Array.isArray(value) ? [] : {}, value);\n  }\n  return value;\n}\n\nfunction isObjectOrArrayOrFunction(value) {\n  return (\n    typeof value === 'function' ||\n    Array.isArray(value) ||\n    Object.prototype.toString.call(value) === '[object Object]'\n  );\n}\n\nfunction _merge(target, source) {\n  if (target === source) {\n    return target;\n  }\n\n  for (var key in source) {\n    if (!Object.prototype.hasOwnProperty.call(source, key)) {\n      continue;\n    }\n\n    var sourceVal = source[key];\n    var targetVal = target[key];\n\n    if (typeof targetVal !== 'undefined' && typeof sourceVal === 'undefined') {\n      continue;\n    }\n\n    if (isObjectOrArrayOrFunction(targetVal) && isObjectOrArrayOrFunction(sourceVal)) {\n      target[key] = _merge(targetVal, sourceVal);\n    } else {\n      target[key] = clone(sourceVal);\n    }\n  }\n  return target;\n}\n\n/**\n * This method is like Object.assign, but recursively merges own and inherited\n * enumerable keyed properties of source objects into the destination object.\n *\n * NOTE: this behaves like lodash/merge, but:\n * - does mutate functions if they are a source\n * - treats non-plain objects as plain\n * - does not work for circular objects\n * - treats sparse arrays as sparse\n * - does not convert Array-like objects (Arguments, NodeLists, etc.) to arrays\n *\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n */\n\nfunction merge(target) {\n  if (!isObjectOrArrayOrFunction(target)) {\n    target = {};\n  }\n\n  for (var i = 1, l = arguments.length; i < l; i++) {\n    var source = arguments[i];\n\n    if (isObjectOrArrayOrFunction(source)) {\n      _merge(target, source);\n    }\n  }\n  return target;\n}\n\nmodule.exports = merge;\n","'use strict';\n\nvar stringify = require('./stringify');\nvar parse = require('./parse');\nvar formats = require('./formats');\n\nmodule.exports = {\n    formats: formats,\n    parse: parse,\n    stringify: stringify\n};\n","'use strict';\n\n// @MAJOR can be replaced by native Array#find when we change support\nmodule.exports = function find(array, comparator) {\n  if (!Array.isArray(array)) {\n    return undefined;\n  }\n\n  for (var i = 0; i < array.length; i++) {\n    if (comparator(array[i])) {\n      return array[i];\n    }\n  }\n};\n","var ctx = require('./_ctx');\nvar invoke = require('./_invoke');\nvar html = require('./_html');\nvar cel = require('./_dom-create');\nvar global = require('./_global');\nvar process = global.process;\nvar setTask = global.setImmediate;\nvar clearTask = global.clearImmediate;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\nvar run = function () {\n  var id = +this;\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\nvar listener = function (event) {\n  run.call(event.data);\n};\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!setTask || !clearTask) {\n  setTask = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clearTask = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (require('./_cof')(process) == 'process') {\n    defer = function (id) {\n      process.nextTick(ctx(run, id, 1));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(ctx(run, id, 1));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  } else if (MessageChannel) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = ctx(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (global.addEventListener && typeof postMessage == 'function' && !global.importScripts) {\n    defer = function (id) {\n      global.postMessage(id + '', '*');\n    };\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in cel('script')) {\n    defer = function (id) {\n      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run.call(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(ctx(run, id, 1), 0);\n    };\n  }\n}\nmodule.exports = {\n  set: setTask,\n  clear: clearTask\n};\n","'use strict';\n\n/**\n * Functions to manipulate refinement lists\n *\n * The RefinementList is not formally defined through a prototype but is based\n * on a specific structure.\n *\n * @module SearchParameters.refinementList\n *\n * @typedef {string[]} SearchParameters.refinementList.Refinements\n * @typedef {Object.<string, SearchParameters.refinementList.Refinements>} SearchParameters.refinementList.RefinementList\n */\n\nvar defaultsPure = require('../functions/defaultsPure');\nvar omit = require('../functions/omit');\nvar objectHasKeys = require('../functions/objectHasKeys');\n\nvar lib = {\n  /**\n   * Adds a refinement to a RefinementList\n   * @param {RefinementList} refinementList the initial list\n   * @param {string} attribute the attribute to refine\n   * @param {string} value the value of the refinement, if the value is not a string it will be converted\n   * @return {RefinementList} a new and updated refinement list\n   */\n  addRefinement: function addRefinement(refinementList, attribute, value) {\n    if (lib.isRefined(refinementList, attribute, value)) {\n      return refinementList;\n    }\n\n    var valueAsString = '' + value;\n\n    var facetRefinement = !refinementList[attribute] ?\n      [valueAsString] :\n      refinementList[attribute].concat(valueAsString);\n\n    var mod = {};\n\n    mod[attribute] = facetRefinement;\n\n    return defaultsPure({}, mod, refinementList);\n  },\n  /**\n   * Removes refinement(s) for an attribute:\n   *  - if the value is specified removes the refinement for the value on the attribute\n   *  - if no value is specified removes all the refinements for this attribute\n   * @param {RefinementList} refinementList the initial list\n   * @param {string} attribute the attribute to refine\n   * @param {string} [value] the value of the refinement\n   * @return {RefinementList} a new and updated refinement lst\n   */\n  removeRefinement: function removeRefinement(refinementList, attribute, value) {\n    if (value === undefined) {\n      // we use the \"filter\" form of clearRefinement, since it leaves empty values as-is\n      // the form with a string will remove the attribute completely\n      return lib.clearRefinement(refinementList, function(v, f) {\n        return attribute === f;\n      });\n    }\n\n    var valueAsString = '' + value;\n\n    return lib.clearRefinement(refinementList, function(v, f) {\n      return attribute === f && valueAsString === v;\n    });\n  },\n  /**\n   * Toggles the refinement value for an attribute.\n   * @param {RefinementList} refinementList the initial list\n   * @param {string} attribute the attribute to refine\n   * @param {string} value the value of the refinement\n   * @return {RefinementList} a new and updated list\n   */\n  toggleRefinement: function toggleRefinement(refinementList, attribute, value) {\n    if (value === undefined) throw new Error('toggleRefinement should be used with a value');\n\n    if (lib.isRefined(refinementList, attribute, value)) {\n      return lib.removeRefinement(refinementList, attribute, value);\n    }\n\n    return lib.addRefinement(refinementList, attribute, value);\n  },\n  /**\n   * Clear all or parts of a RefinementList. Depending on the arguments, three\n   * kinds of behavior can happen:\n   *  - if no attribute is provided: clears the whole list\n   *  - if an attribute is provided as a string: clears the list for the specific attribute\n   *  - if an attribute is provided as a function: discards the elements for which the function returns true\n   * @param {RefinementList} refinementList the initial list\n   * @param {string} [attribute] the attribute or function to discard\n   * @param {string} [refinementType] optional parameter to give more context to the attribute function\n   * @return {RefinementList} a new and updated refinement list\n   */\n  clearRefinement: function clearRefinement(refinementList, attribute, refinementType) {\n    if (attribute === undefined) {\n      if (!objectHasKeys(refinementList)) {\n        return refinementList;\n      }\n      return {};\n    } else if (typeof attribute === 'string') {\n      return omit(refinementList, [attribute]);\n    } else if (typeof attribute === 'function') {\n      var hasChanged = false;\n\n      var newRefinementList = Object.keys(refinementList).reduce(function(memo, key) {\n        var values = refinementList[key] || [];\n        var facetList = values.filter(function(value) {\n          return !attribute(value, key, refinementType);\n        });\n\n        if (facetList.length !== values.length) {\n          hasChanged = true;\n        }\n        memo[key] = facetList;\n\n        return memo;\n      }, {});\n\n      if (hasChanged) return newRefinementList;\n      return refinementList;\n    }\n  },\n  /**\n   * Test if the refinement value is used for the attribute. If no refinement value\n   * is provided, test if the refinementList contains any refinement for the\n   * given attribute.\n   * @param {RefinementList} refinementList the list of refinement\n   * @param {string} attribute name of the attribute\n   * @param {string} [refinementValue] value of the filter/refinement\n   * @return {boolean}\n   */\n  isRefined: function isRefined(refinementList, attribute, refinementValue) {\n    var containsRefinements = !!refinementList[attribute] &&\n      refinementList[attribute].length > 0;\n\n    if (refinementValue === undefined || !containsRefinements) {\n      return containsRefinements;\n    }\n\n    var refinementValueAsString = '' + refinementValue;\n\n    return refinementList[attribute].indexOf(refinementValueAsString) !== -1;\n  }\n};\n\nmodule.exports = lib;\n","// call something on iterator step with safe closing on error\nvar anObject = require('./_an-object');\nmodule.exports = function (iterator, fn, value, entries) {\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (e) {\n    var ret = iterator['return'];\n    if (ret !== undefined) anObject(ret.call(iterator));\n    throw e;\n  }\n};\n","var isObject = require('./_is-object');\nvar document = require('./_global').document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n","// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = require('./_cof');\nvar TAG = require('./_wks')('toStringTag');\n// ES3 wrong here\nvar ARG = cof(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (e) { /* empty */ }\n};\n\nmodule.exports = function (it) {\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n","exports.f = Object.getOwnPropertySymbols;\n","var classof = require('./_classof');\nvar ITERATOR = require('./_wks')('iterator');\nvar Iterators = require('./_iterators');\nmodule.exports = require('./_core').getIteratorMethod = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n","/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file (except for modules).\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nexport default function normalizeComponent (\n  scriptExports,\n  render,\n  staticRenderFns,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier, /* server only */\n  shadowMode /* vue-cli only */\n) {\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (render) {\n    options.render = render\n    options.staticRenderFns = staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = 'data-v-' + scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) { // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = shadowMode\n      ? function () {\n        injectStyles.call(\n          this,\n          (options.functional ? this.parent : this).$root.$options.shadowRoot\n        )\n      }\n      : injectStyles\n  }\n\n  if (hook) {\n    if (options.functional) {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functional component in vue file\n      var originalRender = options.render\n      options.render = function renderWithStyleInjection (h, context) {\n        hook.call(context)\n        return originalRender(h, context)\n      }\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate\n      options.beforeCreate = existing\n        ? [].concat(existing, hook)\n        : [hook]\n    }\n  }\n\n  return {\n    exports: scriptExports,\n    options: options\n  }\n}\n","var global = require('./_global');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar SRC = require('./_uid')('src');\nvar $toString = require('./_function-to-string');\nvar TO_STRING = 'toString';\nvar TPL = ('' + $toString).split(TO_STRING);\n\nrequire('./_core').inspectSource = function (it) {\n  return $toString.call(it);\n};\n\n(module.exports = function (O, key, val, safe) {\n  var isFunction = typeof val == 'function';\n  if (isFunction) has(val, 'name') || hide(val, 'name', key);\n  if (O[key] === val) return;\n  if (isFunction) has(val, SRC) || hide(val, SRC, O[key] ? '' + O[key] : TPL.join(String(key)));\n  if (O === global) {\n    O[key] = val;\n  } else if (!safe) {\n    delete O[key];\n    hide(O, key, val);\n  } else if (O[key]) {\n    O[key] = val;\n  } else {\n    hide(O, key, val);\n  }\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, TO_STRING, function toString() {\n  return typeof this == 'function' && this[SRC] || $toString.call(this);\n});\n","// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = require('./_an-object');\nvar dPs = require('./_object-dps');\nvar enumBugKeys = require('./_enum-bug-keys');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe');\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n","/*!\n * Vue.js v2.6.12\n * (c) 2014-2020 Evan You\n * Released under the MIT License.\n */\n/*  */\n\nvar emptyObject = Object.freeze({});\n\n// These helpers produce better VM code in JS engines due to their\n// explicitness and function inlining.\nfunction isUndef (v) {\n  return v === undefined || v === null\n}\n\nfunction isDef (v) {\n  return v !== undefined && v !== null\n}\n\nfunction isTrue (v) {\n  return v === true\n}\n\nfunction isFalse (v) {\n  return v === false\n}\n\n/**\n * Check if value is primitive.\n */\nfunction isPrimitive (value) {\n  return (\n    typeof value === 'string' ||\n    typeof value === 'number' ||\n    // $flow-disable-line\n    typeof value === 'symbol' ||\n    typeof value === 'boolean'\n  )\n}\n\n/**\n * Quick object check - this is primarily used to tell\n * Objects from primitive values when we know the value\n * is a JSON-compliant type.\n */\nfunction isObject (obj) {\n  return obj !== null && typeof obj === 'object'\n}\n\n/**\n * Get the raw type string of a value, e.g., [object Object].\n */\nvar _toString = Object.prototype.toString;\n\nfunction toRawType (value) {\n  return _toString.call(value).slice(8, -1)\n}\n\n/**\n * Strict object type check. Only returns true\n * for plain JavaScript objects.\n */\nfunction isPlainObject (obj) {\n  return _toString.call(obj) === '[object Object]'\n}\n\nfunction isRegExp (v) {\n  return _toString.call(v) === '[object RegExp]'\n}\n\n/**\n * Check if val is a valid array index.\n */\nfunction isValidArrayIndex (val) {\n  var n = parseFloat(String(val));\n  return n >= 0 && Math.floor(n) === n && isFinite(val)\n}\n\nfunction isPromise (val) {\n  return (\n    isDef(val) &&\n    typeof val.then === 'function' &&\n    typeof val.catch === 'function'\n  )\n}\n\n/**\n * Convert a value to a string that is actually rendered.\n */\nfunction toString (val) {\n  return val == null\n    ? ''\n    : Array.isArray(val) || (isPlainObject(val) && val.toString === _toString)\n      ? JSON.stringify(val, null, 2)\n      : String(val)\n}\n\n/**\n * Convert an input value to a number for persistence.\n * If the conversion fails, return original string.\n */\nfunction toNumber (val) {\n  var n = parseFloat(val);\n  return isNaN(n) ? val : n\n}\n\n/**\n * Make a map and return a function for checking if a key\n * is in that map.\n */\nfunction makeMap (\n  str,\n  expectsLowerCase\n) {\n  var map = Object.create(null);\n  var list = str.split(',');\n  for (var i = 0; i < list.length; i++) {\n    map[list[i]] = true;\n  }\n  return expectsLowerCase\n    ? function (val) { return map[val.toLowerCase()]; }\n    : function (val) { return map[val]; }\n}\n\n/**\n * Check if a tag is a built-in tag.\n */\nvar isBuiltInTag = makeMap('slot,component', true);\n\n/**\n * Check if an attribute is a reserved attribute.\n */\nvar isReservedAttribute = makeMap('key,ref,slot,slot-scope,is');\n\n/**\n * Remove an item from an array.\n */\nfunction remove (arr, item) {\n  if (arr.length) {\n    var index = arr.indexOf(item);\n    if (index > -1) {\n      return arr.splice(index, 1)\n    }\n  }\n}\n\n/**\n * Check whether an object has the property.\n */\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nfunction hasOwn (obj, key) {\n  return hasOwnProperty.call(obj, key)\n}\n\n/**\n * Create a cached version of a pure function.\n */\nfunction cached (fn) {\n  var cache = Object.create(null);\n  return (function cachedFn (str) {\n    var hit = cache[str];\n    return hit || (cache[str] = fn(str))\n  })\n}\n\n/**\n * Camelize a hyphen-delimited string.\n */\nvar camelizeRE = /-(\\w)/g;\nvar camelize = cached(function (str) {\n  return str.replace(camelizeRE, function (_, c) { return c ? c.toUpperCase() : ''; })\n});\n\n/**\n * Capitalize a string.\n */\nvar capitalize = cached(function (str) {\n  return str.charAt(0).toUpperCase() + str.slice(1)\n});\n\n/**\n * Hyphenate a camelCase string.\n */\nvar hyphenateRE = /\\B([A-Z])/g;\nvar hyphenate = cached(function (str) {\n  return str.replace(hyphenateRE, '-$1').toLowerCase()\n});\n\n/**\n * Simple bind polyfill for environments that do not support it,\n * e.g., PhantomJS 1.x. Technically, we don't need this anymore\n * since native bind is now performant enough in most browsers.\n * But removing it would mean breaking code that was able to run in\n * PhantomJS 1.x, so this must be kept for backward compatibility.\n */\n\n/* istanbul ignore next */\nfunction polyfillBind (fn, ctx) {\n  function boundFn (a) {\n    var l = arguments.length;\n    return l\n      ? l > 1\n        ? fn.apply(ctx, arguments)\n        : fn.call(ctx, a)\n      : fn.call(ctx)\n  }\n\n  boundFn._length = fn.length;\n  return boundFn\n}\n\nfunction nativeBind (fn, ctx) {\n  return fn.bind(ctx)\n}\n\nvar bind = Function.prototype.bind\n  ? nativeBind\n  : polyfillBind;\n\n/**\n * Convert an Array-like object to a real Array.\n */\nfunction toArray (list, start) {\n  start = start || 0;\n  var i = list.length - start;\n  var ret = new Array(i);\n  while (i--) {\n    ret[i] = list[i + start];\n  }\n  return ret\n}\n\n/**\n * Mix properties into target object.\n */\nfunction extend (to, _from) {\n  for (var key in _from) {\n    to[key] = _from[key];\n  }\n  return to\n}\n\n/**\n * Merge an Array of Objects into a single Object.\n */\nfunction toObject (arr) {\n  var res = {};\n  for (var i = 0; i < arr.length; i++) {\n    if (arr[i]) {\n      extend(res, arr[i]);\n    }\n  }\n  return res\n}\n\n/* eslint-disable no-unused-vars */\n\n/**\n * Perform no operation.\n * Stubbing args to make Flow happy without leaving useless transpiled code\n * with ...rest (https://flow.org/blog/2017/05/07/Strict-Function-Call-Arity/).\n */\nfunction noop (a, b, c) {}\n\n/**\n * Always return false.\n */\nvar no = function (a, b, c) { return false; };\n\n/* eslint-enable no-unused-vars */\n\n/**\n * Return the same value.\n */\nvar identity = function (_) { return _; };\n\n/**\n * Check if two values are loosely equal - that is,\n * if they are plain objects, do they have the same shape?\n */\nfunction looseEqual (a, b) {\n  if (a === b) { return true }\n  var isObjectA = isObject(a);\n  var isObjectB = isObject(b);\n  if (isObjectA && isObjectB) {\n    try {\n      var isArrayA = Array.isArray(a);\n      var isArrayB = Array.isArray(b);\n      if (isArrayA && isArrayB) {\n        return a.length === b.length && a.every(function (e, i) {\n          return looseEqual(e, b[i])\n        })\n      } else if (a instanceof Date && b instanceof Date) {\n        return a.getTime() === b.getTime()\n      } else if (!isArrayA && !isArrayB) {\n        var keysA = Object.keys(a);\n        var keysB = Object.keys(b);\n        return keysA.length === keysB.length && keysA.every(function (key) {\n          return looseEqual(a[key], b[key])\n        })\n      } else {\n        /* istanbul ignore next */\n        return false\n      }\n    } catch (e) {\n      /* istanbul ignore next */\n      return false\n    }\n  } else if (!isObjectA && !isObjectB) {\n    return String(a) === String(b)\n  } else {\n    return false\n  }\n}\n\n/**\n * Return the first index at which a loosely equal value can be\n * found in the array (if value is a plain object, the array must\n * contain an object of the same shape), or -1 if it is not present.\n */\nfunction looseIndexOf (arr, val) {\n  for (var i = 0; i < arr.length; i++) {\n    if (looseEqual(arr[i], val)) { return i }\n  }\n  return -1\n}\n\n/**\n * Ensure a function is called only once.\n */\nfunction once (fn) {\n  var called = false;\n  return function () {\n    if (!called) {\n      called = true;\n      fn.apply(this, arguments);\n    }\n  }\n}\n\nvar SSR_ATTR = 'data-server-rendered';\n\nvar ASSET_TYPES = [\n  'component',\n  'directive',\n  'filter'\n];\n\nvar LIFECYCLE_HOOKS = [\n  'beforeCreate',\n  'created',\n  'beforeMount',\n  'mounted',\n  'beforeUpdate',\n  'updated',\n  'beforeDestroy',\n  'destroyed',\n  'activated',\n  'deactivated',\n  'errorCaptured',\n  'serverPrefetch'\n];\n\n/*  */\n\n\n\nvar config = ({\n  /**\n   * Option merge strategies (used in core/util/options)\n   */\n  // $flow-disable-line\n  optionMergeStrategies: Object.create(null),\n\n  /**\n   * Whether to suppress warnings.\n   */\n  silent: false,\n\n  /**\n   * Show production mode tip message on boot?\n   */\n  productionTip: process.env.NODE_ENV !== 'production',\n\n  /**\n   * Whether to enable devtools\n   */\n  devtools: process.env.NODE_ENV !== 'production',\n\n  /**\n   * Whether to record perf\n   */\n  performance: false,\n\n  /**\n   * Error handler for watcher errors\n   */\n  errorHandler: null,\n\n  /**\n   * Warn handler for watcher warns\n   */\n  warnHandler: null,\n\n  /**\n   * Ignore certain custom elements\n   */\n  ignoredElements: [],\n\n  /**\n   * Custom user key aliases for v-on\n   */\n  // $flow-disable-line\n  keyCodes: Object.create(null),\n\n  /**\n   * Check if a tag is reserved so that it cannot be registered as a\n   * component. This is platform-dependent and may be overwritten.\n   */\n  isReservedTag: no,\n\n  /**\n   * Check if an attribute is reserved so that it cannot be used as a component\n   * prop. This is platform-dependent and may be overwritten.\n   */\n  isReservedAttr: no,\n\n  /**\n   * Check if a tag is an unknown element.\n   * Platform-dependent.\n   */\n  isUnknownElement: no,\n\n  /**\n   * Get the namespace of an element\n   */\n  getTagNamespace: noop,\n\n  /**\n   * Parse the real tag name for the specific platform.\n   */\n  parsePlatformTagName: identity,\n\n  /**\n   * Check if an attribute must be bound using property, e.g. value\n   * Platform-dependent.\n   */\n  mustUseProp: no,\n\n  /**\n   * Perform updates asynchronously. Intended to be used by Vue Test Utils\n   * This will significantly reduce performance if set to false.\n   */\n  async: true,\n\n  /**\n   * Exposed for legacy reasons\n   */\n  _lifecycleHooks: LIFECYCLE_HOOKS\n});\n\n/*  */\n\n/**\n * unicode letters used for parsing html tags, component names and property paths.\n * using https://www.w3.org/TR/html53/semantics-scripting.html#potentialcustomelementname\n * skipping \\u10000-\\uEFFFF due to it freezing up PhantomJS\n */\nvar unicodeRegExp = /a-zA-Z\\u00B7\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u203F-\\u2040\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD/;\n\n/**\n * Check if a string starts with $ or _\n */\nfunction isReserved (str) {\n  var c = (str + '').charCodeAt(0);\n  return c === 0x24 || c === 0x5F\n}\n\n/**\n * Define a property.\n */\nfunction def (obj, key, val, enumerable) {\n  Object.defineProperty(obj, key, {\n    value: val,\n    enumerable: !!enumerable,\n    writable: true,\n    configurable: true\n  });\n}\n\n/**\n * Parse simple path.\n */\nvar bailRE = new RegExp((\"[^\" + (unicodeRegExp.source) + \".$_\\\\d]\"));\nfunction parsePath (path) {\n  if (bailRE.test(path)) {\n    return\n  }\n  var segments = path.split('.');\n  return function (obj) {\n    for (var i = 0; i < segments.length; i++) {\n      if (!obj) { return }\n      obj = obj[segments[i]];\n    }\n    return obj\n  }\n}\n\n/*  */\n\n// can we use __proto__?\nvar hasProto = '__proto__' in {};\n\n// Browser environment sniffing\nvar inBrowser = typeof window !== 'undefined';\nvar inWeex = typeof WXEnvironment !== 'undefined' && !!WXEnvironment.platform;\nvar weexPlatform = inWeex && WXEnvironment.platform.toLowerCase();\nvar UA = inBrowser && window.navigator.userAgent.toLowerCase();\nvar isIE = UA && /msie|trident/.test(UA);\nvar isIE9 = UA && UA.indexOf('msie 9.0') > 0;\nvar isEdge = UA && UA.indexOf('edge/') > 0;\nvar isAndroid = (UA && UA.indexOf('android') > 0) || (weexPlatform === 'android');\nvar isIOS = (UA && /iphone|ipad|ipod|ios/.test(UA)) || (weexPlatform === 'ios');\nvar isChrome = UA && /chrome\\/\\d+/.test(UA) && !isEdge;\nvar isPhantomJS = UA && /phantomjs/.test(UA);\nvar isFF = UA && UA.match(/firefox\\/(\\d+)/);\n\n// Firefox has a \"watch\" function on Object.prototype...\nvar nativeWatch = ({}).watch;\n\nvar supportsPassive = false;\nif (inBrowser) {\n  try {\n    var opts = {};\n    Object.defineProperty(opts, 'passive', ({\n      get: function get () {\n        /* istanbul ignore next */\n        supportsPassive = true;\n      }\n    })); // https://github.com/facebook/flow/issues/285\n    window.addEventListener('test-passive', null, opts);\n  } catch (e) {}\n}\n\n// this needs to be lazy-evaled because vue may be required before\n// vue-server-renderer can set VUE_ENV\nvar _isServer;\nvar isServerRendering = function () {\n  if (_isServer === undefined) {\n    /* istanbul ignore if */\n    if (!inBrowser && !inWeex && typeof global !== 'undefined') {\n      // detect presence of vue-server-renderer and avoid\n      // Webpack shimming the process\n      _isServer = global['process'] && global['process'].env.VUE_ENV === 'server';\n    } else {\n      _isServer = false;\n    }\n  }\n  return _isServer\n};\n\n// detect devtools\nvar devtools = inBrowser && window.__VUE_DEVTOOLS_GLOBAL_HOOK__;\n\n/* istanbul ignore next */\nfunction isNative (Ctor) {\n  return typeof Ctor === 'function' && /native code/.test(Ctor.toString())\n}\n\nvar hasSymbol =\n  typeof Symbol !== 'undefined' && isNative(Symbol) &&\n  typeof Reflect !== 'undefined' && isNative(Reflect.ownKeys);\n\nvar _Set;\n/* istanbul ignore if */ // $flow-disable-line\nif (typeof Set !== 'undefined' && isNative(Set)) {\n  // use native Set when available.\n  _Set = Set;\n} else {\n  // a non-standard Set polyfill that only works with primitive keys.\n  _Set = /*@__PURE__*/(function () {\n    function Set () {\n      this.set = Object.create(null);\n    }\n    Set.prototype.has = function has (key) {\n      return this.set[key] === true\n    };\n    Set.prototype.add = function add (key) {\n      this.set[key] = true;\n    };\n    Set.prototype.clear = function clear () {\n      this.set = Object.create(null);\n    };\n\n    return Set;\n  }());\n}\n\n/*  */\n\nvar warn = noop;\nvar tip = noop;\nvar generateComponentTrace = (noop); // work around flow check\nvar formatComponentName = (noop);\n\nif (process.env.NODE_ENV !== 'production') {\n  var hasConsole = typeof console !== 'undefined';\n  var classifyRE = /(?:^|[-_])(\\w)/g;\n  var classify = function (str) { return str\n    .replace(classifyRE, function (c) { return c.toUpperCase(); })\n    .replace(/[-_]/g, ''); };\n\n  warn = function (msg, vm) {\n    var trace = vm ? generateComponentTrace(vm) : '';\n\n    if (config.warnHandler) {\n      config.warnHandler.call(null, msg, vm, trace);\n    } else if (hasConsole && (!config.silent)) {\n      console.error((\"[Vue warn]: \" + msg + trace));\n    }\n  };\n\n  tip = function (msg, vm) {\n    if (hasConsole && (!config.silent)) {\n      console.warn(\"[Vue tip]: \" + msg + (\n        vm ? generateComponentTrace(vm) : ''\n      ));\n    }\n  };\n\n  formatComponentName = function (vm, includeFile) {\n    if (vm.$root === vm) {\n      return '<Root>'\n    }\n    var options = typeof vm === 'function' && vm.cid != null\n      ? vm.options\n      : vm._isVue\n        ? vm.$options || vm.constructor.options\n        : vm;\n    var name = options.name || options._componentTag;\n    var file = options.__file;\n    if (!name && file) {\n      var match = file.match(/([^/\\\\]+)\\.vue$/);\n      name = match && match[1];\n    }\n\n    return (\n      (name ? (\"<\" + (classify(name)) + \">\") : \"<Anonymous>\") +\n      (file && includeFile !== false ? (\" at \" + file) : '')\n    )\n  };\n\n  var repeat = function (str, n) {\n    var res = '';\n    while (n) {\n      if (n % 2 === 1) { res += str; }\n      if (n > 1) { str += str; }\n      n >>= 1;\n    }\n    return res\n  };\n\n  generateComponentTrace = function (vm) {\n    if (vm._isVue && vm.$parent) {\n      var tree = [];\n      var currentRecursiveSequence = 0;\n      while (vm) {\n        if (tree.length > 0) {\n          var last = tree[tree.length - 1];\n          if (last.constructor === vm.constructor) {\n            currentRecursiveSequence++;\n            vm = vm.$parent;\n            continue\n          } else if (currentRecursiveSequence > 0) {\n            tree[tree.length - 1] = [last, currentRecursiveSequence];\n            currentRecursiveSequence = 0;\n          }\n        }\n        tree.push(vm);\n        vm = vm.$parent;\n      }\n      return '\\n\\nfound in\\n\\n' + tree\n        .map(function (vm, i) { return (\"\" + (i === 0 ? '---> ' : repeat(' ', 5 + i * 2)) + (Array.isArray(vm)\n            ? ((formatComponentName(vm[0])) + \"... (\" + (vm[1]) + \" recursive calls)\")\n            : formatComponentName(vm))); })\n        .join('\\n')\n    } else {\n      return (\"\\n\\n(found in \" + (formatComponentName(vm)) + \")\")\n    }\n  };\n}\n\n/*  */\n\nvar uid = 0;\n\n/**\n * A dep is an observable that can have multiple\n * directives subscribing to it.\n */\nvar Dep = function Dep () {\n  this.id = uid++;\n  this.subs = [];\n};\n\nDep.prototype.addSub = function addSub (sub) {\n  this.subs.push(sub);\n};\n\nDep.prototype.removeSub = function removeSub (sub) {\n  remove(this.subs, sub);\n};\n\nDep.prototype.depend = function depend () {\n  if (Dep.target) {\n    Dep.target.addDep(this);\n  }\n};\n\nDep.prototype.notify = function notify () {\n  // stabilize the subscriber list first\n  var subs = this.subs.slice();\n  if (process.env.NODE_ENV !== 'production' && !config.async) {\n    // subs aren't sorted in scheduler if not running async\n    // we need to sort them now to make sure they fire in correct\n    // order\n    subs.sort(function (a, b) { return a.id - b.id; });\n  }\n  for (var i = 0, l = subs.length; i < l; i++) {\n    subs[i].update();\n  }\n};\n\n// The current target watcher being evaluated.\n// This is globally unique because only one watcher\n// can be evaluated at a time.\nDep.target = null;\nvar targetStack = [];\n\nfunction pushTarget (target) {\n  targetStack.push(target);\n  Dep.target = target;\n}\n\nfunction popTarget () {\n  targetStack.pop();\n  Dep.target = targetStack[targetStack.length - 1];\n}\n\n/*  */\n\nvar VNode = function VNode (\n  tag,\n  data,\n  children,\n  text,\n  elm,\n  context,\n  componentOptions,\n  asyncFactory\n) {\n  this.tag = tag;\n  this.data = data;\n  this.children = children;\n  this.text = text;\n  this.elm = elm;\n  this.ns = undefined;\n  this.context = context;\n  this.fnContext = undefined;\n  this.fnOptions = undefined;\n  this.fnScopeId = undefined;\n  this.key = data && data.key;\n  this.componentOptions = componentOptions;\n  this.componentInstance = undefined;\n  this.parent = undefined;\n  this.raw = false;\n  this.isStatic = false;\n  this.isRootInsert = true;\n  this.isComment = false;\n  this.isCloned = false;\n  this.isOnce = false;\n  this.asyncFactory = asyncFactory;\n  this.asyncMeta = undefined;\n  this.isAsyncPlaceholder = false;\n};\n\nvar prototypeAccessors = { child: { configurable: true } };\n\n// DEPRECATED: alias for componentInstance for backwards compat.\n/* istanbul ignore next */\nprototypeAccessors.child.get = function () {\n  return this.componentInstance\n};\n\nObject.defineProperties( VNode.prototype, prototypeAccessors );\n\nvar createEmptyVNode = function (text) {\n  if ( text === void 0 ) text = '';\n\n  var node = new VNode();\n  node.text = text;\n  node.isComment = true;\n  return node\n};\n\nfunction createTextVNode (val) {\n  return new VNode(undefined, undefined, undefined, String(val))\n}\n\n// optimized shallow clone\n// used for static nodes and slot nodes because they may be reused across\n// multiple renders, cloning them avoids errors when DOM manipulations rely\n// on their elm reference.\nfunction cloneVNode (vnode) {\n  var cloned = new VNode(\n    vnode.tag,\n    vnode.data,\n    // #7975\n    // clone children array to avoid mutating original in case of cloning\n    // a child.\n    vnode.children && vnode.children.slice(),\n    vnode.text,\n    vnode.elm,\n    vnode.context,\n    vnode.componentOptions,\n    vnode.asyncFactory\n  );\n  cloned.ns = vnode.ns;\n  cloned.isStatic = vnode.isStatic;\n  cloned.key = vnode.key;\n  cloned.isComment = vnode.isComment;\n  cloned.fnContext = vnode.fnContext;\n  cloned.fnOptions = vnode.fnOptions;\n  cloned.fnScopeId = vnode.fnScopeId;\n  cloned.asyncMeta = vnode.asyncMeta;\n  cloned.isCloned = true;\n  return cloned\n}\n\n/*\n * not type checking this file because flow doesn't play well with\n * dynamically accessing methods on Array prototype\n */\n\nvar arrayProto = Array.prototype;\nvar arrayMethods = Object.create(arrayProto);\n\nvar methodsToPatch = [\n  'push',\n  'pop',\n  'shift',\n  'unshift',\n  'splice',\n  'sort',\n  'reverse'\n];\n\n/**\n * Intercept mutating methods and emit events\n */\nmethodsToPatch.forEach(function (method) {\n  // cache original method\n  var original = arrayProto[method];\n  def(arrayMethods, method, function mutator () {\n    var args = [], len = arguments.length;\n    while ( len-- ) args[ len ] = arguments[ len ];\n\n    var result = original.apply(this, args);\n    var ob = this.__ob__;\n    var inserted;\n    switch (method) {\n      case 'push':\n      case 'unshift':\n        inserted = args;\n        break\n      case 'splice':\n        inserted = args.slice(2);\n        break\n    }\n    if (inserted) { ob.observeArray(inserted); }\n    // notify change\n    ob.dep.notify();\n    return result\n  });\n});\n\n/*  */\n\nvar arrayKeys = Object.getOwnPropertyNames(arrayMethods);\n\n/**\n * In some cases we may want to disable observation inside a component's\n * update computation.\n */\nvar shouldObserve = true;\n\nfunction toggleObserving (value) {\n  shouldObserve = value;\n}\n\n/**\n * Observer class that is attached to each observed\n * object. Once attached, the observer converts the target\n * object's property keys into getter/setters that\n * collect dependencies and dispatch updates.\n */\nvar Observer = function Observer (value) {\n  this.value = value;\n  this.dep = new Dep();\n  this.vmCount = 0;\n  def(value, '__ob__', this);\n  if (Array.isArray(value)) {\n    if (hasProto) {\n      protoAugment(value, arrayMethods);\n    } else {\n      copyAugment(value, arrayMethods, arrayKeys);\n    }\n    this.observeArray(value);\n  } else {\n    this.walk(value);\n  }\n};\n\n/**\n * Walk through all properties and convert them into\n * getter/setters. This method should only be called when\n * value type is Object.\n */\nObserver.prototype.walk = function walk (obj) {\n  var keys = Object.keys(obj);\n  for (var i = 0; i < keys.length; i++) {\n    defineReactive$$1(obj, keys[i]);\n  }\n};\n\n/**\n * Observe a list of Array items.\n */\nObserver.prototype.observeArray = function observeArray (items) {\n  for (var i = 0, l = items.length; i < l; i++) {\n    observe(items[i]);\n  }\n};\n\n// helpers\n\n/**\n * Augment a target Object or Array by intercepting\n * the prototype chain using __proto__\n */\nfunction protoAugment (target, src) {\n  /* eslint-disable no-proto */\n  target.__proto__ = src;\n  /* eslint-enable no-proto */\n}\n\n/**\n * Augment a target Object or Array by defining\n * hidden properties.\n */\n/* istanbul ignore next */\nfunction copyAugment (target, src, keys) {\n  for (var i = 0, l = keys.length; i < l; i++) {\n    var key = keys[i];\n    def(target, key, src[key]);\n  }\n}\n\n/**\n * Attempt to create an observer instance for a value,\n * returns the new observer if successfully observed,\n * or the existing observer if the value already has one.\n */\nfunction observe (value, asRootData) {\n  if (!isObject(value) || value instanceof VNode) {\n    return\n  }\n  var ob;\n  if (hasOwn(value, '__ob__') && value.__ob__ instanceof Observer) {\n    ob = value.__ob__;\n  } else if (\n    shouldObserve &&\n    !isServerRendering() &&\n    (Array.isArray(value) || isPlainObject(value)) &&\n    Object.isExtensible(value) &&\n    !value._isVue\n  ) {\n    ob = new Observer(value);\n  }\n  if (asRootData && ob) {\n    ob.vmCount++;\n  }\n  return ob\n}\n\n/**\n * Define a reactive property on an Object.\n */\nfunction defineReactive$$1 (\n  obj,\n  key,\n  val,\n  customSetter,\n  shallow\n) {\n  var dep = new Dep();\n\n  var property = Object.getOwnPropertyDescriptor(obj, key);\n  if (property && property.configurable === false) {\n    return\n  }\n\n  // cater for pre-defined getter/setters\n  var getter = property && property.get;\n  var setter = property && property.set;\n  if ((!getter || setter) && arguments.length === 2) {\n    val = obj[key];\n  }\n\n  var childOb = !shallow && observe(val);\n  Object.defineProperty(obj, key, {\n    enumerable: true,\n    configurable: true,\n    get: function reactiveGetter () {\n      var value = getter ? getter.call(obj) : val;\n      if (Dep.target) {\n        dep.depend();\n        if (childOb) {\n          childOb.dep.depend();\n          if (Array.isArray(value)) {\n            dependArray(value);\n          }\n        }\n      }\n      return value\n    },\n    set: function reactiveSetter (newVal) {\n      var value = getter ? getter.call(obj) : val;\n      /* eslint-disable no-self-compare */\n      if (newVal === value || (newVal !== newVal && value !== value)) {\n        return\n      }\n      /* eslint-enable no-self-compare */\n      if (process.env.NODE_ENV !== 'production' && customSetter) {\n        customSetter();\n      }\n      // #7981: for accessor properties without setter\n      if (getter && !setter) { return }\n      if (setter) {\n        setter.call(obj, newVal);\n      } else {\n        val = newVal;\n      }\n      childOb = !shallow && observe(newVal);\n      dep.notify();\n    }\n  });\n}\n\n/**\n * Set a property on an object. Adds the new property and\n * triggers change notification if the property doesn't\n * already exist.\n */\nfunction set (target, key, val) {\n  if (process.env.NODE_ENV !== 'production' &&\n    (isUndef(target) || isPrimitive(target))\n  ) {\n    warn((\"Cannot set reactive property on undefined, null, or primitive value: \" + ((target))));\n  }\n  if (Array.isArray(target) && isValidArrayIndex(key)) {\n    target.length = Math.max(target.length, key);\n    target.splice(key, 1, val);\n    return val\n  }\n  if (key in target && !(key in Object.prototype)) {\n    target[key] = val;\n    return val\n  }\n  var ob = (target).__ob__;\n  if (target._isVue || (ob && ob.vmCount)) {\n    process.env.NODE_ENV !== 'production' && warn(\n      'Avoid adding reactive properties to a Vue instance or its root $data ' +\n      'at runtime - declare it upfront in the data option.'\n    );\n    return val\n  }\n  if (!ob) {\n    target[key] = val;\n    return val\n  }\n  defineReactive$$1(ob.value, key, val);\n  ob.dep.notify();\n  return val\n}\n\n/**\n * Delete a property and trigger change if necessary.\n */\nfunction del (target, key) {\n  if (process.env.NODE_ENV !== 'production' &&\n    (isUndef(target) || isPrimitive(target))\n  ) {\n    warn((\"Cannot delete reactive property on undefined, null, or primitive value: \" + ((target))));\n  }\n  if (Array.isArray(target) && isValidArrayIndex(key)) {\n    target.splice(key, 1);\n    return\n  }\n  var ob = (target).__ob__;\n  if (target._isVue || (ob && ob.vmCount)) {\n    process.env.NODE_ENV !== 'production' && warn(\n      'Avoid deleting properties on a Vue instance or its root $data ' +\n      '- just set it to null.'\n    );\n    return\n  }\n  if (!hasOwn(target, key)) {\n    return\n  }\n  delete target[key];\n  if (!ob) {\n    return\n  }\n  ob.dep.notify();\n}\n\n/**\n * Collect dependencies on array elements when the array is touched, since\n * we cannot intercept array element access like property getters.\n */\nfunction dependArray (value) {\n  for (var e = (void 0), i = 0, l = value.length; i < l; i++) {\n    e = value[i];\n    e && e.__ob__ && e.__ob__.dep.depend();\n    if (Array.isArray(e)) {\n      dependArray(e);\n    }\n  }\n}\n\n/*  */\n\n/**\n * Option overwriting strategies are functions that handle\n * how to merge a parent option value and a child option\n * value into the final value.\n */\nvar strats = config.optionMergeStrategies;\n\n/**\n * Options with restrictions\n */\nif (process.env.NODE_ENV !== 'production') {\n  strats.el = strats.propsData = function (parent, child, vm, key) {\n    if (!vm) {\n      warn(\n        \"option \\\"\" + key + \"\\\" can only be used during instance \" +\n        'creation with the `new` keyword.'\n      );\n    }\n    return defaultStrat(parent, child)\n  };\n}\n\n/**\n * Helper that recursively merges two data objects together.\n */\nfunction mergeData (to, from) {\n  if (!from) { return to }\n  var key, toVal, fromVal;\n\n  var keys = hasSymbol\n    ? Reflect.ownKeys(from)\n    : Object.keys(from);\n\n  for (var i = 0; i < keys.length; i++) {\n    key = keys[i];\n    // in case the object is already observed...\n    if (key === '__ob__') { continue }\n    toVal = to[key];\n    fromVal = from[key];\n    if (!hasOwn(to, key)) {\n      set(to, key, fromVal);\n    } else if (\n      toVal !== fromVal &&\n      isPlainObject(toVal) &&\n      isPlainObject(fromVal)\n    ) {\n      mergeData(toVal, fromVal);\n    }\n  }\n  return to\n}\n\n/**\n * Data\n */\nfunction mergeDataOrFn (\n  parentVal,\n  childVal,\n  vm\n) {\n  if (!vm) {\n    // in a Vue.extend merge, both should be functions\n    if (!childVal) {\n      return parentVal\n    }\n    if (!parentVal) {\n      return childVal\n    }\n    // when parentVal & childVal are both present,\n    // we need to return a function that returns the\n    // merged result of both functions... no need to\n    // check if parentVal is a function here because\n    // it has to be a function to pass previous merges.\n    return function mergedDataFn () {\n      return mergeData(\n        typeof childVal === 'function' ? childVal.call(this, this) : childVal,\n        typeof parentVal === 'function' ? parentVal.call(this, this) : parentVal\n      )\n    }\n  } else {\n    return function mergedInstanceDataFn () {\n      // instance merge\n      var instanceData = typeof childVal === 'function'\n        ? childVal.call(vm, vm)\n        : childVal;\n      var defaultData = typeof parentVal === 'function'\n        ? parentVal.call(vm, vm)\n        : parentVal;\n      if (instanceData) {\n        return mergeData(instanceData, defaultData)\n      } else {\n        return defaultData\n      }\n    }\n  }\n}\n\nstrats.data = function (\n  parentVal,\n  childVal,\n  vm\n) {\n  if (!vm) {\n    if (childVal && typeof childVal !== 'function') {\n      process.env.NODE_ENV !== 'production' && warn(\n        'The \"data\" option should be a function ' +\n        'that returns a per-instance value in component ' +\n        'definitions.',\n        vm\n      );\n\n      return parentVal\n    }\n    return mergeDataOrFn(parentVal, childVal)\n  }\n\n  return mergeDataOrFn(parentVal, childVal, vm)\n};\n\n/**\n * Hooks and props are merged as arrays.\n */\nfunction mergeHook (\n  parentVal,\n  childVal\n) {\n  var res = childVal\n    ? parentVal\n      ? parentVal.concat(childVal)\n      : Array.isArray(childVal)\n        ? childVal\n        : [childVal]\n    : parentVal;\n  return res\n    ? dedupeHooks(res)\n    : res\n}\n\nfunction dedupeHooks (hooks) {\n  var res = [];\n  for (var i = 0; i < hooks.length; i++) {\n    if (res.indexOf(hooks[i]) === -1) {\n      res.push(hooks[i]);\n    }\n  }\n  return res\n}\n\nLIFECYCLE_HOOKS.forEach(function (hook) {\n  strats[hook] = mergeHook;\n});\n\n/**\n * Assets\n *\n * When a vm is present (instance creation), we need to do\n * a three-way merge between constructor options, instance\n * options and parent options.\n */\nfunction mergeAssets (\n  parentVal,\n  childVal,\n  vm,\n  key\n) {\n  var res = Object.create(parentVal || null);\n  if (childVal) {\n    process.env.NODE_ENV !== 'production' && assertObjectType(key, childVal, vm);\n    return extend(res, childVal)\n  } else {\n    return res\n  }\n}\n\nASSET_TYPES.forEach(function (type) {\n  strats[type + 's'] = mergeAssets;\n});\n\n/**\n * Watchers.\n *\n * Watchers hashes should not overwrite one\n * another, so we merge them as arrays.\n */\nstrats.watch = function (\n  parentVal,\n  childVal,\n  vm,\n  key\n) {\n  // work around Firefox's Object.prototype.watch...\n  if (parentVal === nativeWatch) { parentVal = undefined; }\n  if (childVal === nativeWatch) { childVal = undefined; }\n  /* istanbul ignore if */\n  if (!childVal) { return Object.create(parentVal || null) }\n  if (process.env.NODE_ENV !== 'production') {\n    assertObjectType(key, childVal, vm);\n  }\n  if (!parentVal) { return childVal }\n  var ret = {};\n  extend(ret, parentVal);\n  for (var key$1 in childVal) {\n    var parent = ret[key$1];\n    var child = childVal[key$1];\n    if (parent && !Array.isArray(parent)) {\n      parent = [parent];\n    }\n    ret[key$1] = parent\n      ? parent.concat(child)\n      : Array.isArray(child) ? child : [child];\n  }\n  return ret\n};\n\n/**\n * Other object hashes.\n */\nstrats.props =\nstrats.methods =\nstrats.inject =\nstrats.computed = function (\n  parentVal,\n  childVal,\n  vm,\n  key\n) {\n  if (childVal && process.env.NODE_ENV !== 'production') {\n    assertObjectType(key, childVal, vm);\n  }\n  if (!parentVal) { return childVal }\n  var ret = Object.create(null);\n  extend(ret, parentVal);\n  if (childVal) { extend(ret, childVal); }\n  return ret\n};\nstrats.provide = mergeDataOrFn;\n\n/**\n * Default strategy.\n */\nvar defaultStrat = function (parentVal, childVal) {\n  return childVal === undefined\n    ? parentVal\n    : childVal\n};\n\n/**\n * Validate component names\n */\nfunction checkComponents (options) {\n  for (var key in options.components) {\n    validateComponentName(key);\n  }\n}\n\nfunction validateComponentName (name) {\n  if (!new RegExp((\"^[a-zA-Z][\\\\-\\\\.0-9_\" + (unicodeRegExp.source) + \"]*$\")).test(name)) {\n    warn(\n      'Invalid component name: \"' + name + '\". Component names ' +\n      'should conform to valid custom element name in html5 specification.'\n    );\n  }\n  if (isBuiltInTag(name) || config.isReservedTag(name)) {\n    warn(\n      'Do not use built-in or reserved HTML elements as component ' +\n      'id: ' + name\n    );\n  }\n}\n\n/**\n * Ensure all props option syntax are normalized into the\n * Object-based format.\n */\nfunction normalizeProps (options, vm) {\n  var props = options.props;\n  if (!props) { return }\n  var res = {};\n  var i, val, name;\n  if (Array.isArray(props)) {\n    i = props.length;\n    while (i--) {\n      val = props[i];\n      if (typeof val === 'string') {\n        name = camelize(val);\n        res[name] = { type: null };\n      } else if (process.env.NODE_ENV !== 'production') {\n        warn('props must be strings when using array syntax.');\n      }\n    }\n  } else if (isPlainObject(props)) {\n    for (var key in props) {\n      val = props[key];\n      name = camelize(key);\n      res[name] = isPlainObject(val)\n        ? val\n        : { type: val };\n    }\n  } else if (process.env.NODE_ENV !== 'production') {\n    warn(\n      \"Invalid value for option \\\"props\\\": expected an Array or an Object, \" +\n      \"but got \" + (toRawType(props)) + \".\",\n      vm\n    );\n  }\n  options.props = res;\n}\n\n/**\n * Normalize all injections into Object-based format\n */\nfunction normalizeInject (options, vm) {\n  var inject = options.inject;\n  if (!inject) { return }\n  var normalized = options.inject = {};\n  if (Array.isArray(inject)) {\n    for (var i = 0; i < inject.length; i++) {\n      normalized[inject[i]] = { from: inject[i] };\n    }\n  } else if (isPlainObject(inject)) {\n    for (var key in inject) {\n      var val = inject[key];\n      normalized[key] = isPlainObject(val)\n        ? extend({ from: key }, val)\n        : { from: val };\n    }\n  } else if (process.env.NODE_ENV !== 'production') {\n    warn(\n      \"Invalid value for option \\\"inject\\\": expected an Array or an Object, \" +\n      \"but got \" + (toRawType(inject)) + \".\",\n      vm\n    );\n  }\n}\n\n/**\n * Normalize raw function directives into object format.\n */\nfunction normalizeDirectives (options) {\n  var dirs = options.directives;\n  if (dirs) {\n    for (var key in dirs) {\n      var def$$1 = dirs[key];\n      if (typeof def$$1 === 'function') {\n        dirs[key] = { bind: def$$1, update: def$$1 };\n      }\n    }\n  }\n}\n\nfunction assertObjectType (name, value, vm) {\n  if (!isPlainObject(value)) {\n    warn(\n      \"Invalid value for option \\\"\" + name + \"\\\": expected an Object, \" +\n      \"but got \" + (toRawType(value)) + \".\",\n      vm\n    );\n  }\n}\n\n/**\n * Merge two option objects into a new one.\n * Core utility used in both instantiation and inheritance.\n */\nfunction mergeOptions (\n  parent,\n  child,\n  vm\n) {\n  if (process.env.NODE_ENV !== 'production') {\n    checkComponents(child);\n  }\n\n  if (typeof child === 'function') {\n    child = child.options;\n  }\n\n  normalizeProps(child, vm);\n  normalizeInject(child, vm);\n  normalizeDirectives(child);\n\n  // Apply extends and mixins on the child options,\n  // but only if it is a raw options object that isn't\n  // the result of another mergeOptions call.\n  // Only merged options has the _base property.\n  if (!child._base) {\n    if (child.extends) {\n      parent = mergeOptions(parent, child.extends, vm);\n    }\n    if (child.mixins) {\n      for (var i = 0, l = child.mixins.length; i < l; i++) {\n        parent = mergeOptions(parent, child.mixins[i], vm);\n      }\n    }\n  }\n\n  var options = {};\n  var key;\n  for (key in parent) {\n    mergeField(key);\n  }\n  for (key in child) {\n    if (!hasOwn(parent, key)) {\n      mergeField(key);\n    }\n  }\n  function mergeField (key) {\n    var strat = strats[key] || defaultStrat;\n    options[key] = strat(parent[key], child[key], vm, key);\n  }\n  return options\n}\n\n/**\n * Resolve an asset.\n * This function is used because child instances need access\n * to assets defined in its ancestor chain.\n */\nfunction resolveAsset (\n  options,\n  type,\n  id,\n  warnMissing\n) {\n  /* istanbul ignore if */\n  if (typeof id !== 'string') {\n    return\n  }\n  var assets = options[type];\n  // check local registration variations first\n  if (hasOwn(assets, id)) { return assets[id] }\n  var camelizedId = camelize(id);\n  if (hasOwn(assets, camelizedId)) { return assets[camelizedId] }\n  var PascalCaseId = capitalize(camelizedId);\n  if (hasOwn(assets, PascalCaseId)) { return assets[PascalCaseId] }\n  // fallback to prototype chain\n  var res = assets[id] || assets[camelizedId] || assets[PascalCaseId];\n  if (process.env.NODE_ENV !== 'production' && warnMissing && !res) {\n    warn(\n      'Failed to resolve ' + type.slice(0, -1) + ': ' + id,\n      options\n    );\n  }\n  return res\n}\n\n/*  */\n\n\n\nfunction validateProp (\n  key,\n  propOptions,\n  propsData,\n  vm\n) {\n  var prop = propOptions[key];\n  var absent = !hasOwn(propsData, key);\n  var value = propsData[key];\n  // boolean casting\n  var booleanIndex = getTypeIndex(Boolean, prop.type);\n  if (booleanIndex > -1) {\n    if (absent && !hasOwn(prop, 'default')) {\n      value = false;\n    } else if (value === '' || value === hyphenate(key)) {\n      // only cast empty string / same name to boolean if\n      // boolean has higher priority\n      var stringIndex = getTypeIndex(String, prop.type);\n      if (stringIndex < 0 || booleanIndex < stringIndex) {\n        value = true;\n      }\n    }\n  }\n  // check default value\n  if (value === undefined) {\n    value = getPropDefaultValue(vm, prop, key);\n    // since the default value is a fresh copy,\n    // make sure to observe it.\n    var prevShouldObserve = shouldObserve;\n    toggleObserving(true);\n    observe(value);\n    toggleObserving(prevShouldObserve);\n  }\n  if (\n    process.env.NODE_ENV !== 'production' &&\n    // skip validation for weex recycle-list child component props\n    !(false)\n  ) {\n    assertProp(prop, key, value, vm, absent);\n  }\n  return value\n}\n\n/**\n * Get the default value of a prop.\n */\nfunction getPropDefaultValue (vm, prop, key) {\n  // no default, return undefined\n  if (!hasOwn(prop, 'default')) {\n    return undefined\n  }\n  var def = prop.default;\n  // warn against non-factory defaults for Object & Array\n  if (process.env.NODE_ENV !== 'production' && isObject(def)) {\n    warn(\n      'Invalid default value for prop \"' + key + '\": ' +\n      'Props with type Object/Array must use a factory function ' +\n      'to return the default value.',\n      vm\n    );\n  }\n  // the raw prop value was also undefined from previous render,\n  // return previous default value to avoid unnecessary watcher trigger\n  if (vm && vm.$options.propsData &&\n    vm.$options.propsData[key] === undefined &&\n    vm._props[key] !== undefined\n  ) {\n    return vm._props[key]\n  }\n  // call factory function for non-Function types\n  // a value is Function if its prototype is function even across different execution context\n  return typeof def === 'function' && getType(prop.type) !== 'Function'\n    ? def.call(vm)\n    : def\n}\n\n/**\n * Assert whether a prop is valid.\n */\nfunction assertProp (\n  prop,\n  name,\n  value,\n  vm,\n  absent\n) {\n  if (prop.required && absent) {\n    warn(\n      'Missing required prop: \"' + name + '\"',\n      vm\n    );\n    return\n  }\n  if (value == null && !prop.required) {\n    return\n  }\n  var type = prop.type;\n  var valid = !type || type === true;\n  var expectedTypes = [];\n  if (type) {\n    if (!Array.isArray(type)) {\n      type = [type];\n    }\n    for (var i = 0; i < type.length && !valid; i++) {\n      var assertedType = assertType(value, type[i]);\n      expectedTypes.push(assertedType.expectedType || '');\n      valid = assertedType.valid;\n    }\n  }\n\n  if (!valid) {\n    warn(\n      getInvalidTypeMessage(name, value, expectedTypes),\n      vm\n    );\n    return\n  }\n  var validator = prop.validator;\n  if (validator) {\n    if (!validator(value)) {\n      warn(\n        'Invalid prop: custom validator check failed for prop \"' + name + '\".',\n        vm\n      );\n    }\n  }\n}\n\nvar simpleCheckRE = /^(String|Number|Boolean|Function|Symbol)$/;\n\nfunction assertType (value, type) {\n  var valid;\n  var expectedType = getType(type);\n  if (simpleCheckRE.test(expectedType)) {\n    var t = typeof value;\n    valid = t === expectedType.toLowerCase();\n    // for primitive wrapper objects\n    if (!valid && t === 'object') {\n      valid = value instanceof type;\n    }\n  } else if (expectedType === 'Object') {\n    valid = isPlainObject(value);\n  } else if (expectedType === 'Array') {\n    valid = Array.isArray(value);\n  } else {\n    valid = value instanceof type;\n  }\n  return {\n    valid: valid,\n    expectedType: expectedType\n  }\n}\n\n/**\n * Use function string name to check built-in types,\n * because a simple equality check will fail when running\n * across different vms / iframes.\n */\nfunction getType (fn) {\n  var match = fn && fn.toString().match(/^\\s*function (\\w+)/);\n  return match ? match[1] : ''\n}\n\nfunction isSameType (a, b) {\n  return getType(a) === getType(b)\n}\n\nfunction getTypeIndex (type, expectedTypes) {\n  if (!Array.isArray(expectedTypes)) {\n    return isSameType(expectedTypes, type) ? 0 : -1\n  }\n  for (var i = 0, len = expectedTypes.length; i < len; i++) {\n    if (isSameType(expectedTypes[i], type)) {\n      return i\n    }\n  }\n  return -1\n}\n\nfunction getInvalidTypeMessage (name, value, expectedTypes) {\n  var message = \"Invalid prop: type check failed for prop \\\"\" + name + \"\\\".\" +\n    \" Expected \" + (expectedTypes.map(capitalize).join(', '));\n  var expectedType = expectedTypes[0];\n  var receivedType = toRawType(value);\n  var expectedValue = styleValue(value, expectedType);\n  var receivedValue = styleValue(value, receivedType);\n  // check if we need to specify expected value\n  if (expectedTypes.length === 1 &&\n      isExplicable(expectedType) &&\n      !isBoolean(expectedType, receivedType)) {\n    message += \" with value \" + expectedValue;\n  }\n  message += \", got \" + receivedType + \" \";\n  // check if we need to specify received value\n  if (isExplicable(receivedType)) {\n    message += \"with value \" + receivedValue + \".\";\n  }\n  return message\n}\n\nfunction styleValue (value, type) {\n  if (type === 'String') {\n    return (\"\\\"\" + value + \"\\\"\")\n  } else if (type === 'Number') {\n    return (\"\" + (Number(value)))\n  } else {\n    return (\"\" + value)\n  }\n}\n\nfunction isExplicable (value) {\n  var explicitTypes = ['string', 'number', 'boolean'];\n  return explicitTypes.some(function (elem) { return value.toLowerCase() === elem; })\n}\n\nfunction isBoolean () {\n  var args = [], len = arguments.length;\n  while ( len-- ) args[ len ] = arguments[ len ];\n\n  return args.some(function (elem) { return elem.toLowerCase() === 'boolean'; })\n}\n\n/*  */\n\nfunction handleError (err, vm, info) {\n  // Deactivate deps tracking while processing error handler to avoid possible infinite rendering.\n  // See: https://github.com/vuejs/vuex/issues/1505\n  pushTarget();\n  try {\n    if (vm) {\n      var cur = vm;\n      while ((cur = cur.$parent)) {\n        var hooks = cur.$options.errorCaptured;\n        if (hooks) {\n          for (var i = 0; i < hooks.length; i++) {\n            try {\n              var capture = hooks[i].call(cur, err, vm, info) === false;\n              if (capture) { return }\n            } catch (e) {\n              globalHandleError(e, cur, 'errorCaptured hook');\n            }\n          }\n        }\n      }\n    }\n    globalHandleError(err, vm, info);\n  } finally {\n    popTarget();\n  }\n}\n\nfunction invokeWithErrorHandling (\n  handler,\n  context,\n  args,\n  vm,\n  info\n) {\n  var res;\n  try {\n    res = args ? handler.apply(context, args) : handler.call(context);\n    if (res && !res._isVue && isPromise(res) && !res._handled) {\n      res.catch(function (e) { return handleError(e, vm, info + \" (Promise/async)\"); });\n      // issue #9511\n      // avoid catch triggering multiple times when nested calls\n      res._handled = true;\n    }\n  } catch (e) {\n    handleError(e, vm, info);\n  }\n  return res\n}\n\nfunction globalHandleError (err, vm, info) {\n  if (config.errorHandler) {\n    try {\n      return config.errorHandler.call(null, err, vm, info)\n    } catch (e) {\n      // if the user intentionally throws the original error in the handler,\n      // do not log it twice\n      if (e !== err) {\n        logError(e, null, 'config.errorHandler');\n      }\n    }\n  }\n  logError(err, vm, info);\n}\n\nfunction logError (err, vm, info) {\n  if (process.env.NODE_ENV !== 'production') {\n    warn((\"Error in \" + info + \": \\\"\" + (err.toString()) + \"\\\"\"), vm);\n  }\n  /* istanbul ignore else */\n  if ((inBrowser || inWeex) && typeof console !== 'undefined') {\n    console.error(err);\n  } else {\n    throw err\n  }\n}\n\n/*  */\n\nvar isUsingMicroTask = false;\n\nvar callbacks = [];\nvar pending = false;\n\nfunction flushCallbacks () {\n  pending = false;\n  var copies = callbacks.slice(0);\n  callbacks.length = 0;\n  for (var i = 0; i < copies.length; i++) {\n    copies[i]();\n  }\n}\n\n// Here we have async deferring wrappers using microtasks.\n// In 2.5 we used (macro) tasks (in combination with microtasks).\n// However, it has subtle problems when state is changed right before repaint\n// (e.g. #6813, out-in transitions).\n// Also, using (macro) tasks in event handler would cause some weird behaviors\n// that cannot be circumvented (e.g. #7109, #7153, #7546, #7834, #8109).\n// So we now use microtasks everywhere, again.\n// A major drawback of this tradeoff is that there are some scenarios\n// where microtasks have too high a priority and fire in between supposedly\n// sequential events (e.g. #4521, #6690, which have workarounds)\n// or even between bubbling of the same event (#6566).\nvar timerFunc;\n\n// The nextTick behavior leverages the microtask queue, which can be accessed\n// via either native Promise.then or MutationObserver.\n// MutationObserver has wider support, however it is seriously bugged in\n// UIWebView in iOS >= 9.3.3 when triggered in touch event handlers. It\n// completely stops working after triggering a few times... so, if native\n// Promise is available, we will use it:\n/* istanbul ignore next, $flow-disable-line */\nif (typeof Promise !== 'undefined' && isNative(Promise)) {\n  var p = Promise.resolve();\n  timerFunc = function () {\n    p.then(flushCallbacks);\n    // In problematic UIWebViews, Promise.then doesn't completely break, but\n    // it can get stuck in a weird state where callbacks are pushed into the\n    // microtask queue but the queue isn't being flushed, until the browser\n    // needs to do some other work, e.g. handle a timer. Therefore we can\n    // \"force\" the microtask queue to be flushed by adding an empty timer.\n    if (isIOS) { setTimeout(noop); }\n  };\n  isUsingMicroTask = true;\n} else if (!isIE && typeof MutationObserver !== 'undefined' && (\n  isNative(MutationObserver) ||\n  // PhantomJS and iOS 7.x\n  MutationObserver.toString() === '[object MutationObserverConstructor]'\n)) {\n  // Use MutationObserver where native Promise is not available,\n  // e.g. PhantomJS, iOS7, Android 4.4\n  // (#6466 MutationObserver is unreliable in IE11)\n  var counter = 1;\n  var observer = new MutationObserver(flushCallbacks);\n  var textNode = document.createTextNode(String(counter));\n  observer.observe(textNode, {\n    characterData: true\n  });\n  timerFunc = function () {\n    counter = (counter + 1) % 2;\n    textNode.data = String(counter);\n  };\n  isUsingMicroTask = true;\n} else if (typeof setImmediate !== 'undefined' && isNative(setImmediate)) {\n  // Fallback to setImmediate.\n  // Technically it leverages the (macro) task queue,\n  // but it is still a better choice than setTimeout.\n  timerFunc = function () {\n    setImmediate(flushCallbacks);\n  };\n} else {\n  // Fallback to setTimeout.\n  timerFunc = function () {\n    setTimeout(flushCallbacks, 0);\n  };\n}\n\nfunction nextTick (cb, ctx) {\n  var _resolve;\n  callbacks.push(function () {\n    if (cb) {\n      try {\n        cb.call(ctx);\n      } catch (e) {\n        handleError(e, ctx, 'nextTick');\n      }\n    } else if (_resolve) {\n      _resolve(ctx);\n    }\n  });\n  if (!pending) {\n    pending = true;\n    timerFunc();\n  }\n  // $flow-disable-line\n  if (!cb && typeof Promise !== 'undefined') {\n    return new Promise(function (resolve) {\n      _resolve = resolve;\n    })\n  }\n}\n\n/*  */\n\n/* not type checking this file because flow doesn't play well with Proxy */\n\nvar initProxy;\n\nif (process.env.NODE_ENV !== 'production') {\n  var allowedGlobals = makeMap(\n    'Infinity,undefined,NaN,isFinite,isNaN,' +\n    'parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,' +\n    'Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,' +\n    'require' // for Webpack/Browserify\n  );\n\n  var warnNonPresent = function (target, key) {\n    warn(\n      \"Property or method \\\"\" + key + \"\\\" is not defined on the instance but \" +\n      'referenced during render. Make sure that this property is reactive, ' +\n      'either in the data option, or for class-based components, by ' +\n      'initializing the property. ' +\n      'See: https://vuejs.org/v2/guide/reactivity.html#Declaring-Reactive-Properties.',\n      target\n    );\n  };\n\n  var warnReservedPrefix = function (target, key) {\n    warn(\n      \"Property \\\"\" + key + \"\\\" must be accessed with \\\"$data.\" + key + \"\\\" because \" +\n      'properties starting with \"$\" or \"_\" are not proxied in the Vue instance to ' +\n      'prevent conflicts with Vue internals. ' +\n      'See: https://vuejs.org/v2/api/#data',\n      target\n    );\n  };\n\n  var hasProxy =\n    typeof Proxy !== 'undefined' && isNative(Proxy);\n\n  if (hasProxy) {\n    var isBuiltInModifier = makeMap('stop,prevent,self,ctrl,shift,alt,meta,exact');\n    config.keyCodes = new Proxy(config.keyCodes, {\n      set: function set (target, key, value) {\n        if (isBuiltInModifier(key)) {\n          warn((\"Avoid overwriting built-in modifier in config.keyCodes: .\" + key));\n          return false\n        } else {\n          target[key] = value;\n          return true\n        }\n      }\n    });\n  }\n\n  var hasHandler = {\n    has: function has (target, key) {\n      var has = key in target;\n      var isAllowed = allowedGlobals(key) ||\n        (typeof key === 'string' && key.charAt(0) === '_' && !(key in target.$data));\n      if (!has && !isAllowed) {\n        if (key in target.$data) { warnReservedPrefix(target, key); }\n        else { warnNonPresent(target, key); }\n      }\n      return has || !isAllowed\n    }\n  };\n\n  var getHandler = {\n    get: function get (target, key) {\n      if (typeof key === 'string' && !(key in target)) {\n        if (key in target.$data) { warnReservedPrefix(target, key); }\n        else { warnNonPresent(target, key); }\n      }\n      return target[key]\n    }\n  };\n\n  initProxy = function initProxy (vm) {\n    if (hasProxy) {\n      // determine which proxy handler to use\n      var options = vm.$options;\n      var handlers = options.render && options.render._withStripped\n        ? getHandler\n        : hasHandler;\n      vm._renderProxy = new Proxy(vm, handlers);\n    } else {\n      vm._renderProxy = vm;\n    }\n  };\n}\n\n/*  */\n\nvar seenObjects = new _Set();\n\n/**\n * Recursively traverse an object to evoke all converted\n * getters, so that every nested property inside the object\n * is collected as a \"deep\" dependency.\n */\nfunction traverse (val) {\n  _traverse(val, seenObjects);\n  seenObjects.clear();\n}\n\nfunction _traverse (val, seen) {\n  var i, keys;\n  var isA = Array.isArray(val);\n  if ((!isA && !isObject(val)) || Object.isFrozen(val) || val instanceof VNode) {\n    return\n  }\n  if (val.__ob__) {\n    var depId = val.__ob__.dep.id;\n    if (seen.has(depId)) {\n      return\n    }\n    seen.add(depId);\n  }\n  if (isA) {\n    i = val.length;\n    while (i--) { _traverse(val[i], seen); }\n  } else {\n    keys = Object.keys(val);\n    i = keys.length;\n    while (i--) { _traverse(val[keys[i]], seen); }\n  }\n}\n\nvar mark;\nvar measure;\n\nif (process.env.NODE_ENV !== 'production') {\n  var perf = inBrowser && window.performance;\n  /* istanbul ignore if */\n  if (\n    perf &&\n    perf.mark &&\n    perf.measure &&\n    perf.clearMarks &&\n    perf.clearMeasures\n  ) {\n    mark = function (tag) { return perf.mark(tag); };\n    measure = function (name, startTag, endTag) {\n      perf.measure(name, startTag, endTag);\n      perf.clearMarks(startTag);\n      perf.clearMarks(endTag);\n      // perf.clearMeasures(name)\n    };\n  }\n}\n\n/*  */\n\nvar normalizeEvent = cached(function (name) {\n  var passive = name.charAt(0) === '&';\n  name = passive ? name.slice(1) : name;\n  var once$$1 = name.charAt(0) === '~'; // Prefixed last, checked first\n  name = once$$1 ? name.slice(1) : name;\n  var capture = name.charAt(0) === '!';\n  name = capture ? name.slice(1) : name;\n  return {\n    name: name,\n    once: once$$1,\n    capture: capture,\n    passive: passive\n  }\n});\n\nfunction createFnInvoker (fns, vm) {\n  function invoker () {\n    var arguments$1 = arguments;\n\n    var fns = invoker.fns;\n    if (Array.isArray(fns)) {\n      var cloned = fns.slice();\n      for (var i = 0; i < cloned.length; i++) {\n        invokeWithErrorHandling(cloned[i], null, arguments$1, vm, \"v-on handler\");\n      }\n    } else {\n      // return handler return value for single handlers\n      return invokeWithErrorHandling(fns, null, arguments, vm, \"v-on handler\")\n    }\n  }\n  invoker.fns = fns;\n  return invoker\n}\n\nfunction updateListeners (\n  on,\n  oldOn,\n  add,\n  remove$$1,\n  createOnceHandler,\n  vm\n) {\n  var name, def$$1, cur, old, event;\n  for (name in on) {\n    def$$1 = cur = on[name];\n    old = oldOn[name];\n    event = normalizeEvent(name);\n    if (isUndef(cur)) {\n      process.env.NODE_ENV !== 'production' && warn(\n        \"Invalid handler for event \\\"\" + (event.name) + \"\\\": got \" + String(cur),\n        vm\n      );\n    } else if (isUndef(old)) {\n      if (isUndef(cur.fns)) {\n        cur = on[name] = createFnInvoker(cur, vm);\n      }\n      if (isTrue(event.once)) {\n        cur = on[name] = createOnceHandler(event.name, cur, event.capture);\n      }\n      add(event.name, cur, event.capture, event.passive, event.params);\n    } else if (cur !== old) {\n      old.fns = cur;\n      on[name] = old;\n    }\n  }\n  for (name in oldOn) {\n    if (isUndef(on[name])) {\n      event = normalizeEvent(name);\n      remove$$1(event.name, oldOn[name], event.capture);\n    }\n  }\n}\n\n/*  */\n\nfunction mergeVNodeHook (def, hookKey, hook) {\n  if (def instanceof VNode) {\n    def = def.data.hook || (def.data.hook = {});\n  }\n  var invoker;\n  var oldHook = def[hookKey];\n\n  function wrappedHook () {\n    hook.apply(this, arguments);\n    // important: remove merged hook to ensure it's called only once\n    // and prevent memory leak\n    remove(invoker.fns, wrappedHook);\n  }\n\n  if (isUndef(oldHook)) {\n    // no existing hook\n    invoker = createFnInvoker([wrappedHook]);\n  } else {\n    /* istanbul ignore if */\n    if (isDef(oldHook.fns) && isTrue(oldHook.merged)) {\n      // already a merged invoker\n      invoker = oldHook;\n      invoker.fns.push(wrappedHook);\n    } else {\n      // existing plain hook\n      invoker = createFnInvoker([oldHook, wrappedHook]);\n    }\n  }\n\n  invoker.merged = true;\n  def[hookKey] = invoker;\n}\n\n/*  */\n\nfunction extractPropsFromVNodeData (\n  data,\n  Ctor,\n  tag\n) {\n  // we are only extracting raw values here.\n  // validation and default values are handled in the child\n  // component itself.\n  var propOptions = Ctor.options.props;\n  if (isUndef(propOptions)) {\n    return\n  }\n  var res = {};\n  var attrs = data.attrs;\n  var props = data.props;\n  if (isDef(attrs) || isDef(props)) {\n    for (var key in propOptions) {\n      var altKey = hyphenate(key);\n      if (process.env.NODE_ENV !== 'production') {\n        var keyInLowerCase = key.toLowerCase();\n        if (\n          key !== keyInLowerCase &&\n          attrs && hasOwn(attrs, keyInLowerCase)\n        ) {\n          tip(\n            \"Prop \\\"\" + keyInLowerCase + \"\\\" is passed to component \" +\n            (formatComponentName(tag || Ctor)) + \", but the declared prop name is\" +\n            \" \\\"\" + key + \"\\\". \" +\n            \"Note that HTML attributes are case-insensitive and camelCased \" +\n            \"props need to use their kebab-case equivalents when using in-DOM \" +\n            \"templates. You should probably use \\\"\" + altKey + \"\\\" instead of \\\"\" + key + \"\\\".\"\n          );\n        }\n      }\n      checkProp(res, props, key, altKey, true) ||\n      checkProp(res, attrs, key, altKey, false);\n    }\n  }\n  return res\n}\n\nfunction checkProp (\n  res,\n  hash,\n  key,\n  altKey,\n  preserve\n) {\n  if (isDef(hash)) {\n    if (hasOwn(hash, key)) {\n      res[key] = hash[key];\n      if (!preserve) {\n        delete hash[key];\n      }\n      return true\n    } else if (hasOwn(hash, altKey)) {\n      res[key] = hash[altKey];\n      if (!preserve) {\n        delete hash[altKey];\n      }\n      return true\n    }\n  }\n  return false\n}\n\n/*  */\n\n// The template compiler attempts to minimize the need for normalization by\n// statically analyzing the template at compile time.\n//\n// For plain HTML markup, normalization can be completely skipped because the\n// generated render function is guaranteed to return Array<VNode>. There are\n// two cases where extra normalization is needed:\n\n// 1. When the children contains components - because a functional component\n// may return an Array instead of a single root. In this case, just a simple\n// normalization is needed - if any child is an Array, we flatten the whole\n// thing with Array.prototype.concat. It is guaranteed to be only 1-level deep\n// because functional components already normalize their own children.\nfunction simpleNormalizeChildren (children) {\n  for (var i = 0; i < children.length; i++) {\n    if (Array.isArray(children[i])) {\n      return Array.prototype.concat.apply([], children)\n    }\n  }\n  return children\n}\n\n// 2. When the children contains constructs that always generated nested Arrays,\n// e.g. <template>, <slot>, v-for, or when the children is provided by user\n// with hand-written render functions / JSX. In such cases a full normalization\n// is needed to cater to all possible types of children values.\nfunction normalizeChildren (children) {\n  return isPrimitive(children)\n    ? [createTextVNode(children)]\n    : Array.isArray(children)\n      ? normalizeArrayChildren(children)\n      : undefined\n}\n\nfunction isTextNode (node) {\n  return isDef(node) && isDef(node.text) && isFalse(node.isComment)\n}\n\nfunction normalizeArrayChildren (children, nestedIndex) {\n  var res = [];\n  var i, c, lastIndex, last;\n  for (i = 0; i < children.length; i++) {\n    c = children[i];\n    if (isUndef(c) || typeof c === 'boolean') { continue }\n    lastIndex = res.length - 1;\n    last = res[lastIndex];\n    //  nested\n    if (Array.isArray(c)) {\n      if (c.length > 0) {\n        c = normalizeArrayChildren(c, ((nestedIndex || '') + \"_\" + i));\n        // merge adjacent text nodes\n        if (isTextNode(c[0]) && isTextNode(last)) {\n          res[lastIndex] = createTextVNode(last.text + (c[0]).text);\n          c.shift();\n        }\n        res.push.apply(res, c);\n      }\n    } else if (isPrimitive(c)) {\n      if (isTextNode(last)) {\n        // merge adjacent text nodes\n        // this is necessary for SSR hydration because text nodes are\n        // essentially merged when rendered to HTML strings\n        res[lastIndex] = createTextVNode(last.text + c);\n      } else if (c !== '') {\n        // convert primitive to vnode\n        res.push(createTextVNode(c));\n      }\n    } else {\n      if (isTextNode(c) && isTextNode(last)) {\n        // merge adjacent text nodes\n        res[lastIndex] = createTextVNode(last.text + c.text);\n      } else {\n        // default key for nested array children (likely generated by v-for)\n        if (isTrue(children._isVList) &&\n          isDef(c.tag) &&\n          isUndef(c.key) &&\n          isDef(nestedIndex)) {\n          c.key = \"__vlist\" + nestedIndex + \"_\" + i + \"__\";\n        }\n        res.push(c);\n      }\n    }\n  }\n  return res\n}\n\n/*  */\n\nfunction initProvide (vm) {\n  var provide = vm.$options.provide;\n  if (provide) {\n    vm._provided = typeof provide === 'function'\n      ? provide.call(vm)\n      : provide;\n  }\n}\n\nfunction initInjections (vm) {\n  var result = resolveInject(vm.$options.inject, vm);\n  if (result) {\n    toggleObserving(false);\n    Object.keys(result).forEach(function (key) {\n      /* istanbul ignore else */\n      if (process.env.NODE_ENV !== 'production') {\n        defineReactive$$1(vm, key, result[key], function () {\n          warn(\n            \"Avoid mutating an injected value directly since the changes will be \" +\n            \"overwritten whenever the provided component re-renders. \" +\n            \"injection being mutated: \\\"\" + key + \"\\\"\",\n            vm\n          );\n        });\n      } else {\n        defineReactive$$1(vm, key, result[key]);\n      }\n    });\n    toggleObserving(true);\n  }\n}\n\nfunction resolveInject (inject, vm) {\n  if (inject) {\n    // inject is :any because flow is not smart enough to figure out cached\n    var result = Object.create(null);\n    var keys = hasSymbol\n      ? Reflect.ownKeys(inject)\n      : Object.keys(inject);\n\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i];\n      // #6574 in case the inject object is observed...\n      if (key === '__ob__') { continue }\n      var provideKey = inject[key].from;\n      var source = vm;\n      while (source) {\n        if (source._provided && hasOwn(source._provided, provideKey)) {\n          result[key] = source._provided[provideKey];\n          break\n        }\n        source = source.$parent;\n      }\n      if (!source) {\n        if ('default' in inject[key]) {\n          var provideDefault = inject[key].default;\n          result[key] = typeof provideDefault === 'function'\n            ? provideDefault.call(vm)\n            : provideDefault;\n        } else if (process.env.NODE_ENV !== 'production') {\n          warn((\"Injection \\\"\" + key + \"\\\" not found\"), vm);\n        }\n      }\n    }\n    return result\n  }\n}\n\n/*  */\n\n\n\n/**\n * Runtime helper for resolving raw children VNodes into a slot object.\n */\nfunction resolveSlots (\n  children,\n  context\n) {\n  if (!children || !children.length) {\n    return {}\n  }\n  var slots = {};\n  for (var i = 0, l = children.length; i < l; i++) {\n    var child = children[i];\n    var data = child.data;\n    // remove slot attribute if the node is resolved as a Vue slot node\n    if (data && data.attrs && data.attrs.slot) {\n      delete data.attrs.slot;\n    }\n    // named slots should only be respected if the vnode was rendered in the\n    // same context.\n    if ((child.context === context || child.fnContext === context) &&\n      data && data.slot != null\n    ) {\n      var name = data.slot;\n      var slot = (slots[name] || (slots[name] = []));\n      if (child.tag === 'template') {\n        slot.push.apply(slot, child.children || []);\n      } else {\n        slot.push(child);\n      }\n    } else {\n      (slots.default || (slots.default = [])).push(child);\n    }\n  }\n  // ignore slots that contains only whitespace\n  for (var name$1 in slots) {\n    if (slots[name$1].every(isWhitespace)) {\n      delete slots[name$1];\n    }\n  }\n  return slots\n}\n\nfunction isWhitespace (node) {\n  return (node.isComment && !node.asyncFactory) || node.text === ' '\n}\n\n/*  */\n\nfunction normalizeScopedSlots (\n  slots,\n  normalSlots,\n  prevSlots\n) {\n  var res;\n  var hasNormalSlots = Object.keys(normalSlots).length > 0;\n  var isStable = slots ? !!slots.$stable : !hasNormalSlots;\n  var key = slots && slots.$key;\n  if (!slots) {\n    res = {};\n  } else if (slots._normalized) {\n    // fast path 1: child component re-render only, parent did not change\n    return slots._normalized\n  } else if (\n    isStable &&\n    prevSlots &&\n    prevSlots !== emptyObject &&\n    key === prevSlots.$key &&\n    !hasNormalSlots &&\n    !prevSlots.$hasNormal\n  ) {\n    // fast path 2: stable scoped slots w/ no normal slots to proxy,\n    // only need to normalize once\n    return prevSlots\n  } else {\n    res = {};\n    for (var key$1 in slots) {\n      if (slots[key$1] && key$1[0] !== '$') {\n        res[key$1] = normalizeScopedSlot(normalSlots, key$1, slots[key$1]);\n      }\n    }\n  }\n  // expose normal slots on scopedSlots\n  for (var key$2 in normalSlots) {\n    if (!(key$2 in res)) {\n      res[key$2] = proxyNormalSlot(normalSlots, key$2);\n    }\n  }\n  // avoriaz seems to mock a non-extensible $scopedSlots object\n  // and when that is passed down this would cause an error\n  if (slots && Object.isExtensible(slots)) {\n    (slots)._normalized = res;\n  }\n  def(res, '$stable', isStable);\n  def(res, '$key', key);\n  def(res, '$hasNormal', hasNormalSlots);\n  return res\n}\n\nfunction normalizeScopedSlot(normalSlots, key, fn) {\n  var normalized = function () {\n    var res = arguments.length ? fn.apply(null, arguments) : fn({});\n    res = res && typeof res === 'object' && !Array.isArray(res)\n      ? [res] // single vnode\n      : normalizeChildren(res);\n    return res && (\n      res.length === 0 ||\n      (res.length === 1 && res[0].isComment) // #9658\n    ) ? undefined\n      : res\n  };\n  // this is a slot using the new v-slot syntax without scope. although it is\n  // compiled as a scoped slot, render fn users would expect it to be present\n  // on this.$slots because the usage is semantically a normal slot.\n  if (fn.proxy) {\n    Object.defineProperty(normalSlots, key, {\n      get: normalized,\n      enumerable: true,\n      configurable: true\n    });\n  }\n  return normalized\n}\n\nfunction proxyNormalSlot(slots, key) {\n  return function () { return slots[key]; }\n}\n\n/*  */\n\n/**\n * Runtime helper for rendering v-for lists.\n */\nfunction renderList (\n  val,\n  render\n) {\n  var ret, i, l, keys, key;\n  if (Array.isArray(val) || typeof val === 'string') {\n    ret = new Array(val.length);\n    for (i = 0, l = val.length; i < l; i++) {\n      ret[i] = render(val[i], i);\n    }\n  } else if (typeof val === 'number') {\n    ret = new Array(val);\n    for (i = 0; i < val; i++) {\n      ret[i] = render(i + 1, i);\n    }\n  } else if (isObject(val)) {\n    if (hasSymbol && val[Symbol.iterator]) {\n      ret = [];\n      var iterator = val[Symbol.iterator]();\n      var result = iterator.next();\n      while (!result.done) {\n        ret.push(render(result.value, ret.length));\n        result = iterator.next();\n      }\n    } else {\n      keys = Object.keys(val);\n      ret = new Array(keys.length);\n      for (i = 0, l = keys.length; i < l; i++) {\n        key = keys[i];\n        ret[i] = render(val[key], key, i);\n      }\n    }\n  }\n  if (!isDef(ret)) {\n    ret = [];\n  }\n  (ret)._isVList = true;\n  return ret\n}\n\n/*  */\n\n/**\n * Runtime helper for rendering <slot>\n */\nfunction renderSlot (\n  name,\n  fallback,\n  props,\n  bindObject\n) {\n  var scopedSlotFn = this.$scopedSlots[name];\n  var nodes;\n  if (scopedSlotFn) { // scoped slot\n    props = props || {};\n    if (bindObject) {\n      if (process.env.NODE_ENV !== 'production' && !isObject(bindObject)) {\n        warn(\n          'slot v-bind without argument expects an Object',\n          this\n        );\n      }\n      props = extend(extend({}, bindObject), props);\n    }\n    nodes = scopedSlotFn(props) || fallback;\n  } else {\n    nodes = this.$slots[name] || fallback;\n  }\n\n  var target = props && props.slot;\n  if (target) {\n    return this.$createElement('template', { slot: target }, nodes)\n  } else {\n    return nodes\n  }\n}\n\n/*  */\n\n/**\n * Runtime helper for resolving filters\n */\nfunction resolveFilter (id) {\n  return resolveAsset(this.$options, 'filters', id, true) || identity\n}\n\n/*  */\n\nfunction isKeyNotMatch (expect, actual) {\n  if (Array.isArray(expect)) {\n    return expect.indexOf(actual) === -1\n  } else {\n    return expect !== actual\n  }\n}\n\n/**\n * Runtime helper for checking keyCodes from config.\n * exposed as Vue.prototype._k\n * passing in eventKeyName as last argument separately for backwards compat\n */\nfunction checkKeyCodes (\n  eventKeyCode,\n  key,\n  builtInKeyCode,\n  eventKeyName,\n  builtInKeyName\n) {\n  var mappedKeyCode = config.keyCodes[key] || builtInKeyCode;\n  if (builtInKeyName && eventKeyName && !config.keyCodes[key]) {\n    return isKeyNotMatch(builtInKeyName, eventKeyName)\n  } else if (mappedKeyCode) {\n    return isKeyNotMatch(mappedKeyCode, eventKeyCode)\n  } else if (eventKeyName) {\n    return hyphenate(eventKeyName) !== key\n  }\n}\n\n/*  */\n\n/**\n * Runtime helper for merging v-bind=\"object\" into a VNode's data.\n */\nfunction bindObjectProps (\n  data,\n  tag,\n  value,\n  asProp,\n  isSync\n) {\n  if (value) {\n    if (!isObject(value)) {\n      process.env.NODE_ENV !== 'production' && warn(\n        'v-bind without argument expects an Object or Array value',\n        this\n      );\n    } else {\n      if (Array.isArray(value)) {\n        value = toObject(value);\n      }\n      var hash;\n      var loop = function ( key ) {\n        if (\n          key === 'class' ||\n          key === 'style' ||\n          isReservedAttribute(key)\n        ) {\n          hash = data;\n        } else {\n          var type = data.attrs && data.attrs.type;\n          hash = asProp || config.mustUseProp(tag, type, key)\n            ? data.domProps || (data.domProps = {})\n            : data.attrs || (data.attrs = {});\n        }\n        var camelizedKey = camelize(key);\n        var hyphenatedKey = hyphenate(key);\n        if (!(camelizedKey in hash) && !(hyphenatedKey in hash)) {\n          hash[key] = value[key];\n\n          if (isSync) {\n            var on = data.on || (data.on = {});\n            on[(\"update:\" + key)] = function ($event) {\n              value[key] = $event;\n            };\n          }\n        }\n      };\n\n      for (var key in value) loop( key );\n    }\n  }\n  return data\n}\n\n/*  */\n\n/**\n * Runtime helper for rendering static trees.\n */\nfunction renderStatic (\n  index,\n  isInFor\n) {\n  var cached = this._staticTrees || (this._staticTrees = []);\n  var tree = cached[index];\n  // if has already-rendered static tree and not inside v-for,\n  // we can reuse the same tree.\n  if (tree && !isInFor) {\n    return tree\n  }\n  // otherwise, render a fresh tree.\n  tree = cached[index] = this.$options.staticRenderFns[index].call(\n    this._renderProxy,\n    null,\n    this // for render fns generated for functional component templates\n  );\n  markStatic(tree, (\"__static__\" + index), false);\n  return tree\n}\n\n/**\n * Runtime helper for v-once.\n * Effectively it means marking the node as static with a unique key.\n */\nfunction markOnce (\n  tree,\n  index,\n  key\n) {\n  markStatic(tree, (\"__once__\" + index + (key ? (\"_\" + key) : \"\")), true);\n  return tree\n}\n\nfunction markStatic (\n  tree,\n  key,\n  isOnce\n) {\n  if (Array.isArray(tree)) {\n    for (var i = 0; i < tree.length; i++) {\n      if (tree[i] && typeof tree[i] !== 'string') {\n        markStaticNode(tree[i], (key + \"_\" + i), isOnce);\n      }\n    }\n  } else {\n    markStaticNode(tree, key, isOnce);\n  }\n}\n\nfunction markStaticNode (node, key, isOnce) {\n  node.isStatic = true;\n  node.key = key;\n  node.isOnce = isOnce;\n}\n\n/*  */\n\nfunction bindObjectListeners (data, value) {\n  if (value) {\n    if (!isPlainObject(value)) {\n      process.env.NODE_ENV !== 'production' && warn(\n        'v-on without argument expects an Object value',\n        this\n      );\n    } else {\n      var on = data.on = data.on ? extend({}, data.on) : {};\n      for (var key in value) {\n        var existing = on[key];\n        var ours = value[key];\n        on[key] = existing ? [].concat(existing, ours) : ours;\n      }\n    }\n  }\n  return data\n}\n\n/*  */\n\nfunction resolveScopedSlots (\n  fns, // see flow/vnode\n  res,\n  // the following are added in 2.6\n  hasDynamicKeys,\n  contentHashKey\n) {\n  res = res || { $stable: !hasDynamicKeys };\n  for (var i = 0; i < fns.length; i++) {\n    var slot = fns[i];\n    if (Array.isArray(slot)) {\n      resolveScopedSlots(slot, res, hasDynamicKeys);\n    } else if (slot) {\n      // marker for reverse proxying v-slot without scope on this.$slots\n      if (slot.proxy) {\n        slot.fn.proxy = true;\n      }\n      res[slot.key] = slot.fn;\n    }\n  }\n  if (contentHashKey) {\n    (res).$key = contentHashKey;\n  }\n  return res\n}\n\n/*  */\n\nfunction bindDynamicKeys (baseObj, values) {\n  for (var i = 0; i < values.length; i += 2) {\n    var key = values[i];\n    if (typeof key === 'string' && key) {\n      baseObj[values[i]] = values[i + 1];\n    } else if (process.env.NODE_ENV !== 'production' && key !== '' && key !== null) {\n      // null is a special value for explicitly removing a binding\n      warn(\n        (\"Invalid value for dynamic directive argument (expected string or null): \" + key),\n        this\n      );\n    }\n  }\n  return baseObj\n}\n\n// helper to dynamically append modifier runtime markers to event names.\n// ensure only append when value is already string, otherwise it will be cast\n// to string and cause the type check to miss.\nfunction prependModifier (value, symbol) {\n  return typeof value === 'string' ? symbol + value : value\n}\n\n/*  */\n\nfunction installRenderHelpers (target) {\n  target._o = markOnce;\n  target._n = toNumber;\n  target._s = toString;\n  target._l = renderList;\n  target._t = renderSlot;\n  target._q = looseEqual;\n  target._i = looseIndexOf;\n  target._m = renderStatic;\n  target._f = resolveFilter;\n  target._k = checkKeyCodes;\n  target._b = bindObjectProps;\n  target._v = createTextVNode;\n  target._e = createEmptyVNode;\n  target._u = resolveScopedSlots;\n  target._g = bindObjectListeners;\n  target._d = bindDynamicKeys;\n  target._p = prependModifier;\n}\n\n/*  */\n\nfunction FunctionalRenderContext (\n  data,\n  props,\n  children,\n  parent,\n  Ctor\n) {\n  var this$1 = this;\n\n  var options = Ctor.options;\n  // ensure the createElement function in functional components\n  // gets a unique context - this is necessary for correct named slot check\n  var contextVm;\n  if (hasOwn(parent, '_uid')) {\n    contextVm = Object.create(parent);\n    // $flow-disable-line\n    contextVm._original = parent;\n  } else {\n    // the context vm passed in is a functional context as well.\n    // in this case we want to make sure we are able to get a hold to the\n    // real context instance.\n    contextVm = parent;\n    // $flow-disable-line\n    parent = parent._original;\n  }\n  var isCompiled = isTrue(options._compiled);\n  var needNormalization = !isCompiled;\n\n  this.data = data;\n  this.props = props;\n  this.children = children;\n  this.parent = parent;\n  this.listeners = data.on || emptyObject;\n  this.injections = resolveInject(options.inject, parent);\n  this.slots = function () {\n    if (!this$1.$slots) {\n      normalizeScopedSlots(\n        data.scopedSlots,\n        this$1.$slots = resolveSlots(children, parent)\n      );\n    }\n    return this$1.$slots\n  };\n\n  Object.defineProperty(this, 'scopedSlots', ({\n    enumerable: true,\n    get: function get () {\n      return normalizeScopedSlots(data.scopedSlots, this.slots())\n    }\n  }));\n\n  // support for compiled functional template\n  if (isCompiled) {\n    // exposing $options for renderStatic()\n    this.$options = options;\n    // pre-resolve slots for renderSlot()\n    this.$slots = this.slots();\n    this.$scopedSlots = normalizeScopedSlots(data.scopedSlots, this.$slots);\n  }\n\n  if (options._scopeId) {\n    this._c = function (a, b, c, d) {\n      var vnode = createElement(contextVm, a, b, c, d, needNormalization);\n      if (vnode && !Array.isArray(vnode)) {\n        vnode.fnScopeId = options._scopeId;\n        vnode.fnContext = parent;\n      }\n      return vnode\n    };\n  } else {\n    this._c = function (a, b, c, d) { return createElement(contextVm, a, b, c, d, needNormalization); };\n  }\n}\n\ninstallRenderHelpers(FunctionalRenderContext.prototype);\n\nfunction createFunctionalComponent (\n  Ctor,\n  propsData,\n  data,\n  contextVm,\n  children\n) {\n  var options = Ctor.options;\n  var props = {};\n  var propOptions = options.props;\n  if (isDef(propOptions)) {\n    for (var key in propOptions) {\n      props[key] = validateProp(key, propOptions, propsData || emptyObject);\n    }\n  } else {\n    if (isDef(data.attrs)) { mergeProps(props, data.attrs); }\n    if (isDef(data.props)) { mergeProps(props, data.props); }\n  }\n\n  var renderContext = new FunctionalRenderContext(\n    data,\n    props,\n    children,\n    contextVm,\n    Ctor\n  );\n\n  var vnode = options.render.call(null, renderContext._c, renderContext);\n\n  if (vnode instanceof VNode) {\n    return cloneAndMarkFunctionalResult(vnode, data, renderContext.parent, options, renderContext)\n  } else if (Array.isArray(vnode)) {\n    var vnodes = normalizeChildren(vnode) || [];\n    var res = new Array(vnodes.length);\n    for (var i = 0; i < vnodes.length; i++) {\n      res[i] = cloneAndMarkFunctionalResult(vnodes[i], data, renderContext.parent, options, renderContext);\n    }\n    return res\n  }\n}\n\nfunction cloneAndMarkFunctionalResult (vnode, data, contextVm, options, renderContext) {\n  // #7817 clone node before setting fnContext, otherwise if the node is reused\n  // (e.g. it was from a cached normal slot) the fnContext causes named slots\n  // that should not be matched to match.\n  var clone = cloneVNode(vnode);\n  clone.fnContext = contextVm;\n  clone.fnOptions = options;\n  if (process.env.NODE_ENV !== 'production') {\n    (clone.devtoolsMeta = clone.devtoolsMeta || {}).renderContext = renderContext;\n  }\n  if (data.slot) {\n    (clone.data || (clone.data = {})).slot = data.slot;\n  }\n  return clone\n}\n\nfunction mergeProps (to, from) {\n  for (var key in from) {\n    to[camelize(key)] = from[key];\n  }\n}\n\n/*  */\n\n/*  */\n\n/*  */\n\n/*  */\n\n// inline hooks to be invoked on component VNodes during patch\nvar componentVNodeHooks = {\n  init: function init (vnode, hydrating) {\n    if (\n      vnode.componentInstance &&\n      !vnode.componentInstance._isDestroyed &&\n      vnode.data.keepAlive\n    ) {\n      // kept-alive components, treat as a patch\n      var mountedNode = vnode; // work around flow\n      componentVNodeHooks.prepatch(mountedNode, mountedNode);\n    } else {\n      var child = vnode.componentInstance = createComponentInstanceForVnode(\n        vnode,\n        activeInstance\n      );\n      child.$mount(hydrating ? vnode.elm : undefined, hydrating);\n    }\n  },\n\n  prepatch: function prepatch (oldVnode, vnode) {\n    var options = vnode.componentOptions;\n    var child = vnode.componentInstance = oldVnode.componentInstance;\n    updateChildComponent(\n      child,\n      options.propsData, // updated props\n      options.listeners, // updated listeners\n      vnode, // new parent vnode\n      options.children // new children\n    );\n  },\n\n  insert: function insert (vnode) {\n    var context = vnode.context;\n    var componentInstance = vnode.componentInstance;\n    if (!componentInstance._isMounted) {\n      componentInstance._isMounted = true;\n      callHook(componentInstance, 'mounted');\n    }\n    if (vnode.data.keepAlive) {\n      if (context._isMounted) {\n        // vue-router#1212\n        // During updates, a kept-alive component's child components may\n        // change, so directly walking the tree here may call activated hooks\n        // on incorrect children. Instead we push them into a queue which will\n        // be processed after the whole patch process ended.\n        queueActivatedComponent(componentInstance);\n      } else {\n        activateChildComponent(componentInstance, true /* direct */);\n      }\n    }\n  },\n\n  destroy: function destroy (vnode) {\n    var componentInstance = vnode.componentInstance;\n    if (!componentInstance._isDestroyed) {\n      if (!vnode.data.keepAlive) {\n        componentInstance.$destroy();\n      } else {\n        deactivateChildComponent(componentInstance, true /* direct */);\n      }\n    }\n  }\n};\n\nvar hooksToMerge = Object.keys(componentVNodeHooks);\n\nfunction createComponent (\n  Ctor,\n  data,\n  context,\n  children,\n  tag\n) {\n  if (isUndef(Ctor)) {\n    return\n  }\n\n  var baseCtor = context.$options._base;\n\n  // plain options object: turn it into a constructor\n  if (isObject(Ctor)) {\n    Ctor = baseCtor.extend(Ctor);\n  }\n\n  // if at this stage it's not a constructor or an async component factory,\n  // reject.\n  if (typeof Ctor !== 'function') {\n    if (process.env.NODE_ENV !== 'production') {\n      warn((\"Invalid Component definition: \" + (String(Ctor))), context);\n    }\n    return\n  }\n\n  // async component\n  var asyncFactory;\n  if (isUndef(Ctor.cid)) {\n    asyncFactory = Ctor;\n    Ctor = resolveAsyncComponent(asyncFactory, baseCtor);\n    if (Ctor === undefined) {\n      // return a placeholder node for async component, which is rendered\n      // as a comment node but preserves all the raw information for the node.\n      // the information will be used for async server-rendering and hydration.\n      return createAsyncPlaceholder(\n        asyncFactory,\n        data,\n        context,\n        children,\n        tag\n      )\n    }\n  }\n\n  data = data || {};\n\n  // resolve constructor options in case global mixins are applied after\n  // component constructor creation\n  resolveConstructorOptions(Ctor);\n\n  // transform component v-model data into props & events\n  if (isDef(data.model)) {\n    transformModel(Ctor.options, data);\n  }\n\n  // extract props\n  var propsData = extractPropsFromVNodeData(data, Ctor, tag);\n\n  // functional component\n  if (isTrue(Ctor.options.functional)) {\n    return createFunctionalComponent(Ctor, propsData, data, context, children)\n  }\n\n  // extract listeners, since these needs to be treated as\n  // child component listeners instead of DOM listeners\n  var listeners = data.on;\n  // replace with listeners with .native modifier\n  // so it gets processed during parent component patch.\n  data.on = data.nativeOn;\n\n  if (isTrue(Ctor.options.abstract)) {\n    // abstract components do not keep anything\n    // other than props & listeners & slot\n\n    // work around flow\n    var slot = data.slot;\n    data = {};\n    if (slot) {\n      data.slot = slot;\n    }\n  }\n\n  // install component management hooks onto the placeholder node\n  installComponentHooks(data);\n\n  // return a placeholder vnode\n  var name = Ctor.options.name || tag;\n  var vnode = new VNode(\n    (\"vue-component-\" + (Ctor.cid) + (name ? (\"-\" + name) : '')),\n    data, undefined, undefined, undefined, context,\n    { Ctor: Ctor, propsData: propsData, listeners: listeners, tag: tag, children: children },\n    asyncFactory\n  );\n\n  return vnode\n}\n\nfunction createComponentInstanceForVnode (\n  vnode, // we know it's MountedComponentVNode but flow doesn't\n  parent // activeInstance in lifecycle state\n) {\n  var options = {\n    _isComponent: true,\n    _parentVnode: vnode,\n    parent: parent\n  };\n  // check inline-template render functions\n  var inlineTemplate = vnode.data.inlineTemplate;\n  if (isDef(inlineTemplate)) {\n    options.render = inlineTemplate.render;\n    options.staticRenderFns = inlineTemplate.staticRenderFns;\n  }\n  return new vnode.componentOptions.Ctor(options)\n}\n\nfunction installComponentHooks (data) {\n  var hooks = data.hook || (data.hook = {});\n  for (var i = 0; i < hooksToMerge.length; i++) {\n    var key = hooksToMerge[i];\n    var existing = hooks[key];\n    var toMerge = componentVNodeHooks[key];\n    if (existing !== toMerge && !(existing && existing._merged)) {\n      hooks[key] = existing ? mergeHook$1(toMerge, existing) : toMerge;\n    }\n  }\n}\n\nfunction mergeHook$1 (f1, f2) {\n  var merged = function (a, b) {\n    // flow complains about extra args which is why we use any\n    f1(a, b);\n    f2(a, b);\n  };\n  merged._merged = true;\n  return merged\n}\n\n// transform component v-model info (value and callback) into\n// prop and event handler respectively.\nfunction transformModel (options, data) {\n  var prop = (options.model && options.model.prop) || 'value';\n  var event = (options.model && options.model.event) || 'input'\n  ;(data.attrs || (data.attrs = {}))[prop] = data.model.value;\n  var on = data.on || (data.on = {});\n  var existing = on[event];\n  var callback = data.model.callback;\n  if (isDef(existing)) {\n    if (\n      Array.isArray(existing)\n        ? existing.indexOf(callback) === -1\n        : existing !== callback\n    ) {\n      on[event] = [callback].concat(existing);\n    }\n  } else {\n    on[event] = callback;\n  }\n}\n\n/*  */\n\nvar SIMPLE_NORMALIZE = 1;\nvar ALWAYS_NORMALIZE = 2;\n\n// wrapper function for providing a more flexible interface\n// without getting yelled at by flow\nfunction createElement (\n  context,\n  tag,\n  data,\n  children,\n  normalizationType,\n  alwaysNormalize\n) {\n  if (Array.isArray(data) || isPrimitive(data)) {\n    normalizationType = children;\n    children = data;\n    data = undefined;\n  }\n  if (isTrue(alwaysNormalize)) {\n    normalizationType = ALWAYS_NORMALIZE;\n  }\n  return _createElement(context, tag, data, children, normalizationType)\n}\n\nfunction _createElement (\n  context,\n  tag,\n  data,\n  children,\n  normalizationType\n) {\n  if (isDef(data) && isDef((data).__ob__)) {\n    process.env.NODE_ENV !== 'production' && warn(\n      \"Avoid using observed data object as vnode data: \" + (JSON.stringify(data)) + \"\\n\" +\n      'Always create fresh vnode data objects in each render!',\n      context\n    );\n    return createEmptyVNode()\n  }\n  // object syntax in v-bind\n  if (isDef(data) && isDef(data.is)) {\n    tag = data.is;\n  }\n  if (!tag) {\n    // in case of component :is set to falsy value\n    return createEmptyVNode()\n  }\n  // warn against non-primitive key\n  if (process.env.NODE_ENV !== 'production' &&\n    isDef(data) && isDef(data.key) && !isPrimitive(data.key)\n  ) {\n    {\n      warn(\n        'Avoid using non-primitive value as key, ' +\n        'use string/number value instead.',\n        context\n      );\n    }\n  }\n  // support single function children as default scoped slot\n  if (Array.isArray(children) &&\n    typeof children[0] === 'function'\n  ) {\n    data = data || {};\n    data.scopedSlots = { default: children[0] };\n    children.length = 0;\n  }\n  if (normalizationType === ALWAYS_NORMALIZE) {\n    children = normalizeChildren(children);\n  } else if (normalizationType === SIMPLE_NORMALIZE) {\n    children = simpleNormalizeChildren(children);\n  }\n  var vnode, ns;\n  if (typeof tag === 'string') {\n    var Ctor;\n    ns = (context.$vnode && context.$vnode.ns) || config.getTagNamespace(tag);\n    if (config.isReservedTag(tag)) {\n      // platform built-in elements\n      if (process.env.NODE_ENV !== 'production' && isDef(data) && isDef(data.nativeOn)) {\n        warn(\n          (\"The .native modifier for v-on is only valid on components but it was used on <\" + tag + \">.\"),\n          context\n        );\n      }\n      vnode = new VNode(\n        config.parsePlatformTagName(tag), data, children,\n        undefined, undefined, context\n      );\n    } else if ((!data || !data.pre) && isDef(Ctor = resolveAsset(context.$options, 'components', tag))) {\n      // component\n      vnode = createComponent(Ctor, data, context, children, tag);\n    } else {\n      // unknown or unlisted namespaced elements\n      // check at runtime because it may get assigned a namespace when its\n      // parent normalizes children\n      vnode = new VNode(\n        tag, data, children,\n        undefined, undefined, context\n      );\n    }\n  } else {\n    // direct component options / constructor\n    vnode = createComponent(tag, data, context, children);\n  }\n  if (Array.isArray(vnode)) {\n    return vnode\n  } else if (isDef(vnode)) {\n    if (isDef(ns)) { applyNS(vnode, ns); }\n    if (isDef(data)) { registerDeepBindings(data); }\n    return vnode\n  } else {\n    return createEmptyVNode()\n  }\n}\n\nfunction applyNS (vnode, ns, force) {\n  vnode.ns = ns;\n  if (vnode.tag === 'foreignObject') {\n    // use default namespace inside foreignObject\n    ns = undefined;\n    force = true;\n  }\n  if (isDef(vnode.children)) {\n    for (var i = 0, l = vnode.children.length; i < l; i++) {\n      var child = vnode.children[i];\n      if (isDef(child.tag) && (\n        isUndef(child.ns) || (isTrue(force) && child.tag !== 'svg'))) {\n        applyNS(child, ns, force);\n      }\n    }\n  }\n}\n\n// ref #5318\n// necessary to ensure parent re-render when deep bindings like :style and\n// :class are used on slot nodes\nfunction registerDeepBindings (data) {\n  if (isObject(data.style)) {\n    traverse(data.style);\n  }\n  if (isObject(data.class)) {\n    traverse(data.class);\n  }\n}\n\n/*  */\n\nfunction initRender (vm) {\n  vm._vnode = null; // the root of the child tree\n  vm._staticTrees = null; // v-once cached trees\n  var options = vm.$options;\n  var parentVnode = vm.$vnode = options._parentVnode; // the placeholder node in parent tree\n  var renderContext = parentVnode && parentVnode.context;\n  vm.$slots = resolveSlots(options._renderChildren, renderContext);\n  vm.$scopedSlots = emptyObject;\n  // bind the createElement fn to this instance\n  // so that we get proper render context inside it.\n  // args order: tag, data, children, normalizationType, alwaysNormalize\n  // internal version is used by render functions compiled from templates\n  vm._c = function (a, b, c, d) { return createElement(vm, a, b, c, d, false); };\n  // normalization is always applied for the public version, used in\n  // user-written render functions.\n  vm.$createElement = function (a, b, c, d) { return createElement(vm, a, b, c, d, true); };\n\n  // $attrs & $listeners are exposed for easier HOC creation.\n  // they need to be reactive so that HOCs using them are always updated\n  var parentData = parentVnode && parentVnode.data;\n\n  /* istanbul ignore else */\n  if (process.env.NODE_ENV !== 'production') {\n    defineReactive$$1(vm, '$attrs', parentData && parentData.attrs || emptyObject, function () {\n      !isUpdatingChildComponent && warn(\"$attrs is readonly.\", vm);\n    }, true);\n    defineReactive$$1(vm, '$listeners', options._parentListeners || emptyObject, function () {\n      !isUpdatingChildComponent && warn(\"$listeners is readonly.\", vm);\n    }, true);\n  } else {\n    defineReactive$$1(vm, '$attrs', parentData && parentData.attrs || emptyObject, null, true);\n    defineReactive$$1(vm, '$listeners', options._parentListeners || emptyObject, null, true);\n  }\n}\n\nvar currentRenderingInstance = null;\n\nfunction renderMixin (Vue) {\n  // install runtime convenience helpers\n  installRenderHelpers(Vue.prototype);\n\n  Vue.prototype.$nextTick = function (fn) {\n    return nextTick(fn, this)\n  };\n\n  Vue.prototype._render = function () {\n    var vm = this;\n    var ref = vm.$options;\n    var render = ref.render;\n    var _parentVnode = ref._parentVnode;\n\n    if (_parentVnode) {\n      vm.$scopedSlots = normalizeScopedSlots(\n        _parentVnode.data.scopedSlots,\n        vm.$slots,\n        vm.$scopedSlots\n      );\n    }\n\n    // set parent vnode. this allows render functions to have access\n    // to the data on the placeholder node.\n    vm.$vnode = _parentVnode;\n    // render self\n    var vnode;\n    try {\n      // There's no need to maintain a stack because all render fns are called\n      // separately from one another. Nested component's render fns are called\n      // when parent component is patched.\n      currentRenderingInstance = vm;\n      vnode = render.call(vm._renderProxy, vm.$createElement);\n    } catch (e) {\n      handleError(e, vm, \"render\");\n      // return error render result,\n      // or previous vnode to prevent render error causing blank component\n      /* istanbul ignore else */\n      if (process.env.NODE_ENV !== 'production' && vm.$options.renderError) {\n        try {\n          vnode = vm.$options.renderError.call(vm._renderProxy, vm.$createElement, e);\n        } catch (e) {\n          handleError(e, vm, \"renderError\");\n          vnode = vm._vnode;\n        }\n      } else {\n        vnode = vm._vnode;\n      }\n    } finally {\n      currentRenderingInstance = null;\n    }\n    // if the returned array contains only a single node, allow it\n    if (Array.isArray(vnode) && vnode.length === 1) {\n      vnode = vnode[0];\n    }\n    // return empty vnode in case the render function errored out\n    if (!(vnode instanceof VNode)) {\n      if (process.env.NODE_ENV !== 'production' && Array.isArray(vnode)) {\n        warn(\n          'Multiple root nodes returned from render function. Render function ' +\n          'should return a single root node.',\n          vm\n        );\n      }\n      vnode = createEmptyVNode();\n    }\n    // set parent\n    vnode.parent = _parentVnode;\n    return vnode\n  };\n}\n\n/*  */\n\nfunction ensureCtor (comp, base) {\n  if (\n    comp.__esModule ||\n    (hasSymbol && comp[Symbol.toStringTag] === 'Module')\n  ) {\n    comp = comp.default;\n  }\n  return isObject(comp)\n    ? base.extend(comp)\n    : comp\n}\n\nfunction createAsyncPlaceholder (\n  factory,\n  data,\n  context,\n  children,\n  tag\n) {\n  var node = createEmptyVNode();\n  node.asyncFactory = factory;\n  node.asyncMeta = { data: data, context: context, children: children, tag: tag };\n  return node\n}\n\nfunction resolveAsyncComponent (\n  factory,\n  baseCtor\n) {\n  if (isTrue(factory.error) && isDef(factory.errorComp)) {\n    return factory.errorComp\n  }\n\n  if (isDef(factory.resolved)) {\n    return factory.resolved\n  }\n\n  var owner = currentRenderingInstance;\n  if (owner && isDef(factory.owners) && factory.owners.indexOf(owner) === -1) {\n    // already pending\n    factory.owners.push(owner);\n  }\n\n  if (isTrue(factory.loading) && isDef(factory.loadingComp)) {\n    return factory.loadingComp\n  }\n\n  if (owner && !isDef(factory.owners)) {\n    var owners = factory.owners = [owner];\n    var sync = true;\n    var timerLoading = null;\n    var timerTimeout = null\n\n    ;(owner).$on('hook:destroyed', function () { return remove(owners, owner); });\n\n    var forceRender = function (renderCompleted) {\n      for (var i = 0, l = owners.length; i < l; i++) {\n        (owners[i]).$forceUpdate();\n      }\n\n      if (renderCompleted) {\n        owners.length = 0;\n        if (timerLoading !== null) {\n          clearTimeout(timerLoading);\n          timerLoading = null;\n        }\n        if (timerTimeout !== null) {\n          clearTimeout(timerTimeout);\n          timerTimeout = null;\n        }\n      }\n    };\n\n    var resolve = once(function (res) {\n      // cache resolved\n      factory.resolved = ensureCtor(res, baseCtor);\n      // invoke callbacks only if this is not a synchronous resolve\n      // (async resolves are shimmed as synchronous during SSR)\n      if (!sync) {\n        forceRender(true);\n      } else {\n        owners.length = 0;\n      }\n    });\n\n    var reject = once(function (reason) {\n      process.env.NODE_ENV !== 'production' && warn(\n        \"Failed to resolve async component: \" + (String(factory)) +\n        (reason ? (\"\\nReason: \" + reason) : '')\n      );\n      if (isDef(factory.errorComp)) {\n        factory.error = true;\n        forceRender(true);\n      }\n    });\n\n    var res = factory(resolve, reject);\n\n    if (isObject(res)) {\n      if (isPromise(res)) {\n        // () => Promise\n        if (isUndef(factory.resolved)) {\n          res.then(resolve, reject);\n        }\n      } else if (isPromise(res.component)) {\n        res.component.then(resolve, reject);\n\n        if (isDef(res.error)) {\n          factory.errorComp = ensureCtor(res.error, baseCtor);\n        }\n\n        if (isDef(res.loading)) {\n          factory.loadingComp = ensureCtor(res.loading, baseCtor);\n          if (res.delay === 0) {\n            factory.loading = true;\n          } else {\n            timerLoading = setTimeout(function () {\n              timerLoading = null;\n              if (isUndef(factory.resolved) && isUndef(factory.error)) {\n                factory.loading = true;\n                forceRender(false);\n              }\n            }, res.delay || 200);\n          }\n        }\n\n        if (isDef(res.timeout)) {\n          timerTimeout = setTimeout(function () {\n            timerTimeout = null;\n            if (isUndef(factory.resolved)) {\n              reject(\n                process.env.NODE_ENV !== 'production'\n                  ? (\"timeout (\" + (res.timeout) + \"ms)\")\n                  : null\n              );\n            }\n          }, res.timeout);\n        }\n      }\n    }\n\n    sync = false;\n    // return in case resolved synchronously\n    return factory.loading\n      ? factory.loadingComp\n      : factory.resolved\n  }\n}\n\n/*  */\n\nfunction isAsyncPlaceholder (node) {\n  return node.isComment && node.asyncFactory\n}\n\n/*  */\n\nfunction getFirstComponentChild (children) {\n  if (Array.isArray(children)) {\n    for (var i = 0; i < children.length; i++) {\n      var c = children[i];\n      if (isDef(c) && (isDef(c.componentOptions) || isAsyncPlaceholder(c))) {\n        return c\n      }\n    }\n  }\n}\n\n/*  */\n\n/*  */\n\nfunction initEvents (vm) {\n  vm._events = Object.create(null);\n  vm._hasHookEvent = false;\n  // init parent attached events\n  var listeners = vm.$options._parentListeners;\n  if (listeners) {\n    updateComponentListeners(vm, listeners);\n  }\n}\n\nvar target;\n\nfunction add (event, fn) {\n  target.$on(event, fn);\n}\n\nfunction remove$1 (event, fn) {\n  target.$off(event, fn);\n}\n\nfunction createOnceHandler (event, fn) {\n  var _target = target;\n  return function onceHandler () {\n    var res = fn.apply(null, arguments);\n    if (res !== null) {\n      _target.$off(event, onceHandler);\n    }\n  }\n}\n\nfunction updateComponentListeners (\n  vm,\n  listeners,\n  oldListeners\n) {\n  target = vm;\n  updateListeners(listeners, oldListeners || {}, add, remove$1, createOnceHandler, vm);\n  target = undefined;\n}\n\nfunction eventsMixin (Vue) {\n  var hookRE = /^hook:/;\n  Vue.prototype.$on = function (event, fn) {\n    var vm = this;\n    if (Array.isArray(event)) {\n      for (var i = 0, l = event.length; i < l; i++) {\n        vm.$on(event[i], fn);\n      }\n    } else {\n      (vm._events[event] || (vm._events[event] = [])).push(fn);\n      // optimize hook:event cost by using a boolean flag marked at registration\n      // instead of a hash lookup\n      if (hookRE.test(event)) {\n        vm._hasHookEvent = true;\n      }\n    }\n    return vm\n  };\n\n  Vue.prototype.$once = function (event, fn) {\n    var vm = this;\n    function on () {\n      vm.$off(event, on);\n      fn.apply(vm, arguments);\n    }\n    on.fn = fn;\n    vm.$on(event, on);\n    return vm\n  };\n\n  Vue.prototype.$off = function (event, fn) {\n    var vm = this;\n    // all\n    if (!arguments.length) {\n      vm._events = Object.create(null);\n      return vm\n    }\n    // array of events\n    if (Array.isArray(event)) {\n      for (var i$1 = 0, l = event.length; i$1 < l; i$1++) {\n        vm.$off(event[i$1], fn);\n      }\n      return vm\n    }\n    // specific event\n    var cbs = vm._events[event];\n    if (!cbs) {\n      return vm\n    }\n    if (!fn) {\n      vm._events[event] = null;\n      return vm\n    }\n    // specific handler\n    var cb;\n    var i = cbs.length;\n    while (i--) {\n      cb = cbs[i];\n      if (cb === fn || cb.fn === fn) {\n        cbs.splice(i, 1);\n        break\n      }\n    }\n    return vm\n  };\n\n  Vue.prototype.$emit = function (event) {\n    var vm = this;\n    if (process.env.NODE_ENV !== 'production') {\n      var lowerCaseEvent = event.toLowerCase();\n      if (lowerCaseEvent !== event && vm._events[lowerCaseEvent]) {\n        tip(\n          \"Event \\\"\" + lowerCaseEvent + \"\\\" is emitted in component \" +\n          (formatComponentName(vm)) + \" but the handler is registered for \\\"\" + event + \"\\\". \" +\n          \"Note that HTML attributes are case-insensitive and you cannot use \" +\n          \"v-on to listen to camelCase events when using in-DOM templates. \" +\n          \"You should probably use \\\"\" + (hyphenate(event)) + \"\\\" instead of \\\"\" + event + \"\\\".\"\n        );\n      }\n    }\n    var cbs = vm._events[event];\n    if (cbs) {\n      cbs = cbs.length > 1 ? toArray(cbs) : cbs;\n      var args = toArray(arguments, 1);\n      var info = \"event handler for \\\"\" + event + \"\\\"\";\n      for (var i = 0, l = cbs.length; i < l; i++) {\n        invokeWithErrorHandling(cbs[i], vm, args, vm, info);\n      }\n    }\n    return vm\n  };\n}\n\n/*  */\n\nvar activeInstance = null;\nvar isUpdatingChildComponent = false;\n\nfunction setActiveInstance(vm) {\n  var prevActiveInstance = activeInstance;\n  activeInstance = vm;\n  return function () {\n    activeInstance = prevActiveInstance;\n  }\n}\n\nfunction initLifecycle (vm) {\n  var options = vm.$options;\n\n  // locate first non-abstract parent\n  var parent = options.parent;\n  if (parent && !options.abstract) {\n    while (parent.$options.abstract && parent.$parent) {\n      parent = parent.$parent;\n    }\n    parent.$children.push(vm);\n  }\n\n  vm.$parent = parent;\n  vm.$root = parent ? parent.$root : vm;\n\n  vm.$children = [];\n  vm.$refs = {};\n\n  vm._watcher = null;\n  vm._inactive = null;\n  vm._directInactive = false;\n  vm._isMounted = false;\n  vm._isDestroyed = false;\n  vm._isBeingDestroyed = false;\n}\n\nfunction lifecycleMixin (Vue) {\n  Vue.prototype._update = function (vnode, hydrating) {\n    var vm = this;\n    var prevEl = vm.$el;\n    var prevVnode = vm._vnode;\n    var restoreActiveInstance = setActiveInstance(vm);\n    vm._vnode = vnode;\n    // Vue.prototype.__patch__ is injected in entry points\n    // based on the rendering backend used.\n    if (!prevVnode) {\n      // initial render\n      vm.$el = vm.__patch__(vm.$el, vnode, hydrating, false /* removeOnly */);\n    } else {\n      // updates\n      vm.$el = vm.__patch__(prevVnode, vnode);\n    }\n    restoreActiveInstance();\n    // update __vue__ reference\n    if (prevEl) {\n      prevEl.__vue__ = null;\n    }\n    if (vm.$el) {\n      vm.$el.__vue__ = vm;\n    }\n    // if parent is an HOC, update its $el as well\n    if (vm.$vnode && vm.$parent && vm.$vnode === vm.$parent._vnode) {\n      vm.$parent.$el = vm.$el;\n    }\n    // updated hook is called by the scheduler to ensure that children are\n    // updated in a parent's updated hook.\n  };\n\n  Vue.prototype.$forceUpdate = function () {\n    var vm = this;\n    if (vm._watcher) {\n      vm._watcher.update();\n    }\n  };\n\n  Vue.prototype.$destroy = function () {\n    var vm = this;\n    if (vm._isBeingDestroyed) {\n      return\n    }\n    callHook(vm, 'beforeDestroy');\n    vm._isBeingDestroyed = true;\n    // remove self from parent\n    var parent = vm.$parent;\n    if (parent && !parent._isBeingDestroyed && !vm.$options.abstract) {\n      remove(parent.$children, vm);\n    }\n    // teardown watchers\n    if (vm._watcher) {\n      vm._watcher.teardown();\n    }\n    var i = vm._watchers.length;\n    while (i--) {\n      vm._watchers[i].teardown();\n    }\n    // remove reference from data ob\n    // frozen object may not have observer.\n    if (vm._data.__ob__) {\n      vm._data.__ob__.vmCount--;\n    }\n    // call the last hook...\n    vm._isDestroyed = true;\n    // invoke destroy hooks on current rendered tree\n    vm.__patch__(vm._vnode, null);\n    // fire destroyed hook\n    callHook(vm, 'destroyed');\n    // turn off all instance listeners.\n    vm.$off();\n    // remove __vue__ reference\n    if (vm.$el) {\n      vm.$el.__vue__ = null;\n    }\n    // release circular reference (#6759)\n    if (vm.$vnode) {\n      vm.$vnode.parent = null;\n    }\n  };\n}\n\nfunction mountComponent (\n  vm,\n  el,\n  hydrating\n) {\n  vm.$el = el;\n  if (!vm.$options.render) {\n    vm.$options.render = createEmptyVNode;\n    if (process.env.NODE_ENV !== 'production') {\n      /* istanbul ignore if */\n      if ((vm.$options.template && vm.$options.template.charAt(0) !== '#') ||\n        vm.$options.el || el) {\n        warn(\n          'You are using the runtime-only build of Vue where the template ' +\n          'compiler is not available. Either pre-compile the templates into ' +\n          'render functions, or use the compiler-included build.',\n          vm\n        );\n      } else {\n        warn(\n          'Failed to mount component: template or render function not defined.',\n          vm\n        );\n      }\n    }\n  }\n  callHook(vm, 'beforeMount');\n\n  var updateComponent;\n  /* istanbul ignore if */\n  if (process.env.NODE_ENV !== 'production' && config.performance && mark) {\n    updateComponent = function () {\n      var name = vm._name;\n      var id = vm._uid;\n      var startTag = \"vue-perf-start:\" + id;\n      var endTag = \"vue-perf-end:\" + id;\n\n      mark(startTag);\n      var vnode = vm._render();\n      mark(endTag);\n      measure((\"vue \" + name + \" render\"), startTag, endTag);\n\n      mark(startTag);\n      vm._update(vnode, hydrating);\n      mark(endTag);\n      measure((\"vue \" + name + \" patch\"), startTag, endTag);\n    };\n  } else {\n    updateComponent = function () {\n      vm._update(vm._render(), hydrating);\n    };\n  }\n\n  // we set this to vm._watcher inside the watcher's constructor\n  // since the watcher's initial patch may call $forceUpdate (e.g. inside child\n  // component's mounted hook), which relies on vm._watcher being already defined\n  new Watcher(vm, updateComponent, noop, {\n    before: function before () {\n      if (vm._isMounted && !vm._isDestroyed) {\n        callHook(vm, 'beforeUpdate');\n      }\n    }\n  }, true /* isRenderWatcher */);\n  hydrating = false;\n\n  // manually mounted instance, call mounted on self\n  // mounted is called for render-created child components in its inserted hook\n  if (vm.$vnode == null) {\n    vm._isMounted = true;\n    callHook(vm, 'mounted');\n  }\n  return vm\n}\n\nfunction updateChildComponent (\n  vm,\n  propsData,\n  listeners,\n  parentVnode,\n  renderChildren\n) {\n  if (process.env.NODE_ENV !== 'production') {\n    isUpdatingChildComponent = true;\n  }\n\n  // determine whether component has slot children\n  // we need to do this before overwriting $options._renderChildren.\n\n  // check if there are dynamic scopedSlots (hand-written or compiled but with\n  // dynamic slot names). Static scoped slots compiled from template has the\n  // \"$stable\" marker.\n  var newScopedSlots = parentVnode.data.scopedSlots;\n  var oldScopedSlots = vm.$scopedSlots;\n  var hasDynamicScopedSlot = !!(\n    (newScopedSlots && !newScopedSlots.$stable) ||\n    (oldScopedSlots !== emptyObject && !oldScopedSlots.$stable) ||\n    (newScopedSlots && vm.$scopedSlots.$key !== newScopedSlots.$key)\n  );\n\n  // Any static slot children from the parent may have changed during parent's\n  // update. Dynamic scoped slots may also have changed. In such cases, a forced\n  // update is necessary to ensure correctness.\n  var needsForceUpdate = !!(\n    renderChildren ||               // has new static slots\n    vm.$options._renderChildren ||  // has old static slots\n    hasDynamicScopedSlot\n  );\n\n  vm.$options._parentVnode = parentVnode;\n  vm.$vnode = parentVnode; // update vm's placeholder node without re-render\n\n  if (vm._vnode) { // update child tree's parent\n    vm._vnode.parent = parentVnode;\n  }\n  vm.$options._renderChildren = renderChildren;\n\n  // update $attrs and $listeners hash\n  // these are also reactive so they may trigger child update if the child\n  // used them during render\n  vm.$attrs = parentVnode.data.attrs || emptyObject;\n  vm.$listeners = listeners || emptyObject;\n\n  // update props\n  if (propsData && vm.$options.props) {\n    toggleObserving(false);\n    var props = vm._props;\n    var propKeys = vm.$options._propKeys || [];\n    for (var i = 0; i < propKeys.length; i++) {\n      var key = propKeys[i];\n      var propOptions = vm.$options.props; // wtf flow?\n      props[key] = validateProp(key, propOptions, propsData, vm);\n    }\n    toggleObserving(true);\n    // keep a copy of raw propsData\n    vm.$options.propsData = propsData;\n  }\n\n  // update listeners\n  listeners = listeners || emptyObject;\n  var oldListeners = vm.$options._parentListeners;\n  vm.$options._parentListeners = listeners;\n  updateComponentListeners(vm, listeners, oldListeners);\n\n  // resolve slots + force update if has children\n  if (needsForceUpdate) {\n    vm.$slots = resolveSlots(renderChildren, parentVnode.context);\n    vm.$forceUpdate();\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    isUpdatingChildComponent = false;\n  }\n}\n\nfunction isInInactiveTree (vm) {\n  while (vm && (vm = vm.$parent)) {\n    if (vm._inactive) { return true }\n  }\n  return false\n}\n\nfunction activateChildComponent (vm, direct) {\n  if (direct) {\n    vm._directInactive = false;\n    if (isInInactiveTree(vm)) {\n      return\n    }\n  } else if (vm._directInactive) {\n    return\n  }\n  if (vm._inactive || vm._inactive === null) {\n    vm._inactive = false;\n    for (var i = 0; i < vm.$children.length; i++) {\n      activateChildComponent(vm.$children[i]);\n    }\n    callHook(vm, 'activated');\n  }\n}\n\nfunction deactivateChildComponent (vm, direct) {\n  if (direct) {\n    vm._directInactive = true;\n    if (isInInactiveTree(vm)) {\n      return\n    }\n  }\n  if (!vm._inactive) {\n    vm._inactive = true;\n    for (var i = 0; i < vm.$children.length; i++) {\n      deactivateChildComponent(vm.$children[i]);\n    }\n    callHook(vm, 'deactivated');\n  }\n}\n\nfunction callHook (vm, hook) {\n  // #7573 disable dep collection when invoking lifecycle hooks\n  pushTarget();\n  var handlers = vm.$options[hook];\n  var info = hook + \" hook\";\n  if (handlers) {\n    for (var i = 0, j = handlers.length; i < j; i++) {\n      invokeWithErrorHandling(handlers[i], vm, null, vm, info);\n    }\n  }\n  if (vm._hasHookEvent) {\n    vm.$emit('hook:' + hook);\n  }\n  popTarget();\n}\n\n/*  */\n\nvar MAX_UPDATE_COUNT = 100;\n\nvar queue = [];\nvar activatedChildren = [];\nvar has = {};\nvar circular = {};\nvar waiting = false;\nvar flushing = false;\nvar index = 0;\n\n/**\n * Reset the scheduler's state.\n */\nfunction resetSchedulerState () {\n  index = queue.length = activatedChildren.length = 0;\n  has = {};\n  if (process.env.NODE_ENV !== 'production') {\n    circular = {};\n  }\n  waiting = flushing = false;\n}\n\n// Async edge case #6566 requires saving the timestamp when event listeners are\n// attached. However, calling performance.now() has a perf overhead especially\n// if the page has thousands of event listeners. Instead, we take a timestamp\n// every time the scheduler flushes and use that for all event listeners\n// attached during that flush.\nvar currentFlushTimestamp = 0;\n\n// Async edge case fix requires storing an event listener's attach timestamp.\nvar getNow = Date.now;\n\n// Determine what event timestamp the browser is using. Annoyingly, the\n// timestamp can either be hi-res (relative to page load) or low-res\n// (relative to UNIX epoch), so in order to compare time we have to use the\n// same timestamp type when saving the flush timestamp.\n// All IE versions use low-res event timestamps, and have problematic clock\n// implementations (#9632)\nif (inBrowser && !isIE) {\n  var performance = window.performance;\n  if (\n    performance &&\n    typeof performance.now === 'function' &&\n    getNow() > document.createEvent('Event').timeStamp\n  ) {\n    // if the event timestamp, although evaluated AFTER the Date.now(), is\n    // smaller than it, it means the event is using a hi-res timestamp,\n    // and we need to use the hi-res version for event listener timestamps as\n    // well.\n    getNow = function () { return performance.now(); };\n  }\n}\n\n/**\n * Flush both queues and run the watchers.\n */\nfunction flushSchedulerQueue () {\n  currentFlushTimestamp = getNow();\n  flushing = true;\n  var watcher, id;\n\n  // Sort queue before flush.\n  // This ensures that:\n  // 1. Components are updated from parent to child. (because parent is always\n  //    created before the child)\n  // 2. A component's user watchers are run before its render watcher (because\n  //    user watchers are created before the render watcher)\n  // 3. If a component is destroyed during a parent component's watcher run,\n  //    its watchers can be skipped.\n  queue.sort(function (a, b) { return a.id - b.id; });\n\n  // do not cache length because more watchers might be pushed\n  // as we run existing watchers\n  for (index = 0; index < queue.length; index++) {\n    watcher = queue[index];\n    if (watcher.before) {\n      watcher.before();\n    }\n    id = watcher.id;\n    has[id] = null;\n    watcher.run();\n    // in dev build, check and stop circular updates.\n    if (process.env.NODE_ENV !== 'production' && has[id] != null) {\n      circular[id] = (circular[id] || 0) + 1;\n      if (circular[id] > MAX_UPDATE_COUNT) {\n        warn(\n          'You may have an infinite update loop ' + (\n            watcher.user\n              ? (\"in watcher with expression \\\"\" + (watcher.expression) + \"\\\"\")\n              : \"in a component render function.\"\n          ),\n          watcher.vm\n        );\n        break\n      }\n    }\n  }\n\n  // keep copies of post queues before resetting state\n  var activatedQueue = activatedChildren.slice();\n  var updatedQueue = queue.slice();\n\n  resetSchedulerState();\n\n  // call component updated and activated hooks\n  callActivatedHooks(activatedQueue);\n  callUpdatedHooks(updatedQueue);\n\n  // devtool hook\n  /* istanbul ignore if */\n  if (devtools && config.devtools) {\n    devtools.emit('flush');\n  }\n}\n\nfunction callUpdatedHooks (queue) {\n  var i = queue.length;\n  while (i--) {\n    var watcher = queue[i];\n    var vm = watcher.vm;\n    if (vm._watcher === watcher && vm._isMounted && !vm._isDestroyed) {\n      callHook(vm, 'updated');\n    }\n  }\n}\n\n/**\n * Queue a kept-alive component that was activated during patch.\n * The queue will be processed after the entire tree has been patched.\n */\nfunction queueActivatedComponent (vm) {\n  // setting _inactive to false here so that a render function can\n  // rely on checking whether it's in an inactive tree (e.g. router-view)\n  vm._inactive = false;\n  activatedChildren.push(vm);\n}\n\nfunction callActivatedHooks (queue) {\n  for (var i = 0; i < queue.length; i++) {\n    queue[i]._inactive = true;\n    activateChildComponent(queue[i], true /* true */);\n  }\n}\n\n/**\n * Push a watcher into the watcher queue.\n * Jobs with duplicate IDs will be skipped unless it's\n * pushed when the queue is being flushed.\n */\nfunction queueWatcher (watcher) {\n  var id = watcher.id;\n  if (has[id] == null) {\n    has[id] = true;\n    if (!flushing) {\n      queue.push(watcher);\n    } else {\n      // if already flushing, splice the watcher based on its id\n      // if already past its id, it will be run next immediately.\n      var i = queue.length - 1;\n      while (i > index && queue[i].id > watcher.id) {\n        i--;\n      }\n      queue.splice(i + 1, 0, watcher);\n    }\n    // queue the flush\n    if (!waiting) {\n      waiting = true;\n\n      if (process.env.NODE_ENV !== 'production' && !config.async) {\n        flushSchedulerQueue();\n        return\n      }\n      nextTick(flushSchedulerQueue);\n    }\n  }\n}\n\n/*  */\n\n\n\nvar uid$2 = 0;\n\n/**\n * A watcher parses an expression, collects dependencies,\n * and fires callback when the expression value changes.\n * This is used for both the $watch() api and directives.\n */\nvar Watcher = function Watcher (\n  vm,\n  expOrFn,\n  cb,\n  options,\n  isRenderWatcher\n) {\n  this.vm = vm;\n  if (isRenderWatcher) {\n    vm._watcher = this;\n  }\n  vm._watchers.push(this);\n  // options\n  if (options) {\n    this.deep = !!options.deep;\n    this.user = !!options.user;\n    this.lazy = !!options.lazy;\n    this.sync = !!options.sync;\n    this.before = options.before;\n  } else {\n    this.deep = this.user = this.lazy = this.sync = false;\n  }\n  this.cb = cb;\n  this.id = ++uid$2; // uid for batching\n  this.active = true;\n  this.dirty = this.lazy; // for lazy watchers\n  this.deps = [];\n  this.newDeps = [];\n  this.depIds = new _Set();\n  this.newDepIds = new _Set();\n  this.expression = process.env.NODE_ENV !== 'production'\n    ? expOrFn.toString()\n    : '';\n  // parse expression for getter\n  if (typeof expOrFn === 'function') {\n    this.getter = expOrFn;\n  } else {\n    this.getter = parsePath(expOrFn);\n    if (!this.getter) {\n      this.getter = noop;\n      process.env.NODE_ENV !== 'production' && warn(\n        \"Failed watching path: \\\"\" + expOrFn + \"\\\" \" +\n        'Watcher only accepts simple dot-delimited paths. ' +\n        'For full control, use a function instead.',\n        vm\n      );\n    }\n  }\n  this.value = this.lazy\n    ? undefined\n    : this.get();\n};\n\n/**\n * Evaluate the getter, and re-collect dependencies.\n */\nWatcher.prototype.get = function get () {\n  pushTarget(this);\n  var value;\n  var vm = this.vm;\n  try {\n    value = this.getter.call(vm, vm);\n  } catch (e) {\n    if (this.user) {\n      handleError(e, vm, (\"getter for watcher \\\"\" + (this.expression) + \"\\\"\"));\n    } else {\n      throw e\n    }\n  } finally {\n    // \"touch\" every property so they are all tracked as\n    // dependencies for deep watching\n    if (this.deep) {\n      traverse(value);\n    }\n    popTarget();\n    this.cleanupDeps();\n  }\n  return value\n};\n\n/**\n * Add a dependency to this directive.\n */\nWatcher.prototype.addDep = function addDep (dep) {\n  var id = dep.id;\n  if (!this.newDepIds.has(id)) {\n    this.newDepIds.add(id);\n    this.newDeps.push(dep);\n    if (!this.depIds.has(id)) {\n      dep.addSub(this);\n    }\n  }\n};\n\n/**\n * Clean up for dependency collection.\n */\nWatcher.prototype.cleanupDeps = function cleanupDeps () {\n  var i = this.deps.length;\n  while (i--) {\n    var dep = this.deps[i];\n    if (!this.newDepIds.has(dep.id)) {\n      dep.removeSub(this);\n    }\n  }\n  var tmp = this.depIds;\n  this.depIds = this.newDepIds;\n  this.newDepIds = tmp;\n  this.newDepIds.clear();\n  tmp = this.deps;\n  this.deps = this.newDeps;\n  this.newDeps = tmp;\n  this.newDeps.length = 0;\n};\n\n/**\n * Subscriber interface.\n * Will be called when a dependency changes.\n */\nWatcher.prototype.update = function update () {\n  /* istanbul ignore else */\n  if (this.lazy) {\n    this.dirty = true;\n  } else if (this.sync) {\n    this.run();\n  } else {\n    queueWatcher(this);\n  }\n};\n\n/**\n * Scheduler job interface.\n * Will be called by the scheduler.\n */\nWatcher.prototype.run = function run () {\n  if (this.active) {\n    var value = this.get();\n    if (\n      value !== this.value ||\n      // Deep watchers and watchers on Object/Arrays should fire even\n      // when the value is the same, because the value may\n      // have mutated.\n      isObject(value) ||\n      this.deep\n    ) {\n      // set new value\n      var oldValue = this.value;\n      this.value = value;\n      if (this.user) {\n        try {\n          this.cb.call(this.vm, value, oldValue);\n        } catch (e) {\n          handleError(e, this.vm, (\"callback for watcher \\\"\" + (this.expression) + \"\\\"\"));\n        }\n      } else {\n        this.cb.call(this.vm, value, oldValue);\n      }\n    }\n  }\n};\n\n/**\n * Evaluate the value of the watcher.\n * This only gets called for lazy watchers.\n */\nWatcher.prototype.evaluate = function evaluate () {\n  this.value = this.get();\n  this.dirty = false;\n};\n\n/**\n * Depend on all deps collected by this watcher.\n */\nWatcher.prototype.depend = function depend () {\n  var i = this.deps.length;\n  while (i--) {\n    this.deps[i].depend();\n  }\n};\n\n/**\n * Remove self from all dependencies' subscriber list.\n */\nWatcher.prototype.teardown = function teardown () {\n  if (this.active) {\n    // remove self from vm's watcher list\n    // this is a somewhat expensive operation so we skip it\n    // if the vm is being destroyed.\n    if (!this.vm._isBeingDestroyed) {\n      remove(this.vm._watchers, this);\n    }\n    var i = this.deps.length;\n    while (i--) {\n      this.deps[i].removeSub(this);\n    }\n    this.active = false;\n  }\n};\n\n/*  */\n\nvar sharedPropertyDefinition = {\n  enumerable: true,\n  configurable: true,\n  get: noop,\n  set: noop\n};\n\nfunction proxy (target, sourceKey, key) {\n  sharedPropertyDefinition.get = function proxyGetter () {\n    return this[sourceKey][key]\n  };\n  sharedPropertyDefinition.set = function proxySetter (val) {\n    this[sourceKey][key] = val;\n  };\n  Object.defineProperty(target, key, sharedPropertyDefinition);\n}\n\nfunction initState (vm) {\n  vm._watchers = [];\n  var opts = vm.$options;\n  if (opts.props) { initProps(vm, opts.props); }\n  if (opts.methods) { initMethods(vm, opts.methods); }\n  if (opts.data) {\n    initData(vm);\n  } else {\n    observe(vm._data = {}, true /* asRootData */);\n  }\n  if (opts.computed) { initComputed(vm, opts.computed); }\n  if (opts.watch && opts.watch !== nativeWatch) {\n    initWatch(vm, opts.watch);\n  }\n}\n\nfunction initProps (vm, propsOptions) {\n  var propsData = vm.$options.propsData || {};\n  var props = vm._props = {};\n  // cache prop keys so that future props updates can iterate using Array\n  // instead of dynamic object key enumeration.\n  var keys = vm.$options._propKeys = [];\n  var isRoot = !vm.$parent;\n  // root instance props should be converted\n  if (!isRoot) {\n    toggleObserving(false);\n  }\n  var loop = function ( key ) {\n    keys.push(key);\n    var value = validateProp(key, propsOptions, propsData, vm);\n    /* istanbul ignore else */\n    if (process.env.NODE_ENV !== 'production') {\n      var hyphenatedKey = hyphenate(key);\n      if (isReservedAttribute(hyphenatedKey) ||\n          config.isReservedAttr(hyphenatedKey)) {\n        warn(\n          (\"\\\"\" + hyphenatedKey + \"\\\" is a reserved attribute and cannot be used as component prop.\"),\n          vm\n        );\n      }\n      defineReactive$$1(props, key, value, function () {\n        if (!isRoot && !isUpdatingChildComponent) {\n          warn(\n            \"Avoid mutating a prop directly since the value will be \" +\n            \"overwritten whenever the parent component re-renders. \" +\n            \"Instead, use a data or computed property based on the prop's \" +\n            \"value. Prop being mutated: \\\"\" + key + \"\\\"\",\n            vm\n          );\n        }\n      });\n    } else {\n      defineReactive$$1(props, key, value);\n    }\n    // static props are already proxied on the component's prototype\n    // during Vue.extend(). We only need to proxy props defined at\n    // instantiation here.\n    if (!(key in vm)) {\n      proxy(vm, \"_props\", key);\n    }\n  };\n\n  for (var key in propsOptions) loop( key );\n  toggleObserving(true);\n}\n\nfunction initData (vm) {\n  var data = vm.$options.data;\n  data = vm._data = typeof data === 'function'\n    ? getData(data, vm)\n    : data || {};\n  if (!isPlainObject(data)) {\n    data = {};\n    process.env.NODE_ENV !== 'production' && warn(\n      'data functions should return an object:\\n' +\n      'https://vuejs.org/v2/guide/components.html#data-Must-Be-a-Function',\n      vm\n    );\n  }\n  // proxy data on instance\n  var keys = Object.keys(data);\n  var props = vm.$options.props;\n  var methods = vm.$options.methods;\n  var i = keys.length;\n  while (i--) {\n    var key = keys[i];\n    if (process.env.NODE_ENV !== 'production') {\n      if (methods && hasOwn(methods, key)) {\n        warn(\n          (\"Method \\\"\" + key + \"\\\" has already been defined as a data property.\"),\n          vm\n        );\n      }\n    }\n    if (props && hasOwn(props, key)) {\n      process.env.NODE_ENV !== 'production' && warn(\n        \"The data property \\\"\" + key + \"\\\" is already declared as a prop. \" +\n        \"Use prop default value instead.\",\n        vm\n      );\n    } else if (!isReserved(key)) {\n      proxy(vm, \"_data\", key);\n    }\n  }\n  // observe data\n  observe(data, true /* asRootData */);\n}\n\nfunction getData (data, vm) {\n  // #7573 disable dep collection when invoking data getters\n  pushTarget();\n  try {\n    return data.call(vm, vm)\n  } catch (e) {\n    handleError(e, vm, \"data()\");\n    return {}\n  } finally {\n    popTarget();\n  }\n}\n\nvar computedWatcherOptions = { lazy: true };\n\nfunction initComputed (vm, computed) {\n  // $flow-disable-line\n  var watchers = vm._computedWatchers = Object.create(null);\n  // computed properties are just getters during SSR\n  var isSSR = isServerRendering();\n\n  for (var key in computed) {\n    var userDef = computed[key];\n    var getter = typeof userDef === 'function' ? userDef : userDef.get;\n    if (process.env.NODE_ENV !== 'production' && getter == null) {\n      warn(\n        (\"Getter is missing for computed property \\\"\" + key + \"\\\".\"),\n        vm\n      );\n    }\n\n    if (!isSSR) {\n      // create internal watcher for the computed property.\n      watchers[key] = new Watcher(\n        vm,\n        getter || noop,\n        noop,\n        computedWatcherOptions\n      );\n    }\n\n    // component-defined computed properties are already defined on the\n    // component prototype. We only need to define computed properties defined\n    // at instantiation here.\n    if (!(key in vm)) {\n      defineComputed(vm, key, userDef);\n    } else if (process.env.NODE_ENV !== 'production') {\n      if (key in vm.$data) {\n        warn((\"The computed property \\\"\" + key + \"\\\" is already defined in data.\"), vm);\n      } else if (vm.$options.props && key in vm.$options.props) {\n        warn((\"The computed property \\\"\" + key + \"\\\" is already defined as a prop.\"), vm);\n      }\n    }\n  }\n}\n\nfunction defineComputed (\n  target,\n  key,\n  userDef\n) {\n  var shouldCache = !isServerRendering();\n  if (typeof userDef === 'function') {\n    sharedPropertyDefinition.get = shouldCache\n      ? createComputedGetter(key)\n      : createGetterInvoker(userDef);\n    sharedPropertyDefinition.set = noop;\n  } else {\n    sharedPropertyDefinition.get = userDef.get\n      ? shouldCache && userDef.cache !== false\n        ? createComputedGetter(key)\n        : createGetterInvoker(userDef.get)\n      : noop;\n    sharedPropertyDefinition.set = userDef.set || noop;\n  }\n  if (process.env.NODE_ENV !== 'production' &&\n      sharedPropertyDefinition.set === noop) {\n    sharedPropertyDefinition.set = function () {\n      warn(\n        (\"Computed property \\\"\" + key + \"\\\" was assigned to but it has no setter.\"),\n        this\n      );\n    };\n  }\n  Object.defineProperty(target, key, sharedPropertyDefinition);\n}\n\nfunction createComputedGetter (key) {\n  return function computedGetter () {\n    var watcher = this._computedWatchers && this._computedWatchers[key];\n    if (watcher) {\n      if (watcher.dirty) {\n        watcher.evaluate();\n      }\n      if (Dep.target) {\n        watcher.depend();\n      }\n      return watcher.value\n    }\n  }\n}\n\nfunction createGetterInvoker(fn) {\n  return function computedGetter () {\n    return fn.call(this, this)\n  }\n}\n\nfunction initMethods (vm, methods) {\n  var props = vm.$options.props;\n  for (var key in methods) {\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof methods[key] !== 'function') {\n        warn(\n          \"Method \\\"\" + key + \"\\\" has type \\\"\" + (typeof methods[key]) + \"\\\" in the component definition. \" +\n          \"Did you reference the function correctly?\",\n          vm\n        );\n      }\n      if (props && hasOwn(props, key)) {\n        warn(\n          (\"Method \\\"\" + key + \"\\\" has already been defined as a prop.\"),\n          vm\n        );\n      }\n      if ((key in vm) && isReserved(key)) {\n        warn(\n          \"Method \\\"\" + key + \"\\\" conflicts with an existing Vue instance method. \" +\n          \"Avoid defining component methods that start with _ or $.\"\n        );\n      }\n    }\n    vm[key] = typeof methods[key] !== 'function' ? noop : bind(methods[key], vm);\n  }\n}\n\nfunction initWatch (vm, watch) {\n  for (var key in watch) {\n    var handler = watch[key];\n    if (Array.isArray(handler)) {\n      for (var i = 0; i < handler.length; i++) {\n        createWatcher(vm, key, handler[i]);\n      }\n    } else {\n      createWatcher(vm, key, handler);\n    }\n  }\n}\n\nfunction createWatcher (\n  vm,\n  expOrFn,\n  handler,\n  options\n) {\n  if (isPlainObject(handler)) {\n    options = handler;\n    handler = handler.handler;\n  }\n  if (typeof handler === 'string') {\n    handler = vm[handler];\n  }\n  return vm.$watch(expOrFn, handler, options)\n}\n\nfunction stateMixin (Vue) {\n  // flow somehow has problems with directly declared definition object\n  // when using Object.defineProperty, so we have to procedurally build up\n  // the object here.\n  var dataDef = {};\n  dataDef.get = function () { return this._data };\n  var propsDef = {};\n  propsDef.get = function () { return this._props };\n  if (process.env.NODE_ENV !== 'production') {\n    dataDef.set = function () {\n      warn(\n        'Avoid replacing instance root $data. ' +\n        'Use nested data properties instead.',\n        this\n      );\n    };\n    propsDef.set = function () {\n      warn(\"$props is readonly.\", this);\n    };\n  }\n  Object.defineProperty(Vue.prototype, '$data', dataDef);\n  Object.defineProperty(Vue.prototype, '$props', propsDef);\n\n  Vue.prototype.$set = set;\n  Vue.prototype.$delete = del;\n\n  Vue.prototype.$watch = function (\n    expOrFn,\n    cb,\n    options\n  ) {\n    var vm = this;\n    if (isPlainObject(cb)) {\n      return createWatcher(vm, expOrFn, cb, options)\n    }\n    options = options || {};\n    options.user = true;\n    var watcher = new Watcher(vm, expOrFn, cb, options);\n    if (options.immediate) {\n      try {\n        cb.call(vm, watcher.value);\n      } catch (error) {\n        handleError(error, vm, (\"callback for immediate watcher \\\"\" + (watcher.expression) + \"\\\"\"));\n      }\n    }\n    return function unwatchFn () {\n      watcher.teardown();\n    }\n  };\n}\n\n/*  */\n\nvar uid$3 = 0;\n\nfunction initMixin (Vue) {\n  Vue.prototype._init = function (options) {\n    var vm = this;\n    // a uid\n    vm._uid = uid$3++;\n\n    var startTag, endTag;\n    /* istanbul ignore if */\n    if (process.env.NODE_ENV !== 'production' && config.performance && mark) {\n      startTag = \"vue-perf-start:\" + (vm._uid);\n      endTag = \"vue-perf-end:\" + (vm._uid);\n      mark(startTag);\n    }\n\n    // a flag to avoid this being observed\n    vm._isVue = true;\n    // merge options\n    if (options && options._isComponent) {\n      // optimize internal component instantiation\n      // since dynamic options merging is pretty slow, and none of the\n      // internal component options needs special treatment.\n      initInternalComponent(vm, options);\n    } else {\n      vm.$options = mergeOptions(\n        resolveConstructorOptions(vm.constructor),\n        options || {},\n        vm\n      );\n    }\n    /* istanbul ignore else */\n    if (process.env.NODE_ENV !== 'production') {\n      initProxy(vm);\n    } else {\n      vm._renderProxy = vm;\n    }\n    // expose real self\n    vm._self = vm;\n    initLifecycle(vm);\n    initEvents(vm);\n    initRender(vm);\n    callHook(vm, 'beforeCreate');\n    initInjections(vm); // resolve injections before data/props\n    initState(vm);\n    initProvide(vm); // resolve provide after data/props\n    callHook(vm, 'created');\n\n    /* istanbul ignore if */\n    if (process.env.NODE_ENV !== 'production' && config.performance && mark) {\n      vm._name = formatComponentName(vm, false);\n      mark(endTag);\n      measure((\"vue \" + (vm._name) + \" init\"), startTag, endTag);\n    }\n\n    if (vm.$options.el) {\n      vm.$mount(vm.$options.el);\n    }\n  };\n}\n\nfunction initInternalComponent (vm, options) {\n  var opts = vm.$options = Object.create(vm.constructor.options);\n  // doing this because it's faster than dynamic enumeration.\n  var parentVnode = options._parentVnode;\n  opts.parent = options.parent;\n  opts._parentVnode = parentVnode;\n\n  var vnodeComponentOptions = parentVnode.componentOptions;\n  opts.propsData = vnodeComponentOptions.propsData;\n  opts._parentListeners = vnodeComponentOptions.listeners;\n  opts._renderChildren = vnodeComponentOptions.children;\n  opts._componentTag = vnodeComponentOptions.tag;\n\n  if (options.render) {\n    opts.render = options.render;\n    opts.staticRenderFns = options.staticRenderFns;\n  }\n}\n\nfunction resolveConstructorOptions (Ctor) {\n  var options = Ctor.options;\n  if (Ctor.super) {\n    var superOptions = resolveConstructorOptions(Ctor.super);\n    var cachedSuperOptions = Ctor.superOptions;\n    if (superOptions !== cachedSuperOptions) {\n      // super option changed,\n      // need to resolve new options.\n      Ctor.superOptions = superOptions;\n      // check if there are any late-modified/attached options (#4976)\n      var modifiedOptions = resolveModifiedOptions(Ctor);\n      // update base extend options\n      if (modifiedOptions) {\n        extend(Ctor.extendOptions, modifiedOptions);\n      }\n      options = Ctor.options = mergeOptions(superOptions, Ctor.extendOptions);\n      if (options.name) {\n        options.components[options.name] = Ctor;\n      }\n    }\n  }\n  return options\n}\n\nfunction resolveModifiedOptions (Ctor) {\n  var modified;\n  var latest = Ctor.options;\n  var sealed = Ctor.sealedOptions;\n  for (var key in latest) {\n    if (latest[key] !== sealed[key]) {\n      if (!modified) { modified = {}; }\n      modified[key] = latest[key];\n    }\n  }\n  return modified\n}\n\nfunction Vue (options) {\n  if (process.env.NODE_ENV !== 'production' &&\n    !(this instanceof Vue)\n  ) {\n    warn('Vue is a constructor and should be called with the `new` keyword');\n  }\n  this._init(options);\n}\n\ninitMixin(Vue);\nstateMixin(Vue);\neventsMixin(Vue);\nlifecycleMixin(Vue);\nrenderMixin(Vue);\n\n/*  */\n\nfunction initUse (Vue) {\n  Vue.use = function (plugin) {\n    var installedPlugins = (this._installedPlugins || (this._installedPlugins = []));\n    if (installedPlugins.indexOf(plugin) > -1) {\n      return this\n    }\n\n    // additional parameters\n    var args = toArray(arguments, 1);\n    args.unshift(this);\n    if (typeof plugin.install === 'function') {\n      plugin.install.apply(plugin, args);\n    } else if (typeof plugin === 'function') {\n      plugin.apply(null, args);\n    }\n    installedPlugins.push(plugin);\n    return this\n  };\n}\n\n/*  */\n\nfunction initMixin$1 (Vue) {\n  Vue.mixin = function (mixin) {\n    this.options = mergeOptions(this.options, mixin);\n    return this\n  };\n}\n\n/*  */\n\nfunction initExtend (Vue) {\n  /**\n   * Each instance constructor, including Vue, has a unique\n   * cid. This enables us to create wrapped \"child\n   * constructors\" for prototypal inheritance and cache them.\n   */\n  Vue.cid = 0;\n  var cid = 1;\n\n  /**\n   * Class inheritance\n   */\n  Vue.extend = function (extendOptions) {\n    extendOptions = extendOptions || {};\n    var Super = this;\n    var SuperId = Super.cid;\n    var cachedCtors = extendOptions._Ctor || (extendOptions._Ctor = {});\n    if (cachedCtors[SuperId]) {\n      return cachedCtors[SuperId]\n    }\n\n    var name = extendOptions.name || Super.options.name;\n    if (process.env.NODE_ENV !== 'production' && name) {\n      validateComponentName(name);\n    }\n\n    var Sub = function VueComponent (options) {\n      this._init(options);\n    };\n    Sub.prototype = Object.create(Super.prototype);\n    Sub.prototype.constructor = Sub;\n    Sub.cid = cid++;\n    Sub.options = mergeOptions(\n      Super.options,\n      extendOptions\n    );\n    Sub['super'] = Super;\n\n    // For props and computed properties, we define the proxy getters on\n    // the Vue instances at extension time, on the extended prototype. This\n    // avoids Object.defineProperty calls for each instance created.\n    if (Sub.options.props) {\n      initProps$1(Sub);\n    }\n    if (Sub.options.computed) {\n      initComputed$1(Sub);\n    }\n\n    // allow further extension/mixin/plugin usage\n    Sub.extend = Super.extend;\n    Sub.mixin = Super.mixin;\n    Sub.use = Super.use;\n\n    // create asset registers, so extended classes\n    // can have their private assets too.\n    ASSET_TYPES.forEach(function (type) {\n      Sub[type] = Super[type];\n    });\n    // enable recursive self-lookup\n    if (name) {\n      Sub.options.components[name] = Sub;\n    }\n\n    // keep a reference to the super options at extension time.\n    // later at instantiation we can check if Super's options have\n    // been updated.\n    Sub.superOptions = Super.options;\n    Sub.extendOptions = extendOptions;\n    Sub.sealedOptions = extend({}, Sub.options);\n\n    // cache constructor\n    cachedCtors[SuperId] = Sub;\n    return Sub\n  };\n}\n\nfunction initProps$1 (Comp) {\n  var props = Comp.options.props;\n  for (var key in props) {\n    proxy(Comp.prototype, \"_props\", key);\n  }\n}\n\nfunction initComputed$1 (Comp) {\n  var computed = Comp.options.computed;\n  for (var key in computed) {\n    defineComputed(Comp.prototype, key, computed[key]);\n  }\n}\n\n/*  */\n\nfunction initAssetRegisters (Vue) {\n  /**\n   * Create asset registration methods.\n   */\n  ASSET_TYPES.forEach(function (type) {\n    Vue[type] = function (\n      id,\n      definition\n    ) {\n      if (!definition) {\n        return this.options[type + 's'][id]\n      } else {\n        /* istanbul ignore if */\n        if (process.env.NODE_ENV !== 'production' && type === 'component') {\n          validateComponentName(id);\n        }\n        if (type === 'component' && isPlainObject(definition)) {\n          definition.name = definition.name || id;\n          definition = this.options._base.extend(definition);\n        }\n        if (type === 'directive' && typeof definition === 'function') {\n          definition = { bind: definition, update: definition };\n        }\n        this.options[type + 's'][id] = definition;\n        return definition\n      }\n    };\n  });\n}\n\n/*  */\n\n\n\nfunction getComponentName (opts) {\n  return opts && (opts.Ctor.options.name || opts.tag)\n}\n\nfunction matches (pattern, name) {\n  if (Array.isArray(pattern)) {\n    return pattern.indexOf(name) > -1\n  } else if (typeof pattern === 'string') {\n    return pattern.split(',').indexOf(name) > -1\n  } else if (isRegExp(pattern)) {\n    return pattern.test(name)\n  }\n  /* istanbul ignore next */\n  return false\n}\n\nfunction pruneCache (keepAliveInstance, filter) {\n  var cache = keepAliveInstance.cache;\n  var keys = keepAliveInstance.keys;\n  var _vnode = keepAliveInstance._vnode;\n  for (var key in cache) {\n    var cachedNode = cache[key];\n    if (cachedNode) {\n      var name = getComponentName(cachedNode.componentOptions);\n      if (name && !filter(name)) {\n        pruneCacheEntry(cache, key, keys, _vnode);\n      }\n    }\n  }\n}\n\nfunction pruneCacheEntry (\n  cache,\n  key,\n  keys,\n  current\n) {\n  var cached$$1 = cache[key];\n  if (cached$$1 && (!current || cached$$1.tag !== current.tag)) {\n    cached$$1.componentInstance.$destroy();\n  }\n  cache[key] = null;\n  remove(keys, key);\n}\n\nvar patternTypes = [String, RegExp, Array];\n\nvar KeepAlive = {\n  name: 'keep-alive',\n  abstract: true,\n\n  props: {\n    include: patternTypes,\n    exclude: patternTypes,\n    max: [String, Number]\n  },\n\n  created: function created () {\n    this.cache = Object.create(null);\n    this.keys = [];\n  },\n\n  destroyed: function destroyed () {\n    for (var key in this.cache) {\n      pruneCacheEntry(this.cache, key, this.keys);\n    }\n  },\n\n  mounted: function mounted () {\n    var this$1 = this;\n\n    this.$watch('include', function (val) {\n      pruneCache(this$1, function (name) { return matches(val, name); });\n    });\n    this.$watch('exclude', function (val) {\n      pruneCache(this$1, function (name) { return !matches(val, name); });\n    });\n  },\n\n  render: function render () {\n    var slot = this.$slots.default;\n    var vnode = getFirstComponentChild(slot);\n    var componentOptions = vnode && vnode.componentOptions;\n    if (componentOptions) {\n      // check pattern\n      var name = getComponentName(componentOptions);\n      var ref = this;\n      var include = ref.include;\n      var exclude = ref.exclude;\n      if (\n        // not included\n        (include && (!name || !matches(include, name))) ||\n        // excluded\n        (exclude && name && matches(exclude, name))\n      ) {\n        return vnode\n      }\n\n      var ref$1 = this;\n      var cache = ref$1.cache;\n      var keys = ref$1.keys;\n      var key = vnode.key == null\n        // same constructor may get registered as different local components\n        // so cid alone is not enough (#3269)\n        ? componentOptions.Ctor.cid + (componentOptions.tag ? (\"::\" + (componentOptions.tag)) : '')\n        : vnode.key;\n      if (cache[key]) {\n        vnode.componentInstance = cache[key].componentInstance;\n        // make current key freshest\n        remove(keys, key);\n        keys.push(key);\n      } else {\n        cache[key] = vnode;\n        keys.push(key);\n        // prune oldest entry\n        if (this.max && keys.length > parseInt(this.max)) {\n          pruneCacheEntry(cache, keys[0], keys, this._vnode);\n        }\n      }\n\n      vnode.data.keepAlive = true;\n    }\n    return vnode || (slot && slot[0])\n  }\n};\n\nvar builtInComponents = {\n  KeepAlive: KeepAlive\n};\n\n/*  */\n\nfunction initGlobalAPI (Vue) {\n  // config\n  var configDef = {};\n  configDef.get = function () { return config; };\n  if (process.env.NODE_ENV !== 'production') {\n    configDef.set = function () {\n      warn(\n        'Do not replace the Vue.config object, set individual fields instead.'\n      );\n    };\n  }\n  Object.defineProperty(Vue, 'config', configDef);\n\n  // exposed util methods.\n  // NOTE: these are not considered part of the public API - avoid relying on\n  // them unless you are aware of the risk.\n  Vue.util = {\n    warn: warn,\n    extend: extend,\n    mergeOptions: mergeOptions,\n    defineReactive: defineReactive$$1\n  };\n\n  Vue.set = set;\n  Vue.delete = del;\n  Vue.nextTick = nextTick;\n\n  // 2.6 explicit observable API\n  Vue.observable = function (obj) {\n    observe(obj);\n    return obj\n  };\n\n  Vue.options = Object.create(null);\n  ASSET_TYPES.forEach(function (type) {\n    Vue.options[type + 's'] = Object.create(null);\n  });\n\n  // this is used to identify the \"base\" constructor to extend all plain-object\n  // components with in Weex's multi-instance scenarios.\n  Vue.options._base = Vue;\n\n  extend(Vue.options.components, builtInComponents);\n\n  initUse(Vue);\n  initMixin$1(Vue);\n  initExtend(Vue);\n  initAssetRegisters(Vue);\n}\n\ninitGlobalAPI(Vue);\n\nObject.defineProperty(Vue.prototype, '$isServer', {\n  get: isServerRendering\n});\n\nObject.defineProperty(Vue.prototype, '$ssrContext', {\n  get: function get () {\n    /* istanbul ignore next */\n    return this.$vnode && this.$vnode.ssrContext\n  }\n});\n\n// expose FunctionalRenderContext for ssr runtime helper installation\nObject.defineProperty(Vue, 'FunctionalRenderContext', {\n  value: FunctionalRenderContext\n});\n\nVue.version = '2.6.12';\n\n/*  */\n\n// these are reserved for web because they are directly compiled away\n// during template compilation\nvar isReservedAttr = makeMap('style,class');\n\n// attributes that should be using props for binding\nvar acceptValue = makeMap('input,textarea,option,select,progress');\nvar mustUseProp = function (tag, type, attr) {\n  return (\n    (attr === 'value' && acceptValue(tag)) && type !== 'button' ||\n    (attr === 'selected' && tag === 'option') ||\n    (attr === 'checked' && tag === 'input') ||\n    (attr === 'muted' && tag === 'video')\n  )\n};\n\nvar isEnumeratedAttr = makeMap('contenteditable,draggable,spellcheck');\n\nvar isValidContentEditableValue = makeMap('events,caret,typing,plaintext-only');\n\nvar convertEnumeratedValue = function (key, value) {\n  return isFalsyAttrValue(value) || value === 'false'\n    ? 'false'\n    // allow arbitrary string value for contenteditable\n    : key === 'contenteditable' && isValidContentEditableValue(value)\n      ? value\n      : 'true'\n};\n\nvar isBooleanAttr = makeMap(\n  'allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,' +\n  'default,defaultchecked,defaultmuted,defaultselected,defer,disabled,' +\n  'enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,' +\n  'muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,' +\n  'required,reversed,scoped,seamless,selected,sortable,translate,' +\n  'truespeed,typemustmatch,visible'\n);\n\nvar xlinkNS = 'http://www.w3.org/1999/xlink';\n\nvar isXlink = function (name) {\n  return name.charAt(5) === ':' && name.slice(0, 5) === 'xlink'\n};\n\nvar getXlinkProp = function (name) {\n  return isXlink(name) ? name.slice(6, name.length) : ''\n};\n\nvar isFalsyAttrValue = function (val) {\n  return val == null || val === false\n};\n\n/*  */\n\nfunction genClassForVnode (vnode) {\n  var data = vnode.data;\n  var parentNode = vnode;\n  var childNode = vnode;\n  while (isDef(childNode.componentInstance)) {\n    childNode = childNode.componentInstance._vnode;\n    if (childNode && childNode.data) {\n      data = mergeClassData(childNode.data, data);\n    }\n  }\n  while (isDef(parentNode = parentNode.parent)) {\n    if (parentNode && parentNode.data) {\n      data = mergeClassData(data, parentNode.data);\n    }\n  }\n  return renderClass(data.staticClass, data.class)\n}\n\nfunction mergeClassData (child, parent) {\n  return {\n    staticClass: concat(child.staticClass, parent.staticClass),\n    class: isDef(child.class)\n      ? [child.class, parent.class]\n      : parent.class\n  }\n}\n\nfunction renderClass (\n  staticClass,\n  dynamicClass\n) {\n  if (isDef(staticClass) || isDef(dynamicClass)) {\n    return concat(staticClass, stringifyClass(dynamicClass))\n  }\n  /* istanbul ignore next */\n  return ''\n}\n\nfunction concat (a, b) {\n  return a ? b ? (a + ' ' + b) : a : (b || '')\n}\n\nfunction stringifyClass (value) {\n  if (Array.isArray(value)) {\n    return stringifyArray(value)\n  }\n  if (isObject(value)) {\n    return stringifyObject(value)\n  }\n  if (typeof value === 'string') {\n    return value\n  }\n  /* istanbul ignore next */\n  return ''\n}\n\nfunction stringifyArray (value) {\n  var res = '';\n  var stringified;\n  for (var i = 0, l = value.length; i < l; i++) {\n    if (isDef(stringified = stringifyClass(value[i])) && stringified !== '') {\n      if (res) { res += ' '; }\n      res += stringified;\n    }\n  }\n  return res\n}\n\nfunction stringifyObject (value) {\n  var res = '';\n  for (var key in value) {\n    if (value[key]) {\n      if (res) { res += ' '; }\n      res += key;\n    }\n  }\n  return res\n}\n\n/*  */\n\nvar namespaceMap = {\n  svg: 'http://www.w3.org/2000/svg',\n  math: 'http://www.w3.org/1998/Math/MathML'\n};\n\nvar isHTMLTag = makeMap(\n  'html,body,base,head,link,meta,style,title,' +\n  'address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,' +\n  'div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,' +\n  'a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,' +\n  's,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,' +\n  'embed,object,param,source,canvas,script,noscript,del,ins,' +\n  'caption,col,colgroup,table,thead,tbody,td,th,tr,' +\n  'button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,' +\n  'output,progress,select,textarea,' +\n  'details,dialog,menu,menuitem,summary,' +\n  'content,element,shadow,template,blockquote,iframe,tfoot'\n);\n\n// this map is intentionally selective, only covering SVG elements that may\n// contain child elements.\nvar isSVG = makeMap(\n  'svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,' +\n  'foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,' +\n  'polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view',\n  true\n);\n\nvar isReservedTag = function (tag) {\n  return isHTMLTag(tag) || isSVG(tag)\n};\n\nfunction getTagNamespace (tag) {\n  if (isSVG(tag)) {\n    return 'svg'\n  }\n  // basic support for MathML\n  // note it doesn't support other MathML elements being component roots\n  if (tag === 'math') {\n    return 'math'\n  }\n}\n\nvar unknownElementCache = Object.create(null);\nfunction isUnknownElement (tag) {\n  /* istanbul ignore if */\n  if (!inBrowser) {\n    return true\n  }\n  if (isReservedTag(tag)) {\n    return false\n  }\n  tag = tag.toLowerCase();\n  /* istanbul ignore if */\n  if (unknownElementCache[tag] != null) {\n    return unknownElementCache[tag]\n  }\n  var el = document.createElement(tag);\n  if (tag.indexOf('-') > -1) {\n    // http://stackoverflow.com/a/28210364/1070244\n    return (unknownElementCache[tag] = (\n      el.constructor === window.HTMLUnknownElement ||\n      el.constructor === window.HTMLElement\n    ))\n  } else {\n    return (unknownElementCache[tag] = /HTMLUnknownElement/.test(el.toString()))\n  }\n}\n\nvar isTextInputType = makeMap('text,number,password,search,email,tel,url');\n\n/*  */\n\n/**\n * Query an element selector if it's not an element already.\n */\nfunction query (el) {\n  if (typeof el === 'string') {\n    var selected = document.querySelector(el);\n    if (!selected) {\n      process.env.NODE_ENV !== 'production' && warn(\n        'Cannot find element: ' + el\n      );\n      return document.createElement('div')\n    }\n    return selected\n  } else {\n    return el\n  }\n}\n\n/*  */\n\nfunction createElement$1 (tagName, vnode) {\n  var elm = document.createElement(tagName);\n  if (tagName !== 'select') {\n    return elm\n  }\n  // false or null will remove the attribute but undefined will not\n  if (vnode.data && vnode.data.attrs && vnode.data.attrs.multiple !== undefined) {\n    elm.setAttribute('multiple', 'multiple');\n  }\n  return elm\n}\n\nfunction createElementNS (namespace, tagName) {\n  return document.createElementNS(namespaceMap[namespace], tagName)\n}\n\nfunction createTextNode (text) {\n  return document.createTextNode(text)\n}\n\nfunction createComment (text) {\n  return document.createComment(text)\n}\n\nfunction insertBefore (parentNode, newNode, referenceNode) {\n  parentNode.insertBefore(newNode, referenceNode);\n}\n\nfunction removeChild (node, child) {\n  node.removeChild(child);\n}\n\nfunction appendChild (node, child) {\n  node.appendChild(child);\n}\n\nfunction parentNode (node) {\n  return node.parentNode\n}\n\nfunction nextSibling (node) {\n  return node.nextSibling\n}\n\nfunction tagName (node) {\n  return node.tagName\n}\n\nfunction setTextContent (node, text) {\n  node.textContent = text;\n}\n\nfunction setStyleScope (node, scopeId) {\n  node.setAttribute(scopeId, '');\n}\n\nvar nodeOps = /*#__PURE__*/Object.freeze({\n  createElement: createElement$1,\n  createElementNS: createElementNS,\n  createTextNode: createTextNode,\n  createComment: createComment,\n  insertBefore: insertBefore,\n  removeChild: removeChild,\n  appendChild: appendChild,\n  parentNode: parentNode,\n  nextSibling: nextSibling,\n  tagName: tagName,\n  setTextContent: setTextContent,\n  setStyleScope: setStyleScope\n});\n\n/*  */\n\nvar ref = {\n  create: function create (_, vnode) {\n    registerRef(vnode);\n  },\n  update: function update (oldVnode, vnode) {\n    if (oldVnode.data.ref !== vnode.data.ref) {\n      registerRef(oldVnode, true);\n      registerRef(vnode);\n    }\n  },\n  destroy: function destroy (vnode) {\n    registerRef(vnode, true);\n  }\n};\n\nfunction registerRef (vnode, isRemoval) {\n  var key = vnode.data.ref;\n  if (!isDef(key)) { return }\n\n  var vm = vnode.context;\n  var ref = vnode.componentInstance || vnode.elm;\n  var refs = vm.$refs;\n  if (isRemoval) {\n    if (Array.isArray(refs[key])) {\n      remove(refs[key], ref);\n    } else if (refs[key] === ref) {\n      refs[key] = undefined;\n    }\n  } else {\n    if (vnode.data.refInFor) {\n      if (!Array.isArray(refs[key])) {\n        refs[key] = [ref];\n      } else if (refs[key].indexOf(ref) < 0) {\n        // $flow-disable-line\n        refs[key].push(ref);\n      }\n    } else {\n      refs[key] = ref;\n    }\n  }\n}\n\n/**\n * Virtual DOM patching algorithm based on Snabbdom by\n * Simon Friis Vindum (@paldepind)\n * Licensed under the MIT License\n * https://github.com/paldepind/snabbdom/blob/master/LICENSE\n *\n * modified by Evan You (@yyx990803)\n *\n * Not type-checking this because this file is perf-critical and the cost\n * of making flow understand it is not worth it.\n */\n\nvar emptyNode = new VNode('', {}, []);\n\nvar hooks = ['create', 'activate', 'update', 'remove', 'destroy'];\n\nfunction sameVnode (a, b) {\n  return (\n    a.key === b.key && (\n      (\n        a.tag === b.tag &&\n        a.isComment === b.isComment &&\n        isDef(a.data) === isDef(b.data) &&\n        sameInputType(a, b)\n      ) || (\n        isTrue(a.isAsyncPlaceholder) &&\n        a.asyncFactory === b.asyncFactory &&\n        isUndef(b.asyncFactory.error)\n      )\n    )\n  )\n}\n\nfunction sameInputType (a, b) {\n  if (a.tag !== 'input') { return true }\n  var i;\n  var typeA = isDef(i = a.data) && isDef(i = i.attrs) && i.type;\n  var typeB = isDef(i = b.data) && isDef(i = i.attrs) && i.type;\n  return typeA === typeB || isTextInputType(typeA) && isTextInputType(typeB)\n}\n\nfunction createKeyToOldIdx (children, beginIdx, endIdx) {\n  var i, key;\n  var map = {};\n  for (i = beginIdx; i <= endIdx; ++i) {\n    key = children[i].key;\n    if (isDef(key)) { map[key] = i; }\n  }\n  return map\n}\n\nfunction createPatchFunction (backend) {\n  var i, j;\n  var cbs = {};\n\n  var modules = backend.modules;\n  var nodeOps = backend.nodeOps;\n\n  for (i = 0; i < hooks.length; ++i) {\n    cbs[hooks[i]] = [];\n    for (j = 0; j < modules.length; ++j) {\n      if (isDef(modules[j][hooks[i]])) {\n        cbs[hooks[i]].push(modules[j][hooks[i]]);\n      }\n    }\n  }\n\n  function emptyNodeAt (elm) {\n    return new VNode(nodeOps.tagName(elm).toLowerCase(), {}, [], undefined, elm)\n  }\n\n  function createRmCb (childElm, listeners) {\n    function remove$$1 () {\n      if (--remove$$1.listeners === 0) {\n        removeNode(childElm);\n      }\n    }\n    remove$$1.listeners = listeners;\n    return remove$$1\n  }\n\n  function removeNode (el) {\n    var parent = nodeOps.parentNode(el);\n    // element may have already been removed due to v-html / v-text\n    if (isDef(parent)) {\n      nodeOps.removeChild(parent, el);\n    }\n  }\n\n  function isUnknownElement$$1 (vnode, inVPre) {\n    return (\n      !inVPre &&\n      !vnode.ns &&\n      !(\n        config.ignoredElements.length &&\n        config.ignoredElements.some(function (ignore) {\n          return isRegExp(ignore)\n            ? ignore.test(vnode.tag)\n            : ignore === vnode.tag\n        })\n      ) &&\n      config.isUnknownElement(vnode.tag)\n    )\n  }\n\n  var creatingElmInVPre = 0;\n\n  function createElm (\n    vnode,\n    insertedVnodeQueue,\n    parentElm,\n    refElm,\n    nested,\n    ownerArray,\n    index\n  ) {\n    if (isDef(vnode.elm) && isDef(ownerArray)) {\n      // This vnode was used in a previous render!\n      // now it's used as a new node, overwriting its elm would cause\n      // potential patch errors down the road when it's used as an insertion\n      // reference node. Instead, we clone the node on-demand before creating\n      // associated DOM element for it.\n      vnode = ownerArray[index] = cloneVNode(vnode);\n    }\n\n    vnode.isRootInsert = !nested; // for transition enter check\n    if (createComponent(vnode, insertedVnodeQueue, parentElm, refElm)) {\n      return\n    }\n\n    var data = vnode.data;\n    var children = vnode.children;\n    var tag = vnode.tag;\n    if (isDef(tag)) {\n      if (process.env.NODE_ENV !== 'production') {\n        if (data && data.pre) {\n          creatingElmInVPre++;\n        }\n        if (isUnknownElement$$1(vnode, creatingElmInVPre)) {\n          warn(\n            'Unknown custom element: <' + tag + '> - did you ' +\n            'register the component correctly? For recursive components, ' +\n            'make sure to provide the \"name\" option.',\n            vnode.context\n          );\n        }\n      }\n\n      vnode.elm = vnode.ns\n        ? nodeOps.createElementNS(vnode.ns, tag)\n        : nodeOps.createElement(tag, vnode);\n      setScope(vnode);\n\n      /* istanbul ignore if */\n      {\n        createChildren(vnode, children, insertedVnodeQueue);\n        if (isDef(data)) {\n          invokeCreateHooks(vnode, insertedVnodeQueue);\n        }\n        insert(parentElm, vnode.elm, refElm);\n      }\n\n      if (process.env.NODE_ENV !== 'production' && data && data.pre) {\n        creatingElmInVPre--;\n      }\n    } else if (isTrue(vnode.isComment)) {\n      vnode.elm = nodeOps.createComment(vnode.text);\n      insert(parentElm, vnode.elm, refElm);\n    } else {\n      vnode.elm = nodeOps.createTextNode(vnode.text);\n      insert(parentElm, vnode.elm, refElm);\n    }\n  }\n\n  function createComponent (vnode, insertedVnodeQueue, parentElm, refElm) {\n    var i = vnode.data;\n    if (isDef(i)) {\n      var isReactivated = isDef(vnode.componentInstance) && i.keepAlive;\n      if (isDef(i = i.hook) && isDef(i = i.init)) {\n        i(vnode, false /* hydrating */);\n      }\n      // after calling the init hook, if the vnode is a child component\n      // it should've created a child instance and mounted it. the child\n      // component also has set the placeholder vnode's elm.\n      // in that case we can just return the element and be done.\n      if (isDef(vnode.componentInstance)) {\n        initComponent(vnode, insertedVnodeQueue);\n        insert(parentElm, vnode.elm, refElm);\n        if (isTrue(isReactivated)) {\n          reactivateComponent(vnode, insertedVnodeQueue, parentElm, refElm);\n        }\n        return true\n      }\n    }\n  }\n\n  function initComponent (vnode, insertedVnodeQueue) {\n    if (isDef(vnode.data.pendingInsert)) {\n      insertedVnodeQueue.push.apply(insertedVnodeQueue, vnode.data.pendingInsert);\n      vnode.data.pendingInsert = null;\n    }\n    vnode.elm = vnode.componentInstance.$el;\n    if (isPatchable(vnode)) {\n      invokeCreateHooks(vnode, insertedVnodeQueue);\n      setScope(vnode);\n    } else {\n      // empty component root.\n      // skip all element-related modules except for ref (#3455)\n      registerRef(vnode);\n      // make sure to invoke the insert hook\n      insertedVnodeQueue.push(vnode);\n    }\n  }\n\n  function reactivateComponent (vnode, insertedVnodeQueue, parentElm, refElm) {\n    var i;\n    // hack for #4339: a reactivated component with inner transition\n    // does not trigger because the inner node's created hooks are not called\n    // again. It's not ideal to involve module-specific logic in here but\n    // there doesn't seem to be a better way to do it.\n    var innerNode = vnode;\n    while (innerNode.componentInstance) {\n      innerNode = innerNode.componentInstance._vnode;\n      if (isDef(i = innerNode.data) && isDef(i = i.transition)) {\n        for (i = 0; i < cbs.activate.length; ++i) {\n          cbs.activate[i](emptyNode, innerNode);\n        }\n        insertedVnodeQueue.push(innerNode);\n        break\n      }\n    }\n    // unlike a newly created component,\n    // a reactivated keep-alive component doesn't insert itself\n    insert(parentElm, vnode.elm, refElm);\n  }\n\n  function insert (parent, elm, ref$$1) {\n    if (isDef(parent)) {\n      if (isDef(ref$$1)) {\n        if (nodeOps.parentNode(ref$$1) === parent) {\n          nodeOps.insertBefore(parent, elm, ref$$1);\n        }\n      } else {\n        nodeOps.appendChild(parent, elm);\n      }\n    }\n  }\n\n  function createChildren (vnode, children, insertedVnodeQueue) {\n    if (Array.isArray(children)) {\n      if (process.env.NODE_ENV !== 'production') {\n        checkDuplicateKeys(children);\n      }\n      for (var i = 0; i < children.length; ++i) {\n        createElm(children[i], insertedVnodeQueue, vnode.elm, null, true, children, i);\n      }\n    } else if (isPrimitive(vnode.text)) {\n      nodeOps.appendChild(vnode.elm, nodeOps.createTextNode(String(vnode.text)));\n    }\n  }\n\n  function isPatchable (vnode) {\n    while (vnode.componentInstance) {\n      vnode = vnode.componentInstance._vnode;\n    }\n    return isDef(vnode.tag)\n  }\n\n  function invokeCreateHooks (vnode, insertedVnodeQueue) {\n    for (var i$1 = 0; i$1 < cbs.create.length; ++i$1) {\n      cbs.create[i$1](emptyNode, vnode);\n    }\n    i = vnode.data.hook; // Reuse variable\n    if (isDef(i)) {\n      if (isDef(i.create)) { i.create(emptyNode, vnode); }\n      if (isDef(i.insert)) { insertedVnodeQueue.push(vnode); }\n    }\n  }\n\n  // set scope id attribute for scoped CSS.\n  // this is implemented as a special case to avoid the overhead\n  // of going through the normal attribute patching process.\n  function setScope (vnode) {\n    var i;\n    if (isDef(i = vnode.fnScopeId)) {\n      nodeOps.setStyleScope(vnode.elm, i);\n    } else {\n      var ancestor = vnode;\n      while (ancestor) {\n        if (isDef(i = ancestor.context) && isDef(i = i.$options._scopeId)) {\n          nodeOps.setStyleScope(vnode.elm, i);\n        }\n        ancestor = ancestor.parent;\n      }\n    }\n    // for slot content they should also get the scopeId from the host instance.\n    if (isDef(i = activeInstance) &&\n      i !== vnode.context &&\n      i !== vnode.fnContext &&\n      isDef(i = i.$options._scopeId)\n    ) {\n      nodeOps.setStyleScope(vnode.elm, i);\n    }\n  }\n\n  function addVnodes (parentElm, refElm, vnodes, startIdx, endIdx, insertedVnodeQueue) {\n    for (; startIdx <= endIdx; ++startIdx) {\n      createElm(vnodes[startIdx], insertedVnodeQueue, parentElm, refElm, false, vnodes, startIdx);\n    }\n  }\n\n  function invokeDestroyHook (vnode) {\n    var i, j;\n    var data = vnode.data;\n    if (isDef(data)) {\n      if (isDef(i = data.hook) && isDef(i = i.destroy)) { i(vnode); }\n      for (i = 0; i < cbs.destroy.length; ++i) { cbs.destroy[i](vnode); }\n    }\n    if (isDef(i = vnode.children)) {\n      for (j = 0; j < vnode.children.length; ++j) {\n        invokeDestroyHook(vnode.children[j]);\n      }\n    }\n  }\n\n  function removeVnodes (vnodes, startIdx, endIdx) {\n    for (; startIdx <= endIdx; ++startIdx) {\n      var ch = vnodes[startIdx];\n      if (isDef(ch)) {\n        if (isDef(ch.tag)) {\n          removeAndInvokeRemoveHook(ch);\n          invokeDestroyHook(ch);\n        } else { // Text node\n          removeNode(ch.elm);\n        }\n      }\n    }\n  }\n\n  function removeAndInvokeRemoveHook (vnode, rm) {\n    if (isDef(rm) || isDef(vnode.data)) {\n      var i;\n      var listeners = cbs.remove.length + 1;\n      if (isDef(rm)) {\n        // we have a recursively passed down rm callback\n        // increase the listeners count\n        rm.listeners += listeners;\n      } else {\n        // directly removing\n        rm = createRmCb(vnode.elm, listeners);\n      }\n      // recursively invoke hooks on child component root node\n      if (isDef(i = vnode.componentInstance) && isDef(i = i._vnode) && isDef(i.data)) {\n        removeAndInvokeRemoveHook(i, rm);\n      }\n      for (i = 0; i < cbs.remove.length; ++i) {\n        cbs.remove[i](vnode, rm);\n      }\n      if (isDef(i = vnode.data.hook) && isDef(i = i.remove)) {\n        i(vnode, rm);\n      } else {\n        rm();\n      }\n    } else {\n      removeNode(vnode.elm);\n    }\n  }\n\n  function updateChildren (parentElm, oldCh, newCh, insertedVnodeQueue, removeOnly) {\n    var oldStartIdx = 0;\n    var newStartIdx = 0;\n    var oldEndIdx = oldCh.length - 1;\n    var oldStartVnode = oldCh[0];\n    var oldEndVnode = oldCh[oldEndIdx];\n    var newEndIdx = newCh.length - 1;\n    var newStartVnode = newCh[0];\n    var newEndVnode = newCh[newEndIdx];\n    var oldKeyToIdx, idxInOld, vnodeToMove, refElm;\n\n    // removeOnly is a special flag used only by <transition-group>\n    // to ensure removed elements stay in correct relative positions\n    // during leaving transitions\n    var canMove = !removeOnly;\n\n    if (process.env.NODE_ENV !== 'production') {\n      checkDuplicateKeys(newCh);\n    }\n\n    while (oldStartIdx <= oldEndIdx && newStartIdx <= newEndIdx) {\n      if (isUndef(oldStartVnode)) {\n        oldStartVnode = oldCh[++oldStartIdx]; // Vnode has been moved left\n      } else if (isUndef(oldEndVnode)) {\n        oldEndVnode = oldCh[--oldEndIdx];\n      } else if (sameVnode(oldStartVnode, newStartVnode)) {\n        patchVnode(oldStartVnode, newStartVnode, insertedVnodeQueue, newCh, newStartIdx);\n        oldStartVnode = oldCh[++oldStartIdx];\n        newStartVnode = newCh[++newStartIdx];\n      } else if (sameVnode(oldEndVnode, newEndVnode)) {\n        patchVnode(oldEndVnode, newEndVnode, insertedVnodeQueue, newCh, newEndIdx);\n        oldEndVnode = oldCh[--oldEndIdx];\n        newEndVnode = newCh[--newEndIdx];\n      } else if (sameVnode(oldStartVnode, newEndVnode)) { // Vnode moved right\n        patchVnode(oldStartVnode, newEndVnode, insertedVnodeQueue, newCh, newEndIdx);\n        canMove && nodeOps.insertBefore(parentElm, oldStartVnode.elm, nodeOps.nextSibling(oldEndVnode.elm));\n        oldStartVnode = oldCh[++oldStartIdx];\n        newEndVnode = newCh[--newEndIdx];\n      } else if (sameVnode(oldEndVnode, newStartVnode)) { // Vnode moved left\n        patchVnode(oldEndVnode, newStartVnode, insertedVnodeQueue, newCh, newStartIdx);\n        canMove && nodeOps.insertBefore(parentElm, oldEndVnode.elm, oldStartVnode.elm);\n        oldEndVnode = oldCh[--oldEndIdx];\n        newStartVnode = newCh[++newStartIdx];\n      } else {\n        if (isUndef(oldKeyToIdx)) { oldKeyToIdx = createKeyToOldIdx(oldCh, oldStartIdx, oldEndIdx); }\n        idxInOld = isDef(newStartVnode.key)\n          ? oldKeyToIdx[newStartVnode.key]\n          : findIdxInOld(newStartVnode, oldCh, oldStartIdx, oldEndIdx);\n        if (isUndef(idxInOld)) { // New element\n          createElm(newStartVnode, insertedVnodeQueue, parentElm, oldStartVnode.elm, false, newCh, newStartIdx);\n        } else {\n          vnodeToMove = oldCh[idxInOld];\n          if (sameVnode(vnodeToMove, newStartVnode)) {\n            patchVnode(vnodeToMove, newStartVnode, insertedVnodeQueue, newCh, newStartIdx);\n            oldCh[idxInOld] = undefined;\n            canMove && nodeOps.insertBefore(parentElm, vnodeToMove.elm, oldStartVnode.elm);\n          } else {\n            // same key but different element. treat as new element\n            createElm(newStartVnode, insertedVnodeQueue, parentElm, oldStartVnode.elm, false, newCh, newStartIdx);\n          }\n        }\n        newStartVnode = newCh[++newStartIdx];\n      }\n    }\n    if (oldStartIdx > oldEndIdx) {\n      refElm = isUndef(newCh[newEndIdx + 1]) ? null : newCh[newEndIdx + 1].elm;\n      addVnodes(parentElm, refElm, newCh, newStartIdx, newEndIdx, insertedVnodeQueue);\n    } else if (newStartIdx > newEndIdx) {\n      removeVnodes(oldCh, oldStartIdx, oldEndIdx);\n    }\n  }\n\n  function checkDuplicateKeys (children) {\n    var seenKeys = {};\n    for (var i = 0; i < children.length; i++) {\n      var vnode = children[i];\n      var key = vnode.key;\n      if (isDef(key)) {\n        if (seenKeys[key]) {\n          warn(\n            (\"Duplicate keys detected: '\" + key + \"'. This may cause an update error.\"),\n            vnode.context\n          );\n        } else {\n          seenKeys[key] = true;\n        }\n      }\n    }\n  }\n\n  function findIdxInOld (node, oldCh, start, end) {\n    for (var i = start; i < end; i++) {\n      var c = oldCh[i];\n      if (isDef(c) && sameVnode(node, c)) { return i }\n    }\n  }\n\n  function patchVnode (\n    oldVnode,\n    vnode,\n    insertedVnodeQueue,\n    ownerArray,\n    index,\n    removeOnly\n  ) {\n    if (oldVnode === vnode) {\n      return\n    }\n\n    if (isDef(vnode.elm) && isDef(ownerArray)) {\n      // clone reused vnode\n      vnode = ownerArray[index] = cloneVNode(vnode);\n    }\n\n    var elm = vnode.elm = oldVnode.elm;\n\n    if (isTrue(oldVnode.isAsyncPlaceholder)) {\n      if (isDef(vnode.asyncFactory.resolved)) {\n        hydrate(oldVnode.elm, vnode, insertedVnodeQueue);\n      } else {\n        vnode.isAsyncPlaceholder = true;\n      }\n      return\n    }\n\n    // reuse element for static trees.\n    // note we only do this if the vnode is cloned -\n    // if the new node is not cloned it means the render functions have been\n    // reset by the hot-reload-api and we need to do a proper re-render.\n    if (isTrue(vnode.isStatic) &&\n      isTrue(oldVnode.isStatic) &&\n      vnode.key === oldVnode.key &&\n      (isTrue(vnode.isCloned) || isTrue(vnode.isOnce))\n    ) {\n      vnode.componentInstance = oldVnode.componentInstance;\n      return\n    }\n\n    var i;\n    var data = vnode.data;\n    if (isDef(data) && isDef(i = data.hook) && isDef(i = i.prepatch)) {\n      i(oldVnode, vnode);\n    }\n\n    var oldCh = oldVnode.children;\n    var ch = vnode.children;\n    if (isDef(data) && isPatchable(vnode)) {\n      for (i = 0; i < cbs.update.length; ++i) { cbs.update[i](oldVnode, vnode); }\n      if (isDef(i = data.hook) && isDef(i = i.update)) { i(oldVnode, vnode); }\n    }\n    if (isUndef(vnode.text)) {\n      if (isDef(oldCh) && isDef(ch)) {\n        if (oldCh !== ch) { updateChildren(elm, oldCh, ch, insertedVnodeQueue, removeOnly); }\n      } else if (isDef(ch)) {\n        if (process.env.NODE_ENV !== 'production') {\n          checkDuplicateKeys(ch);\n        }\n        if (isDef(oldVnode.text)) { nodeOps.setTextContent(elm, ''); }\n        addVnodes(elm, null, ch, 0, ch.length - 1, insertedVnodeQueue);\n      } else if (isDef(oldCh)) {\n        removeVnodes(oldCh, 0, oldCh.length - 1);\n      } else if (isDef(oldVnode.text)) {\n        nodeOps.setTextContent(elm, '');\n      }\n    } else if (oldVnode.text !== vnode.text) {\n      nodeOps.setTextContent(elm, vnode.text);\n    }\n    if (isDef(data)) {\n      if (isDef(i = data.hook) && isDef(i = i.postpatch)) { i(oldVnode, vnode); }\n    }\n  }\n\n  function invokeInsertHook (vnode, queue, initial) {\n    // delay insert hooks for component root nodes, invoke them after the\n    // element is really inserted\n    if (isTrue(initial) && isDef(vnode.parent)) {\n      vnode.parent.data.pendingInsert = queue;\n    } else {\n      for (var i = 0; i < queue.length; ++i) {\n        queue[i].data.hook.insert(queue[i]);\n      }\n    }\n  }\n\n  var hydrationBailed = false;\n  // list of modules that can skip create hook during hydration because they\n  // are already rendered on the client or has no need for initialization\n  // Note: style is excluded because it relies on initial clone for future\n  // deep updates (#7063).\n  var isRenderedModule = makeMap('attrs,class,staticClass,staticStyle,key');\n\n  // Note: this is a browser-only function so we can assume elms are DOM nodes.\n  function hydrate (elm, vnode, insertedVnodeQueue, inVPre) {\n    var i;\n    var tag = vnode.tag;\n    var data = vnode.data;\n    var children = vnode.children;\n    inVPre = inVPre || (data && data.pre);\n    vnode.elm = elm;\n\n    if (isTrue(vnode.isComment) && isDef(vnode.asyncFactory)) {\n      vnode.isAsyncPlaceholder = true;\n      return true\n    }\n    // assert node match\n    if (process.env.NODE_ENV !== 'production') {\n      if (!assertNodeMatch(elm, vnode, inVPre)) {\n        return false\n      }\n    }\n    if (isDef(data)) {\n      if (isDef(i = data.hook) && isDef(i = i.init)) { i(vnode, true /* hydrating */); }\n      if (isDef(i = vnode.componentInstance)) {\n        // child component. it should have hydrated its own tree.\n        initComponent(vnode, insertedVnodeQueue);\n        return true\n      }\n    }\n    if (isDef(tag)) {\n      if (isDef(children)) {\n        // empty element, allow client to pick up and populate children\n        if (!elm.hasChildNodes()) {\n          createChildren(vnode, children, insertedVnodeQueue);\n        } else {\n          // v-html and domProps: innerHTML\n          if (isDef(i = data) && isDef(i = i.domProps) && isDef(i = i.innerHTML)) {\n            if (i !== elm.innerHTML) {\n              /* istanbul ignore if */\n              if (process.env.NODE_ENV !== 'production' &&\n                typeof console !== 'undefined' &&\n                !hydrationBailed\n              ) {\n                hydrationBailed = true;\n                console.warn('Parent: ', elm);\n                console.warn('server innerHTML: ', i);\n                console.warn('client innerHTML: ', elm.innerHTML);\n              }\n              return false\n            }\n          } else {\n            // iterate and compare children lists\n            var childrenMatch = true;\n            var childNode = elm.firstChild;\n            for (var i$1 = 0; i$1 < children.length; i$1++) {\n              if (!childNode || !hydrate(childNode, children[i$1], insertedVnodeQueue, inVPre)) {\n                childrenMatch = false;\n                break\n              }\n              childNode = childNode.nextSibling;\n            }\n            // if childNode is not null, it means the actual childNodes list is\n            // longer than the virtual children list.\n            if (!childrenMatch || childNode) {\n              /* istanbul ignore if */\n              if (process.env.NODE_ENV !== 'production' &&\n                typeof console !== 'undefined' &&\n                !hydrationBailed\n              ) {\n                hydrationBailed = true;\n                console.warn('Parent: ', elm);\n                console.warn('Mismatching childNodes vs. VNodes: ', elm.childNodes, children);\n              }\n              return false\n            }\n          }\n        }\n      }\n      if (isDef(data)) {\n        var fullInvoke = false;\n        for (var key in data) {\n          if (!isRenderedModule(key)) {\n            fullInvoke = true;\n            invokeCreateHooks(vnode, insertedVnodeQueue);\n            break\n          }\n        }\n        if (!fullInvoke && data['class']) {\n          // ensure collecting deps for deep class bindings for future updates\n          traverse(data['class']);\n        }\n      }\n    } else if (elm.data !== vnode.text) {\n      elm.data = vnode.text;\n    }\n    return true\n  }\n\n  function assertNodeMatch (node, vnode, inVPre) {\n    if (isDef(vnode.tag)) {\n      return vnode.tag.indexOf('vue-component') === 0 || (\n        !isUnknownElement$$1(vnode, inVPre) &&\n        vnode.tag.toLowerCase() === (node.tagName && node.tagName.toLowerCase())\n      )\n    } else {\n      return node.nodeType === (vnode.isComment ? 8 : 3)\n    }\n  }\n\n  return function patch (oldVnode, vnode, hydrating, removeOnly) {\n    if (isUndef(vnode)) {\n      if (isDef(oldVnode)) { invokeDestroyHook(oldVnode); }\n      return\n    }\n\n    var isInitialPatch = false;\n    var insertedVnodeQueue = [];\n\n    if (isUndef(oldVnode)) {\n      // empty mount (likely as component), create new root element\n      isInitialPatch = true;\n      createElm(vnode, insertedVnodeQueue);\n    } else {\n      var isRealElement = isDef(oldVnode.nodeType);\n      if (!isRealElement && sameVnode(oldVnode, vnode)) {\n        // patch existing root node\n        patchVnode(oldVnode, vnode, insertedVnodeQueue, null, null, removeOnly);\n      } else {\n        if (isRealElement) {\n          // mounting to a real element\n          // check if this is server-rendered content and if we can perform\n          // a successful hydration.\n          if (oldVnode.nodeType === 1 && oldVnode.hasAttribute(SSR_ATTR)) {\n            oldVnode.removeAttribute(SSR_ATTR);\n            hydrating = true;\n          }\n          if (isTrue(hydrating)) {\n            if (hydrate(oldVnode, vnode, insertedVnodeQueue)) {\n              invokeInsertHook(vnode, insertedVnodeQueue, true);\n              return oldVnode\n            } else if (process.env.NODE_ENV !== 'production') {\n              warn(\n                'The client-side rendered virtual DOM tree is not matching ' +\n                'server-rendered content. This is likely caused by incorrect ' +\n                'HTML markup, for example nesting block-level elements inside ' +\n                '<p>, or missing <tbody>. Bailing hydration and performing ' +\n                'full client-side render.'\n              );\n            }\n          }\n          // either not server-rendered, or hydration failed.\n          // create an empty node and replace it\n          oldVnode = emptyNodeAt(oldVnode);\n        }\n\n        // replacing existing element\n        var oldElm = oldVnode.elm;\n        var parentElm = nodeOps.parentNode(oldElm);\n\n        // create new node\n        createElm(\n          vnode,\n          insertedVnodeQueue,\n          // extremely rare edge case: do not insert if old element is in a\n          // leaving transition. Only happens when combining transition +\n          // keep-alive + HOCs. (#4590)\n          oldElm._leaveCb ? null : parentElm,\n          nodeOps.nextSibling(oldElm)\n        );\n\n        // update parent placeholder node element, recursively\n        if (isDef(vnode.parent)) {\n          var ancestor = vnode.parent;\n          var patchable = isPatchable(vnode);\n          while (ancestor) {\n            for (var i = 0; i < cbs.destroy.length; ++i) {\n              cbs.destroy[i](ancestor);\n            }\n            ancestor.elm = vnode.elm;\n            if (patchable) {\n              for (var i$1 = 0; i$1 < cbs.create.length; ++i$1) {\n                cbs.create[i$1](emptyNode, ancestor);\n              }\n              // #6513\n              // invoke insert hooks that may have been merged by create hooks.\n              // e.g. for directives that uses the \"inserted\" hook.\n              var insert = ancestor.data.hook.insert;\n              if (insert.merged) {\n                // start at index 1 to avoid re-invoking component mounted hook\n                for (var i$2 = 1; i$2 < insert.fns.length; i$2++) {\n                  insert.fns[i$2]();\n                }\n              }\n            } else {\n              registerRef(ancestor);\n            }\n            ancestor = ancestor.parent;\n          }\n        }\n\n        // destroy old node\n        if (isDef(parentElm)) {\n          removeVnodes([oldVnode], 0, 0);\n        } else if (isDef(oldVnode.tag)) {\n          invokeDestroyHook(oldVnode);\n        }\n      }\n    }\n\n    invokeInsertHook(vnode, insertedVnodeQueue, isInitialPatch);\n    return vnode.elm\n  }\n}\n\n/*  */\n\nvar directives = {\n  create: updateDirectives,\n  update: updateDirectives,\n  destroy: function unbindDirectives (vnode) {\n    updateDirectives(vnode, emptyNode);\n  }\n};\n\nfunction updateDirectives (oldVnode, vnode) {\n  if (oldVnode.data.directives || vnode.data.directives) {\n    _update(oldVnode, vnode);\n  }\n}\n\nfunction _update (oldVnode, vnode) {\n  var isCreate = oldVnode === emptyNode;\n  var isDestroy = vnode === emptyNode;\n  var oldDirs = normalizeDirectives$1(oldVnode.data.directives, oldVnode.context);\n  var newDirs = normalizeDirectives$1(vnode.data.directives, vnode.context);\n\n  var dirsWithInsert = [];\n  var dirsWithPostpatch = [];\n\n  var key, oldDir, dir;\n  for (key in newDirs) {\n    oldDir = oldDirs[key];\n    dir = newDirs[key];\n    if (!oldDir) {\n      // new directive, bind\n      callHook$1(dir, 'bind', vnode, oldVnode);\n      if (dir.def && dir.def.inserted) {\n        dirsWithInsert.push(dir);\n      }\n    } else {\n      // existing directive, update\n      dir.oldValue = oldDir.value;\n      dir.oldArg = oldDir.arg;\n      callHook$1(dir, 'update', vnode, oldVnode);\n      if (dir.def && dir.def.componentUpdated) {\n        dirsWithPostpatch.push(dir);\n      }\n    }\n  }\n\n  if (dirsWithInsert.length) {\n    var callInsert = function () {\n      for (var i = 0; i < dirsWithInsert.length; i++) {\n        callHook$1(dirsWithInsert[i], 'inserted', vnode, oldVnode);\n      }\n    };\n    if (isCreate) {\n      mergeVNodeHook(vnode, 'insert', callInsert);\n    } else {\n      callInsert();\n    }\n  }\n\n  if (dirsWithPostpatch.length) {\n    mergeVNodeHook(vnode, 'postpatch', function () {\n      for (var i = 0; i < dirsWithPostpatch.length; i++) {\n        callHook$1(dirsWithPostpatch[i], 'componentUpdated', vnode, oldVnode);\n      }\n    });\n  }\n\n  if (!isCreate) {\n    for (key in oldDirs) {\n      if (!newDirs[key]) {\n        // no longer present, unbind\n        callHook$1(oldDirs[key], 'unbind', oldVnode, oldVnode, isDestroy);\n      }\n    }\n  }\n}\n\nvar emptyModifiers = Object.create(null);\n\nfunction normalizeDirectives$1 (\n  dirs,\n  vm\n) {\n  var res = Object.create(null);\n  if (!dirs) {\n    // $flow-disable-line\n    return res\n  }\n  var i, dir;\n  for (i = 0; i < dirs.length; i++) {\n    dir = dirs[i];\n    if (!dir.modifiers) {\n      // $flow-disable-line\n      dir.modifiers = emptyModifiers;\n    }\n    res[getRawDirName(dir)] = dir;\n    dir.def = resolveAsset(vm.$options, 'directives', dir.name, true);\n  }\n  // $flow-disable-line\n  return res\n}\n\nfunction getRawDirName (dir) {\n  return dir.rawName || ((dir.name) + \".\" + (Object.keys(dir.modifiers || {}).join('.')))\n}\n\nfunction callHook$1 (dir, hook, vnode, oldVnode, isDestroy) {\n  var fn = dir.def && dir.def[hook];\n  if (fn) {\n    try {\n      fn(vnode.elm, dir, vnode, oldVnode, isDestroy);\n    } catch (e) {\n      handleError(e, vnode.context, (\"directive \" + (dir.name) + \" \" + hook + \" hook\"));\n    }\n  }\n}\n\nvar baseModules = [\n  ref,\n  directives\n];\n\n/*  */\n\nfunction updateAttrs (oldVnode, vnode) {\n  var opts = vnode.componentOptions;\n  if (isDef(opts) && opts.Ctor.options.inheritAttrs === false) {\n    return\n  }\n  if (isUndef(oldVnode.data.attrs) && isUndef(vnode.data.attrs)) {\n    return\n  }\n  var key, cur, old;\n  var elm = vnode.elm;\n  var oldAttrs = oldVnode.data.attrs || {};\n  var attrs = vnode.data.attrs || {};\n  // clone observed objects, as the user probably wants to mutate it\n  if (isDef(attrs.__ob__)) {\n    attrs = vnode.data.attrs = extend({}, attrs);\n  }\n\n  for (key in attrs) {\n    cur = attrs[key];\n    old = oldAttrs[key];\n    if (old !== cur) {\n      setAttr(elm, key, cur);\n    }\n  }\n  // #4391: in IE9, setting type can reset value for input[type=radio]\n  // #6666: IE/Edge forces progress value down to 1 before setting a max\n  /* istanbul ignore if */\n  if ((isIE || isEdge) && attrs.value !== oldAttrs.value) {\n    setAttr(elm, 'value', attrs.value);\n  }\n  for (key in oldAttrs) {\n    if (isUndef(attrs[key])) {\n      if (isXlink(key)) {\n        elm.removeAttributeNS(xlinkNS, getXlinkProp(key));\n      } else if (!isEnumeratedAttr(key)) {\n        elm.removeAttribute(key);\n      }\n    }\n  }\n}\n\nfunction setAttr (el, key, value) {\n  if (el.tagName.indexOf('-') > -1) {\n    baseSetAttr(el, key, value);\n  } else if (isBooleanAttr(key)) {\n    // set attribute for blank value\n    // e.g. <option disabled>Select one</option>\n    if (isFalsyAttrValue(value)) {\n      el.removeAttribute(key);\n    } else {\n      // technically allowfullscreen is a boolean attribute for <iframe>,\n      // but Flash expects a value of \"true\" when used on <embed> tag\n      value = key === 'allowfullscreen' && el.tagName === 'EMBED'\n        ? 'true'\n        : key;\n      el.setAttribute(key, value);\n    }\n  } else if (isEnumeratedAttr(key)) {\n    el.setAttribute(key, convertEnumeratedValue(key, value));\n  } else if (isXlink(key)) {\n    if (isFalsyAttrValue(value)) {\n      el.removeAttributeNS(xlinkNS, getXlinkProp(key));\n    } else {\n      el.setAttributeNS(xlinkNS, key, value);\n    }\n  } else {\n    baseSetAttr(el, key, value);\n  }\n}\n\nfunction baseSetAttr (el, key, value) {\n  if (isFalsyAttrValue(value)) {\n    el.removeAttribute(key);\n  } else {\n    // #7138: IE10 & 11 fires input event when setting placeholder on\n    // <textarea>... block the first input event and remove the blocker\n    // immediately.\n    /* istanbul ignore if */\n    if (\n      isIE && !isIE9 &&\n      el.tagName === 'TEXTAREA' &&\n      key === 'placeholder' && value !== '' && !el.__ieph\n    ) {\n      var blocker = function (e) {\n        e.stopImmediatePropagation();\n        el.removeEventListener('input', blocker);\n      };\n      el.addEventListener('input', blocker);\n      // $flow-disable-line\n      el.__ieph = true; /* IE placeholder patched */\n    }\n    el.setAttribute(key, value);\n  }\n}\n\nvar attrs = {\n  create: updateAttrs,\n  update: updateAttrs\n};\n\n/*  */\n\nfunction updateClass (oldVnode, vnode) {\n  var el = vnode.elm;\n  var data = vnode.data;\n  var oldData = oldVnode.data;\n  if (\n    isUndef(data.staticClass) &&\n    isUndef(data.class) && (\n      isUndef(oldData) || (\n        isUndef(oldData.staticClass) &&\n        isUndef(oldData.class)\n      )\n    )\n  ) {\n    return\n  }\n\n  var cls = genClassForVnode(vnode);\n\n  // handle transition classes\n  var transitionClass = el._transitionClasses;\n  if (isDef(transitionClass)) {\n    cls = concat(cls, stringifyClass(transitionClass));\n  }\n\n  // set the class\n  if (cls !== el._prevClass) {\n    el.setAttribute('class', cls);\n    el._prevClass = cls;\n  }\n}\n\nvar klass = {\n  create: updateClass,\n  update: updateClass\n};\n\n/*  */\n\n/*  */\n\n/*  */\n\n/*  */\n\n// in some cases, the event used has to be determined at runtime\n// so we used some reserved tokens during compile.\nvar RANGE_TOKEN = '__r';\nvar CHECKBOX_RADIO_TOKEN = '__c';\n\n/*  */\n\n// normalize v-model event tokens that can only be determined at runtime.\n// it's important to place the event as the first in the array because\n// the whole point is ensuring the v-model callback gets called before\n// user-attached handlers.\nfunction normalizeEvents (on) {\n  /* istanbul ignore if */\n  if (isDef(on[RANGE_TOKEN])) {\n    // IE input[type=range] only supports `change` event\n    var event = isIE ? 'change' : 'input';\n    on[event] = [].concat(on[RANGE_TOKEN], on[event] || []);\n    delete on[RANGE_TOKEN];\n  }\n  // This was originally intended to fix #4521 but no longer necessary\n  // after 2.5. Keeping it for backwards compat with generated code from < 2.4\n  /* istanbul ignore if */\n  if (isDef(on[CHECKBOX_RADIO_TOKEN])) {\n    on.change = [].concat(on[CHECKBOX_RADIO_TOKEN], on.change || []);\n    delete on[CHECKBOX_RADIO_TOKEN];\n  }\n}\n\nvar target$1;\n\nfunction createOnceHandler$1 (event, handler, capture) {\n  var _target = target$1; // save current target element in closure\n  return function onceHandler () {\n    var res = handler.apply(null, arguments);\n    if (res !== null) {\n      remove$2(event, onceHandler, capture, _target);\n    }\n  }\n}\n\n// #9446: Firefox <= 53 (in particular, ESR 52) has incorrect Event.timeStamp\n// implementation and does not fire microtasks in between event propagation, so\n// safe to exclude.\nvar useMicrotaskFix = isUsingMicroTask && !(isFF && Number(isFF[1]) <= 53);\n\nfunction add$1 (\n  name,\n  handler,\n  capture,\n  passive\n) {\n  // async edge case #6566: inner click event triggers patch, event handler\n  // attached to outer element during patch, and triggered again. This\n  // happens because browsers fire microtask ticks between event propagation.\n  // the solution is simple: we save the timestamp when a handler is attached,\n  // and the handler would only fire if the event passed to it was fired\n  // AFTER it was attached.\n  if (useMicrotaskFix) {\n    var attachedTimestamp = currentFlushTimestamp;\n    var original = handler;\n    handler = original._wrapper = function (e) {\n      if (\n        // no bubbling, should always fire.\n        // this is just a safety net in case event.timeStamp is unreliable in\n        // certain weird environments...\n        e.target === e.currentTarget ||\n        // event is fired after handler attachment\n        e.timeStamp >= attachedTimestamp ||\n        // bail for environments that have buggy event.timeStamp implementations\n        // #9462 iOS 9 bug: event.timeStamp is 0 after history.pushState\n        // #9681 QtWebEngine event.timeStamp is negative value\n        e.timeStamp <= 0 ||\n        // #9448 bail if event is fired in another document in a multi-page\n        // electron/nw.js app, since event.timeStamp will be using a different\n        // starting reference\n        e.target.ownerDocument !== document\n      ) {\n        return original.apply(this, arguments)\n      }\n    };\n  }\n  target$1.addEventListener(\n    name,\n    handler,\n    supportsPassive\n      ? { capture: capture, passive: passive }\n      : capture\n  );\n}\n\nfunction remove$2 (\n  name,\n  handler,\n  capture,\n  _target\n) {\n  (_target || target$1).removeEventListener(\n    name,\n    handler._wrapper || handler,\n    capture\n  );\n}\n\nfunction updateDOMListeners (oldVnode, vnode) {\n  if (isUndef(oldVnode.data.on) && isUndef(vnode.data.on)) {\n    return\n  }\n  var on = vnode.data.on || {};\n  var oldOn = oldVnode.data.on || {};\n  target$1 = vnode.elm;\n  normalizeEvents(on);\n  updateListeners(on, oldOn, add$1, remove$2, createOnceHandler$1, vnode.context);\n  target$1 = undefined;\n}\n\nvar events = {\n  create: updateDOMListeners,\n  update: updateDOMListeners\n};\n\n/*  */\n\nvar svgContainer;\n\nfunction updateDOMProps (oldVnode, vnode) {\n  if (isUndef(oldVnode.data.domProps) && isUndef(vnode.data.domProps)) {\n    return\n  }\n  var key, cur;\n  var elm = vnode.elm;\n  var oldProps = oldVnode.data.domProps || {};\n  var props = vnode.data.domProps || {};\n  // clone observed objects, as the user probably wants to mutate it\n  if (isDef(props.__ob__)) {\n    props = vnode.data.domProps = extend({}, props);\n  }\n\n  for (key in oldProps) {\n    if (!(key in props)) {\n      elm[key] = '';\n    }\n  }\n\n  for (key in props) {\n    cur = props[key];\n    // ignore children if the node has textContent or innerHTML,\n    // as these will throw away existing DOM nodes and cause removal errors\n    // on subsequent patches (#3360)\n    if (key === 'textContent' || key === 'innerHTML') {\n      if (vnode.children) { vnode.children.length = 0; }\n      if (cur === oldProps[key]) { continue }\n      // #6601 work around Chrome version <= 55 bug where single textNode\n      // replaced by innerHTML/textContent retains its parentNode property\n      if (elm.childNodes.length === 1) {\n        elm.removeChild(elm.childNodes[0]);\n      }\n    }\n\n    if (key === 'value' && elm.tagName !== 'PROGRESS') {\n      // store value as _value as well since\n      // non-string values will be stringified\n      elm._value = cur;\n      // avoid resetting cursor position when value is the same\n      var strCur = isUndef(cur) ? '' : String(cur);\n      if (shouldUpdateValue(elm, strCur)) {\n        elm.value = strCur;\n      }\n    } else if (key === 'innerHTML' && isSVG(elm.tagName) && isUndef(elm.innerHTML)) {\n      // IE doesn't support innerHTML for SVG elements\n      svgContainer = svgContainer || document.createElement('div');\n      svgContainer.innerHTML = \"<svg>\" + cur + \"</svg>\";\n      var svg = svgContainer.firstChild;\n      while (elm.firstChild) {\n        elm.removeChild(elm.firstChild);\n      }\n      while (svg.firstChild) {\n        elm.appendChild(svg.firstChild);\n      }\n    } else if (\n      // skip the update if old and new VDOM state is the same.\n      // `value` is handled separately because the DOM value may be temporarily\n      // out of sync with VDOM state due to focus, composition and modifiers.\n      // This  #4521 by skipping the unnecessary `checked` update.\n      cur !== oldProps[key]\n    ) {\n      // some property updates can throw\n      // e.g. `value` on <progress> w/ non-finite value\n      try {\n        elm[key] = cur;\n      } catch (e) {}\n    }\n  }\n}\n\n// check platforms/web/util/attrs.js acceptValue\n\n\nfunction shouldUpdateValue (elm, checkVal) {\n  return (!elm.composing && (\n    elm.tagName === 'OPTION' ||\n    isNotInFocusAndDirty(elm, checkVal) ||\n    isDirtyWithModifiers(elm, checkVal)\n  ))\n}\n\nfunction isNotInFocusAndDirty (elm, checkVal) {\n  // return true when textbox (.number and .trim) loses focus and its value is\n  // not equal to the updated value\n  var notInFocus = true;\n  // #6157\n  // work around IE bug when accessing document.activeElement in an iframe\n  try { notInFocus = document.activeElement !== elm; } catch (e) {}\n  return notInFocus && elm.value !== checkVal\n}\n\nfunction isDirtyWithModifiers (elm, newVal) {\n  var value = elm.value;\n  var modifiers = elm._vModifiers; // injected by v-model runtime\n  if (isDef(modifiers)) {\n    if (modifiers.number) {\n      return toNumber(value) !== toNumber(newVal)\n    }\n    if (modifiers.trim) {\n      return value.trim() !== newVal.trim()\n    }\n  }\n  return value !== newVal\n}\n\nvar domProps = {\n  create: updateDOMProps,\n  update: updateDOMProps\n};\n\n/*  */\n\nvar parseStyleText = cached(function (cssText) {\n  var res = {};\n  var listDelimiter = /;(?![^(]*\\))/g;\n  var propertyDelimiter = /:(.+)/;\n  cssText.split(listDelimiter).forEach(function (item) {\n    if (item) {\n      var tmp = item.split(propertyDelimiter);\n      tmp.length > 1 && (res[tmp[0].trim()] = tmp[1].trim());\n    }\n  });\n  return res\n});\n\n// merge static and dynamic style data on the same vnode\nfunction normalizeStyleData (data) {\n  var style = normalizeStyleBinding(data.style);\n  // static style is pre-processed into an object during compilation\n  // and is always a fresh object, so it's safe to merge into it\n  return data.staticStyle\n    ? extend(data.staticStyle, style)\n    : style\n}\n\n// normalize possible array / string values into Object\nfunction normalizeStyleBinding (bindingStyle) {\n  if (Array.isArray(bindingStyle)) {\n    return toObject(bindingStyle)\n  }\n  if (typeof bindingStyle === 'string') {\n    return parseStyleText(bindingStyle)\n  }\n  return bindingStyle\n}\n\n/**\n * parent component style should be after child's\n * so that parent component's style could override it\n */\nfunction getStyle (vnode, checkChild) {\n  var res = {};\n  var styleData;\n\n  if (checkChild) {\n    var childNode = vnode;\n    while (childNode.componentInstance) {\n      childNode = childNode.componentInstance._vnode;\n      if (\n        childNode && childNode.data &&\n        (styleData = normalizeStyleData(childNode.data))\n      ) {\n        extend(res, styleData);\n      }\n    }\n  }\n\n  if ((styleData = normalizeStyleData(vnode.data))) {\n    extend(res, styleData);\n  }\n\n  var parentNode = vnode;\n  while ((parentNode = parentNode.parent)) {\n    if (parentNode.data && (styleData = normalizeStyleData(parentNode.data))) {\n      extend(res, styleData);\n    }\n  }\n  return res\n}\n\n/*  */\n\nvar cssVarRE = /^--/;\nvar importantRE = /\\s*!important$/;\nvar setProp = function (el, name, val) {\n  /* istanbul ignore if */\n  if (cssVarRE.test(name)) {\n    el.style.setProperty(name, val);\n  } else if (importantRE.test(val)) {\n    el.style.setProperty(hyphenate(name), val.replace(importantRE, ''), 'important');\n  } else {\n    var normalizedName = normalize(name);\n    if (Array.isArray(val)) {\n      // Support values array created by autoprefixer, e.g.\n      // {display: [\"-webkit-box\", \"-ms-flexbox\", \"flex\"]}\n      // Set them one by one, and the browser will only set those it can recognize\n      for (var i = 0, len = val.length; i < len; i++) {\n        el.style[normalizedName] = val[i];\n      }\n    } else {\n      el.style[normalizedName] = val;\n    }\n  }\n};\n\nvar vendorNames = ['Webkit', 'Moz', 'ms'];\n\nvar emptyStyle;\nvar normalize = cached(function (prop) {\n  emptyStyle = emptyStyle || document.createElement('div').style;\n  prop = camelize(prop);\n  if (prop !== 'filter' && (prop in emptyStyle)) {\n    return prop\n  }\n  var capName = prop.charAt(0).toUpperCase() + prop.slice(1);\n  for (var i = 0; i < vendorNames.length; i++) {\n    var name = vendorNames[i] + capName;\n    if (name in emptyStyle) {\n      return name\n    }\n  }\n});\n\nfunction updateStyle (oldVnode, vnode) {\n  var data = vnode.data;\n  var oldData = oldVnode.data;\n\n  if (isUndef(data.staticStyle) && isUndef(data.style) &&\n    isUndef(oldData.staticStyle) && isUndef(oldData.style)\n  ) {\n    return\n  }\n\n  var cur, name;\n  var el = vnode.elm;\n  var oldStaticStyle = oldData.staticStyle;\n  var oldStyleBinding = oldData.normalizedStyle || oldData.style || {};\n\n  // if static style exists, stylebinding already merged into it when doing normalizeStyleData\n  var oldStyle = oldStaticStyle || oldStyleBinding;\n\n  var style = normalizeStyleBinding(vnode.data.style) || {};\n\n  // store normalized style under a different key for next diff\n  // make sure to clone it if it's reactive, since the user likely wants\n  // to mutate it.\n  vnode.data.normalizedStyle = isDef(style.__ob__)\n    ? extend({}, style)\n    : style;\n\n  var newStyle = getStyle(vnode, true);\n\n  for (name in oldStyle) {\n    if (isUndef(newStyle[name])) {\n      setProp(el, name, '');\n    }\n  }\n  for (name in newStyle) {\n    cur = newStyle[name];\n    if (cur !== oldStyle[name]) {\n      // ie9 setting to null has no effect, must use empty string\n      setProp(el, name, cur == null ? '' : cur);\n    }\n  }\n}\n\nvar style = {\n  create: updateStyle,\n  update: updateStyle\n};\n\n/*  */\n\nvar whitespaceRE = /\\s+/;\n\n/**\n * Add class with compatibility for SVG since classList is not supported on\n * SVG elements in IE\n */\nfunction addClass (el, cls) {\n  /* istanbul ignore if */\n  if (!cls || !(cls = cls.trim())) {\n    return\n  }\n\n  /* istanbul ignore else */\n  if (el.classList) {\n    if (cls.indexOf(' ') > -1) {\n      cls.split(whitespaceRE).forEach(function (c) { return el.classList.add(c); });\n    } else {\n      el.classList.add(cls);\n    }\n  } else {\n    var cur = \" \" + (el.getAttribute('class') || '') + \" \";\n    if (cur.indexOf(' ' + cls + ' ') < 0) {\n      el.setAttribute('class', (cur + cls).trim());\n    }\n  }\n}\n\n/**\n * Remove class with compatibility for SVG since classList is not supported on\n * SVG elements in IE\n */\nfunction removeClass (el, cls) {\n  /* istanbul ignore if */\n  if (!cls || !(cls = cls.trim())) {\n    return\n  }\n\n  /* istanbul ignore else */\n  if (el.classList) {\n    if (cls.indexOf(' ') > -1) {\n      cls.split(whitespaceRE).forEach(function (c) { return el.classList.remove(c); });\n    } else {\n      el.classList.remove(cls);\n    }\n    if (!el.classList.length) {\n      el.removeAttribute('class');\n    }\n  } else {\n    var cur = \" \" + (el.getAttribute('class') || '') + \" \";\n    var tar = ' ' + cls + ' ';\n    while (cur.indexOf(tar) >= 0) {\n      cur = cur.replace(tar, ' ');\n    }\n    cur = cur.trim();\n    if (cur) {\n      el.setAttribute('class', cur);\n    } else {\n      el.removeAttribute('class');\n    }\n  }\n}\n\n/*  */\n\nfunction resolveTransition (def$$1) {\n  if (!def$$1) {\n    return\n  }\n  /* istanbul ignore else */\n  if (typeof def$$1 === 'object') {\n    var res = {};\n    if (def$$1.css !== false) {\n      extend(res, autoCssTransition(def$$1.name || 'v'));\n    }\n    extend(res, def$$1);\n    return res\n  } else if (typeof def$$1 === 'string') {\n    return autoCssTransition(def$$1)\n  }\n}\n\nvar autoCssTransition = cached(function (name) {\n  return {\n    enterClass: (name + \"-enter\"),\n    enterToClass: (name + \"-enter-to\"),\n    enterActiveClass: (name + \"-enter-active\"),\n    leaveClass: (name + \"-leave\"),\n    leaveToClass: (name + \"-leave-to\"),\n    leaveActiveClass: (name + \"-leave-active\")\n  }\n});\n\nvar hasTransition = inBrowser && !isIE9;\nvar TRANSITION = 'transition';\nvar ANIMATION = 'animation';\n\n// Transition property/event sniffing\nvar transitionProp = 'transition';\nvar transitionEndEvent = 'transitionend';\nvar animationProp = 'animation';\nvar animationEndEvent = 'animationend';\nif (hasTransition) {\n  /* istanbul ignore if */\n  if (window.ontransitionend === undefined &&\n    window.onwebkittransitionend !== undefined\n  ) {\n    transitionProp = 'WebkitTransition';\n    transitionEndEvent = 'webkitTransitionEnd';\n  }\n  if (window.onanimationend === undefined &&\n    window.onwebkitanimationend !== undefined\n  ) {\n    animationProp = 'WebkitAnimation';\n    animationEndEvent = 'webkitAnimationEnd';\n  }\n}\n\n// binding to window is necessary to make hot reload work in IE in strict mode\nvar raf = inBrowser\n  ? window.requestAnimationFrame\n    ? window.requestAnimationFrame.bind(window)\n    : setTimeout\n  : /* istanbul ignore next */ function (fn) { return fn(); };\n\nfunction nextFrame (fn) {\n  raf(function () {\n    raf(fn);\n  });\n}\n\nfunction addTransitionClass (el, cls) {\n  var transitionClasses = el._transitionClasses || (el._transitionClasses = []);\n  if (transitionClasses.indexOf(cls) < 0) {\n    transitionClasses.push(cls);\n    addClass(el, cls);\n  }\n}\n\nfunction removeTransitionClass (el, cls) {\n  if (el._transitionClasses) {\n    remove(el._transitionClasses, cls);\n  }\n  removeClass(el, cls);\n}\n\nfunction whenTransitionEnds (\n  el,\n  expectedType,\n  cb\n) {\n  var ref = getTransitionInfo(el, expectedType);\n  var type = ref.type;\n  var timeout = ref.timeout;\n  var propCount = ref.propCount;\n  if (!type) { return cb() }\n  var event = type === TRANSITION ? transitionEndEvent : animationEndEvent;\n  var ended = 0;\n  var end = function () {\n    el.removeEventListener(event, onEnd);\n    cb();\n  };\n  var onEnd = function (e) {\n    if (e.target === el) {\n      if (++ended >= propCount) {\n        end();\n      }\n    }\n  };\n  setTimeout(function () {\n    if (ended < propCount) {\n      end();\n    }\n  }, timeout + 1);\n  el.addEventListener(event, onEnd);\n}\n\nvar transformRE = /\\b(transform|all)(,|$)/;\n\nfunction getTransitionInfo (el, expectedType) {\n  var styles = window.getComputedStyle(el);\n  // JSDOM may return undefined for transition properties\n  var transitionDelays = (styles[transitionProp + 'Delay'] || '').split(', ');\n  var transitionDurations = (styles[transitionProp + 'Duration'] || '').split(', ');\n  var transitionTimeout = getTimeout(transitionDelays, transitionDurations);\n  var animationDelays = (styles[animationProp + 'Delay'] || '').split(', ');\n  var animationDurations = (styles[animationProp + 'Duration'] || '').split(', ');\n  var animationTimeout = getTimeout(animationDelays, animationDurations);\n\n  var type;\n  var timeout = 0;\n  var propCount = 0;\n  /* istanbul ignore if */\n  if (expectedType === TRANSITION) {\n    if (transitionTimeout > 0) {\n      type = TRANSITION;\n      timeout = transitionTimeout;\n      propCount = transitionDurations.length;\n    }\n  } else if (expectedType === ANIMATION) {\n    if (animationTimeout > 0) {\n      type = ANIMATION;\n      timeout = animationTimeout;\n      propCount = animationDurations.length;\n    }\n  } else {\n    timeout = Math.max(transitionTimeout, animationTimeout);\n    type = timeout > 0\n      ? transitionTimeout > animationTimeout\n        ? TRANSITION\n        : ANIMATION\n      : null;\n    propCount = type\n      ? type === TRANSITION\n        ? transitionDurations.length\n        : animationDurations.length\n      : 0;\n  }\n  var hasTransform =\n    type === TRANSITION &&\n    transformRE.test(styles[transitionProp + 'Property']);\n  return {\n    type: type,\n    timeout: timeout,\n    propCount: propCount,\n    hasTransform: hasTransform\n  }\n}\n\nfunction getTimeout (delays, durations) {\n  /* istanbul ignore next */\n  while (delays.length < durations.length) {\n    delays = delays.concat(delays);\n  }\n\n  return Math.max.apply(null, durations.map(function (d, i) {\n    return toMs(d) + toMs(delays[i])\n  }))\n}\n\n// Old versions of Chromium (below 61.0.3163.100) formats floating pointer numbers\n// in a locale-dependent way, using a comma instead of a dot.\n// If comma is not replaced with a dot, the input will be rounded down (i.e. acting\n// as a floor function) causing unexpected behaviors\nfunction toMs (s) {\n  return Number(s.slice(0, -1).replace(',', '.')) * 1000\n}\n\n/*  */\n\nfunction enter (vnode, toggleDisplay) {\n  var el = vnode.elm;\n\n  // call leave callback now\n  if (isDef(el._leaveCb)) {\n    el._leaveCb.cancelled = true;\n    el._leaveCb();\n  }\n\n  var data = resolveTransition(vnode.data.transition);\n  if (isUndef(data)) {\n    return\n  }\n\n  /* istanbul ignore if */\n  if (isDef(el._enterCb) || el.nodeType !== 1) {\n    return\n  }\n\n  var css = data.css;\n  var type = data.type;\n  var enterClass = data.enterClass;\n  var enterToClass = data.enterToClass;\n  var enterActiveClass = data.enterActiveClass;\n  var appearClass = data.appearClass;\n  var appearToClass = data.appearToClass;\n  var appearActiveClass = data.appearActiveClass;\n  var beforeEnter = data.beforeEnter;\n  var enter = data.enter;\n  var afterEnter = data.afterEnter;\n  var enterCancelled = data.enterCancelled;\n  var beforeAppear = data.beforeAppear;\n  var appear = data.appear;\n  var afterAppear = data.afterAppear;\n  var appearCancelled = data.appearCancelled;\n  var duration = data.duration;\n\n  // activeInstance will always be the <transition> component managing this\n  // transition. One edge case to check is when the <transition> is placed\n  // as the root node of a child component. In that case we need to check\n  // <transition>'s parent for appear check.\n  var context = activeInstance;\n  var transitionNode = activeInstance.$vnode;\n  while (transitionNode && transitionNode.parent) {\n    context = transitionNode.context;\n    transitionNode = transitionNode.parent;\n  }\n\n  var isAppear = !context._isMounted || !vnode.isRootInsert;\n\n  if (isAppear && !appear && appear !== '') {\n    return\n  }\n\n  var startClass = isAppear && appearClass\n    ? appearClass\n    : enterClass;\n  var activeClass = isAppear && appearActiveClass\n    ? appearActiveClass\n    : enterActiveClass;\n  var toClass = isAppear && appearToClass\n    ? appearToClass\n    : enterToClass;\n\n  var beforeEnterHook = isAppear\n    ? (beforeAppear || beforeEnter)\n    : beforeEnter;\n  var enterHook = isAppear\n    ? (typeof appear === 'function' ? appear : enter)\n    : enter;\n  var afterEnterHook = isAppear\n    ? (afterAppear || afterEnter)\n    : afterEnter;\n  var enterCancelledHook = isAppear\n    ? (appearCancelled || enterCancelled)\n    : enterCancelled;\n\n  var explicitEnterDuration = toNumber(\n    isObject(duration)\n      ? duration.enter\n      : duration\n  );\n\n  if (process.env.NODE_ENV !== 'production' && explicitEnterDuration != null) {\n    checkDuration(explicitEnterDuration, 'enter', vnode);\n  }\n\n  var expectsCSS = css !== false && !isIE9;\n  var userWantsControl = getHookArgumentsLength(enterHook);\n\n  var cb = el._enterCb = once(function () {\n    if (expectsCSS) {\n      removeTransitionClass(el, toClass);\n      removeTransitionClass(el, activeClass);\n    }\n    if (cb.cancelled) {\n      if (expectsCSS) {\n        removeTransitionClass(el, startClass);\n      }\n      enterCancelledHook && enterCancelledHook(el);\n    } else {\n      afterEnterHook && afterEnterHook(el);\n    }\n    el._enterCb = null;\n  });\n\n  if (!vnode.data.show) {\n    // remove pending leave element on enter by injecting an insert hook\n    mergeVNodeHook(vnode, 'insert', function () {\n      var parent = el.parentNode;\n      var pendingNode = parent && parent._pending && parent._pending[vnode.key];\n      if (pendingNode &&\n        pendingNode.tag === vnode.tag &&\n        pendingNode.elm._leaveCb\n      ) {\n        pendingNode.elm._leaveCb();\n      }\n      enterHook && enterHook(el, cb);\n    });\n  }\n\n  // start enter transition\n  beforeEnterHook && beforeEnterHook(el);\n  if (expectsCSS) {\n    addTransitionClass(el, startClass);\n    addTransitionClass(el, activeClass);\n    nextFrame(function () {\n      removeTransitionClass(el, startClass);\n      if (!cb.cancelled) {\n        addTransitionClass(el, toClass);\n        if (!userWantsControl) {\n          if (isValidDuration(explicitEnterDuration)) {\n            setTimeout(cb, explicitEnterDuration);\n          } else {\n            whenTransitionEnds(el, type, cb);\n          }\n        }\n      }\n    });\n  }\n\n  if (vnode.data.show) {\n    toggleDisplay && toggleDisplay();\n    enterHook && enterHook(el, cb);\n  }\n\n  if (!expectsCSS && !userWantsControl) {\n    cb();\n  }\n}\n\nfunction leave (vnode, rm) {\n  var el = vnode.elm;\n\n  // call enter callback now\n  if (isDef(el._enterCb)) {\n    el._enterCb.cancelled = true;\n    el._enterCb();\n  }\n\n  var data = resolveTransition(vnode.data.transition);\n  if (isUndef(data) || el.nodeType !== 1) {\n    return rm()\n  }\n\n  /* istanbul ignore if */\n  if (isDef(el._leaveCb)) {\n    return\n  }\n\n  var css = data.css;\n  var type = data.type;\n  var leaveClass = data.leaveClass;\n  var leaveToClass = data.leaveToClass;\n  var leaveActiveClass = data.leaveActiveClass;\n  var beforeLeave = data.beforeLeave;\n  var leave = data.leave;\n  var afterLeave = data.afterLeave;\n  var leaveCancelled = data.leaveCancelled;\n  var delayLeave = data.delayLeave;\n  var duration = data.duration;\n\n  var expectsCSS = css !== false && !isIE9;\n  var userWantsControl = getHookArgumentsLength(leave);\n\n  var explicitLeaveDuration = toNumber(\n    isObject(duration)\n      ? duration.leave\n      : duration\n  );\n\n  if (process.env.NODE_ENV !== 'production' && isDef(explicitLeaveDuration)) {\n    checkDuration(explicitLeaveDuration, 'leave', vnode);\n  }\n\n  var cb = el._leaveCb = once(function () {\n    if (el.parentNode && el.parentNode._pending) {\n      el.parentNode._pending[vnode.key] = null;\n    }\n    if (expectsCSS) {\n      removeTransitionClass(el, leaveToClass);\n      removeTransitionClass(el, leaveActiveClass);\n    }\n    if (cb.cancelled) {\n      if (expectsCSS) {\n        removeTransitionClass(el, leaveClass);\n      }\n      leaveCancelled && leaveCancelled(el);\n    } else {\n      rm();\n      afterLeave && afterLeave(el);\n    }\n    el._leaveCb = null;\n  });\n\n  if (delayLeave) {\n    delayLeave(performLeave);\n  } else {\n    performLeave();\n  }\n\n  function performLeave () {\n    // the delayed leave may have already been cancelled\n    if (cb.cancelled) {\n      return\n    }\n    // record leaving element\n    if (!vnode.data.show && el.parentNode) {\n      (el.parentNode._pending || (el.parentNode._pending = {}))[(vnode.key)] = vnode;\n    }\n    beforeLeave && beforeLeave(el);\n    if (expectsCSS) {\n      addTransitionClass(el, leaveClass);\n      addTransitionClass(el, leaveActiveClass);\n      nextFrame(function () {\n        removeTransitionClass(el, leaveClass);\n        if (!cb.cancelled) {\n          addTransitionClass(el, leaveToClass);\n          if (!userWantsControl) {\n            if (isValidDuration(explicitLeaveDuration)) {\n              setTimeout(cb, explicitLeaveDuration);\n            } else {\n              whenTransitionEnds(el, type, cb);\n            }\n          }\n        }\n      });\n    }\n    leave && leave(el, cb);\n    if (!expectsCSS && !userWantsControl) {\n      cb();\n    }\n  }\n}\n\n// only used in dev mode\nfunction checkDuration (val, name, vnode) {\n  if (typeof val !== 'number') {\n    warn(\n      \"<transition> explicit \" + name + \" duration is not a valid number - \" +\n      \"got \" + (JSON.stringify(val)) + \".\",\n      vnode.context\n    );\n  } else if (isNaN(val)) {\n    warn(\n      \"<transition> explicit \" + name + \" duration is NaN - \" +\n      'the duration expression might be incorrect.',\n      vnode.context\n    );\n  }\n}\n\nfunction isValidDuration (val) {\n  return typeof val === 'number' && !isNaN(val)\n}\n\n/**\n * Normalize a transition hook's argument length. The hook may be:\n * - a merged hook (invoker) with the original in .fns\n * - a wrapped component method (check ._length)\n * - a plain function (.length)\n */\nfunction getHookArgumentsLength (fn) {\n  if (isUndef(fn)) {\n    return false\n  }\n  var invokerFns = fn.fns;\n  if (isDef(invokerFns)) {\n    // invoker\n    return getHookArgumentsLength(\n      Array.isArray(invokerFns)\n        ? invokerFns[0]\n        : invokerFns\n    )\n  } else {\n    return (fn._length || fn.length) > 1\n  }\n}\n\nfunction _enter (_, vnode) {\n  if (vnode.data.show !== true) {\n    enter(vnode);\n  }\n}\n\nvar transition = inBrowser ? {\n  create: _enter,\n  activate: _enter,\n  remove: function remove$$1 (vnode, rm) {\n    /* istanbul ignore else */\n    if (vnode.data.show !== true) {\n      leave(vnode, rm);\n    } else {\n      rm();\n    }\n  }\n} : {};\n\nvar platformModules = [\n  attrs,\n  klass,\n  events,\n  domProps,\n  style,\n  transition\n];\n\n/*  */\n\n// the directive module should be applied last, after all\n// built-in modules have been applied.\nvar modules = platformModules.concat(baseModules);\n\nvar patch = createPatchFunction({ nodeOps: nodeOps, modules: modules });\n\n/**\n * Not type checking this file because flow doesn't like attaching\n * properties to Elements.\n */\n\n/* istanbul ignore if */\nif (isIE9) {\n  // http://www.matts411.com/post/internet-explorer-9-oninput/\n  document.addEventListener('selectionchange', function () {\n    var el = document.activeElement;\n    if (el && el.vmodel) {\n      trigger(el, 'input');\n    }\n  });\n}\n\nvar directive = {\n  inserted: function inserted (el, binding, vnode, oldVnode) {\n    if (vnode.tag === 'select') {\n      // #6903\n      if (oldVnode.elm && !oldVnode.elm._vOptions) {\n        mergeVNodeHook(vnode, 'postpatch', function () {\n          directive.componentUpdated(el, binding, vnode);\n        });\n      } else {\n        setSelected(el, binding, vnode.context);\n      }\n      el._vOptions = [].map.call(el.options, getValue);\n    } else if (vnode.tag === 'textarea' || isTextInputType(el.type)) {\n      el._vModifiers = binding.modifiers;\n      if (!binding.modifiers.lazy) {\n        el.addEventListener('compositionstart', onCompositionStart);\n        el.addEventListener('compositionend', onCompositionEnd);\n        // Safari < 10.2 & UIWebView doesn't fire compositionend when\n        // switching focus before confirming composition choice\n        // this also fixes the issue where some browsers e.g. iOS Chrome\n        // fires \"change\" instead of \"input\" on autocomplete.\n        el.addEventListener('change', onCompositionEnd);\n        /* istanbul ignore if */\n        if (isIE9) {\n          el.vmodel = true;\n        }\n      }\n    }\n  },\n\n  componentUpdated: function componentUpdated (el, binding, vnode) {\n    if (vnode.tag === 'select') {\n      setSelected(el, binding, vnode.context);\n      // in case the options rendered by v-for have changed,\n      // it's possible that the value is out-of-sync with the rendered options.\n      // detect such cases and filter out values that no longer has a matching\n      // option in the DOM.\n      var prevOptions = el._vOptions;\n      var curOptions = el._vOptions = [].map.call(el.options, getValue);\n      if (curOptions.some(function (o, i) { return !looseEqual(o, prevOptions[i]); })) {\n        // trigger change event if\n        // no matching option found for at least one value\n        var needReset = el.multiple\n          ? binding.value.some(function (v) { return hasNoMatchingOption(v, curOptions); })\n          : binding.value !== binding.oldValue && hasNoMatchingOption(binding.value, curOptions);\n        if (needReset) {\n          trigger(el, 'change');\n        }\n      }\n    }\n  }\n};\n\nfunction setSelected (el, binding, vm) {\n  actuallySetSelected(el, binding, vm);\n  /* istanbul ignore if */\n  if (isIE || isEdge) {\n    setTimeout(function () {\n      actuallySetSelected(el, binding, vm);\n    }, 0);\n  }\n}\n\nfunction actuallySetSelected (el, binding, vm) {\n  var value = binding.value;\n  var isMultiple = el.multiple;\n  if (isMultiple && !Array.isArray(value)) {\n    process.env.NODE_ENV !== 'production' && warn(\n      \"<select multiple v-model=\\\"\" + (binding.expression) + \"\\\"> \" +\n      \"expects an Array value for its binding, but got \" + (Object.prototype.toString.call(value).slice(8, -1)),\n      vm\n    );\n    return\n  }\n  var selected, option;\n  for (var i = 0, l = el.options.length; i < l; i++) {\n    option = el.options[i];\n    if (isMultiple) {\n      selected = looseIndexOf(value, getValue(option)) > -1;\n      if (option.selected !== selected) {\n        option.selected = selected;\n      }\n    } else {\n      if (looseEqual(getValue(option), value)) {\n        if (el.selectedIndex !== i) {\n          el.selectedIndex = i;\n        }\n        return\n      }\n    }\n  }\n  if (!isMultiple) {\n    el.selectedIndex = -1;\n  }\n}\n\nfunction hasNoMatchingOption (value, options) {\n  return options.every(function (o) { return !looseEqual(o, value); })\n}\n\nfunction getValue (option) {\n  return '_value' in option\n    ? option._value\n    : option.value\n}\n\nfunction onCompositionStart (e) {\n  e.target.composing = true;\n}\n\nfunction onCompositionEnd (e) {\n  // prevent triggering an input event for no reason\n  if (!e.target.composing) { return }\n  e.target.composing = false;\n  trigger(e.target, 'input');\n}\n\nfunction trigger (el, type) {\n  var e = document.createEvent('HTMLEvents');\n  e.initEvent(type, true, true);\n  el.dispatchEvent(e);\n}\n\n/*  */\n\n// recursively search for possible transition defined inside the component root\nfunction locateNode (vnode) {\n  return vnode.componentInstance && (!vnode.data || !vnode.data.transition)\n    ? locateNode(vnode.componentInstance._vnode)\n    : vnode\n}\n\nvar show = {\n  bind: function bind (el, ref, vnode) {\n    var value = ref.value;\n\n    vnode = locateNode(vnode);\n    var transition$$1 = vnode.data && vnode.data.transition;\n    var originalDisplay = el.__vOriginalDisplay =\n      el.style.display === 'none' ? '' : el.style.display;\n    if (value && transition$$1) {\n      vnode.data.show = true;\n      enter(vnode, function () {\n        el.style.display = originalDisplay;\n      });\n    } else {\n      el.style.display = value ? originalDisplay : 'none';\n    }\n  },\n\n  update: function update (el, ref, vnode) {\n    var value = ref.value;\n    var oldValue = ref.oldValue;\n\n    /* istanbul ignore if */\n    if (!value === !oldValue) { return }\n    vnode = locateNode(vnode);\n    var transition$$1 = vnode.data && vnode.data.transition;\n    if (transition$$1) {\n      vnode.data.show = true;\n      if (value) {\n        enter(vnode, function () {\n          el.style.display = el.__vOriginalDisplay;\n        });\n      } else {\n        leave(vnode, function () {\n          el.style.display = 'none';\n        });\n      }\n    } else {\n      el.style.display = value ? el.__vOriginalDisplay : 'none';\n    }\n  },\n\n  unbind: function unbind (\n    el,\n    binding,\n    vnode,\n    oldVnode,\n    isDestroy\n  ) {\n    if (!isDestroy) {\n      el.style.display = el.__vOriginalDisplay;\n    }\n  }\n};\n\nvar platformDirectives = {\n  model: directive,\n  show: show\n};\n\n/*  */\n\nvar transitionProps = {\n  name: String,\n  appear: Boolean,\n  css: Boolean,\n  mode: String,\n  type: String,\n  enterClass: String,\n  leaveClass: String,\n  enterToClass: String,\n  leaveToClass: String,\n  enterActiveClass: String,\n  leaveActiveClass: String,\n  appearClass: String,\n  appearActiveClass: String,\n  appearToClass: String,\n  duration: [Number, String, Object]\n};\n\n// in case the child is also an abstract component, e.g. <keep-alive>\n// we want to recursively retrieve the real component to be rendered\nfunction getRealChild (vnode) {\n  var compOptions = vnode && vnode.componentOptions;\n  if (compOptions && compOptions.Ctor.options.abstract) {\n    return getRealChild(getFirstComponentChild(compOptions.children))\n  } else {\n    return vnode\n  }\n}\n\nfunction extractTransitionData (comp) {\n  var data = {};\n  var options = comp.$options;\n  // props\n  for (var key in options.propsData) {\n    data[key] = comp[key];\n  }\n  // events.\n  // extract listeners and pass them directly to the transition methods\n  var listeners = options._parentListeners;\n  for (var key$1 in listeners) {\n    data[camelize(key$1)] = listeners[key$1];\n  }\n  return data\n}\n\nfunction placeholder (h, rawChild) {\n  if (/\\d-keep-alive$/.test(rawChild.tag)) {\n    return h('keep-alive', {\n      props: rawChild.componentOptions.propsData\n    })\n  }\n}\n\nfunction hasParentTransition (vnode) {\n  while ((vnode = vnode.parent)) {\n    if (vnode.data.transition) {\n      return true\n    }\n  }\n}\n\nfunction isSameChild (child, oldChild) {\n  return oldChild.key === child.key && oldChild.tag === child.tag\n}\n\nvar isNotTextNode = function (c) { return c.tag || isAsyncPlaceholder(c); };\n\nvar isVShowDirective = function (d) { return d.name === 'show'; };\n\nvar Transition = {\n  name: 'transition',\n  props: transitionProps,\n  abstract: true,\n\n  render: function render (h) {\n    var this$1 = this;\n\n    var children = this.$slots.default;\n    if (!children) {\n      return\n    }\n\n    // filter out text nodes (possible whitespaces)\n    children = children.filter(isNotTextNode);\n    /* istanbul ignore if */\n    if (!children.length) {\n      return\n    }\n\n    // warn multiple elements\n    if (process.env.NODE_ENV !== 'production' && children.length > 1) {\n      warn(\n        '<transition> can only be used on a single element. Use ' +\n        '<transition-group> for lists.',\n        this.$parent\n      );\n    }\n\n    var mode = this.mode;\n\n    // warn invalid mode\n    if (process.env.NODE_ENV !== 'production' &&\n      mode && mode !== 'in-out' && mode !== 'out-in'\n    ) {\n      warn(\n        'invalid <transition> mode: ' + mode,\n        this.$parent\n      );\n    }\n\n    var rawChild = children[0];\n\n    // if this is a component root node and the component's\n    // parent container node also has transition, skip.\n    if (hasParentTransition(this.$vnode)) {\n      return rawChild\n    }\n\n    // apply transition data to child\n    // use getRealChild() to ignore abstract components e.g. keep-alive\n    var child = getRealChild(rawChild);\n    /* istanbul ignore if */\n    if (!child) {\n      return rawChild\n    }\n\n    if (this._leaving) {\n      return placeholder(h, rawChild)\n    }\n\n    // ensure a key that is unique to the vnode type and to this transition\n    // component instance. This key will be used to remove pending leaving nodes\n    // during entering.\n    var id = \"__transition-\" + (this._uid) + \"-\";\n    child.key = child.key == null\n      ? child.isComment\n        ? id + 'comment'\n        : id + child.tag\n      : isPrimitive(child.key)\n        ? (String(child.key).indexOf(id) === 0 ? child.key : id + child.key)\n        : child.key;\n\n    var data = (child.data || (child.data = {})).transition = extractTransitionData(this);\n    var oldRawChild = this._vnode;\n    var oldChild = getRealChild(oldRawChild);\n\n    // mark v-show\n    // so that the transition module can hand over the control to the directive\n    if (child.data.directives && child.data.directives.some(isVShowDirective)) {\n      child.data.show = true;\n    }\n\n    if (\n      oldChild &&\n      oldChild.data &&\n      !isSameChild(child, oldChild) &&\n      !isAsyncPlaceholder(oldChild) &&\n      // #6687 component root is a comment node\n      !(oldChild.componentInstance && oldChild.componentInstance._vnode.isComment)\n    ) {\n      // replace old child transition data with fresh one\n      // important for dynamic transitions!\n      var oldData = oldChild.data.transition = extend({}, data);\n      // handle transition mode\n      if (mode === 'out-in') {\n        // return placeholder node and queue update when leave finishes\n        this._leaving = true;\n        mergeVNodeHook(oldData, 'afterLeave', function () {\n          this$1._leaving = false;\n          this$1.$forceUpdate();\n        });\n        return placeholder(h, rawChild)\n      } else if (mode === 'in-out') {\n        if (isAsyncPlaceholder(child)) {\n          return oldRawChild\n        }\n        var delayedLeave;\n        var performLeave = function () { delayedLeave(); };\n        mergeVNodeHook(data, 'afterEnter', performLeave);\n        mergeVNodeHook(data, 'enterCancelled', performLeave);\n        mergeVNodeHook(oldData, 'delayLeave', function (leave) { delayedLeave = leave; });\n      }\n    }\n\n    return rawChild\n  }\n};\n\n/*  */\n\nvar props = extend({\n  tag: String,\n  moveClass: String\n}, transitionProps);\n\ndelete props.mode;\n\nvar TransitionGroup = {\n  props: props,\n\n  beforeMount: function beforeMount () {\n    var this$1 = this;\n\n    var update = this._update;\n    this._update = function (vnode, hydrating) {\n      var restoreActiveInstance = setActiveInstance(this$1);\n      // force removing pass\n      this$1.__patch__(\n        this$1._vnode,\n        this$1.kept,\n        false, // hydrating\n        true // removeOnly (!important, avoids unnecessary moves)\n      );\n      this$1._vnode = this$1.kept;\n      restoreActiveInstance();\n      update.call(this$1, vnode, hydrating);\n    };\n  },\n\n  render: function render (h) {\n    var tag = this.tag || this.$vnode.data.tag || 'span';\n    var map = Object.create(null);\n    var prevChildren = this.prevChildren = this.children;\n    var rawChildren = this.$slots.default || [];\n    var children = this.children = [];\n    var transitionData = extractTransitionData(this);\n\n    for (var i = 0; i < rawChildren.length; i++) {\n      var c = rawChildren[i];\n      if (c.tag) {\n        if (c.key != null && String(c.key).indexOf('__vlist') !== 0) {\n          children.push(c);\n          map[c.key] = c\n          ;(c.data || (c.data = {})).transition = transitionData;\n        } else if (process.env.NODE_ENV !== 'production') {\n          var opts = c.componentOptions;\n          var name = opts ? (opts.Ctor.options.name || opts.tag || '') : c.tag;\n          warn((\"<transition-group> children must be keyed: <\" + name + \">\"));\n        }\n      }\n    }\n\n    if (prevChildren) {\n      var kept = [];\n      var removed = [];\n      for (var i$1 = 0; i$1 < prevChildren.length; i$1++) {\n        var c$1 = prevChildren[i$1];\n        c$1.data.transition = transitionData;\n        c$1.data.pos = c$1.elm.getBoundingClientRect();\n        if (map[c$1.key]) {\n          kept.push(c$1);\n        } else {\n          removed.push(c$1);\n        }\n      }\n      this.kept = h(tag, null, kept);\n      this.removed = removed;\n    }\n\n    return h(tag, null, children)\n  },\n\n  updated: function updated () {\n    var children = this.prevChildren;\n    var moveClass = this.moveClass || ((this.name || 'v') + '-move');\n    if (!children.length || !this.hasMove(children[0].elm, moveClass)) {\n      return\n    }\n\n    // we divide the work into three loops to avoid mixing DOM reads and writes\n    // in each iteration - which helps prevent layout thrashing.\n    children.forEach(callPendingCbs);\n    children.forEach(recordPosition);\n    children.forEach(applyTranslation);\n\n    // force reflow to put everything in position\n    // assign to this to avoid being removed in tree-shaking\n    // $flow-disable-line\n    this._reflow = document.body.offsetHeight;\n\n    children.forEach(function (c) {\n      if (c.data.moved) {\n        var el = c.elm;\n        var s = el.style;\n        addTransitionClass(el, moveClass);\n        s.transform = s.WebkitTransform = s.transitionDuration = '';\n        el.addEventListener(transitionEndEvent, el._moveCb = function cb (e) {\n          if (e && e.target !== el) {\n            return\n          }\n          if (!e || /transform$/.test(e.propertyName)) {\n            el.removeEventListener(transitionEndEvent, cb);\n            el._moveCb = null;\n            removeTransitionClass(el, moveClass);\n          }\n        });\n      }\n    });\n  },\n\n  methods: {\n    hasMove: function hasMove (el, moveClass) {\n      /* istanbul ignore if */\n      if (!hasTransition) {\n        return false\n      }\n      /* istanbul ignore if */\n      if (this._hasMove) {\n        return this._hasMove\n      }\n      // Detect whether an element with the move class applied has\n      // CSS transitions. Since the element may be inside an entering\n      // transition at this very moment, we make a clone of it and remove\n      // all other transition classes applied to ensure only the move class\n      // is applied.\n      var clone = el.cloneNode();\n      if (el._transitionClasses) {\n        el._transitionClasses.forEach(function (cls) { removeClass(clone, cls); });\n      }\n      addClass(clone, moveClass);\n      clone.style.display = 'none';\n      this.$el.appendChild(clone);\n      var info = getTransitionInfo(clone);\n      this.$el.removeChild(clone);\n      return (this._hasMove = info.hasTransform)\n    }\n  }\n};\n\nfunction callPendingCbs (c) {\n  /* istanbul ignore if */\n  if (c.elm._moveCb) {\n    c.elm._moveCb();\n  }\n  /* istanbul ignore if */\n  if (c.elm._enterCb) {\n    c.elm._enterCb();\n  }\n}\n\nfunction recordPosition (c) {\n  c.data.newPos = c.elm.getBoundingClientRect();\n}\n\nfunction applyTranslation (c) {\n  var oldPos = c.data.pos;\n  var newPos = c.data.newPos;\n  var dx = oldPos.left - newPos.left;\n  var dy = oldPos.top - newPos.top;\n  if (dx || dy) {\n    c.data.moved = true;\n    var s = c.elm.style;\n    s.transform = s.WebkitTransform = \"translate(\" + dx + \"px,\" + dy + \"px)\";\n    s.transitionDuration = '0s';\n  }\n}\n\nvar platformComponents = {\n  Transition: Transition,\n  TransitionGroup: TransitionGroup\n};\n\n/*  */\n\n// install platform specific utils\nVue.config.mustUseProp = mustUseProp;\nVue.config.isReservedTag = isReservedTag;\nVue.config.isReservedAttr = isReservedAttr;\nVue.config.getTagNamespace = getTagNamespace;\nVue.config.isUnknownElement = isUnknownElement;\n\n// install platform runtime directives & components\nextend(Vue.options.directives, platformDirectives);\nextend(Vue.options.components, platformComponents);\n\n// install platform patch function\nVue.prototype.__patch__ = inBrowser ? patch : noop;\n\n// public mount method\nVue.prototype.$mount = function (\n  el,\n  hydrating\n) {\n  el = el && inBrowser ? query(el) : undefined;\n  return mountComponent(this, el, hydrating)\n};\n\n// devtools global hook\n/* istanbul ignore next */\nif (inBrowser) {\n  setTimeout(function () {\n    if (config.devtools) {\n      if (devtools) {\n        devtools.emit('init', Vue);\n      } else if (\n        process.env.NODE_ENV !== 'production' &&\n        process.env.NODE_ENV !== 'test'\n      ) {\n        console[console.info ? 'info' : 'log'](\n          'Download the Vue Devtools extension for a better development experience:\\n' +\n          'https://github.com/vuejs/vue-devtools'\n        );\n      }\n    }\n    if (process.env.NODE_ENV !== 'production' &&\n      process.env.NODE_ENV !== 'test' &&\n      config.productionTip !== false &&\n      typeof console !== 'undefined'\n    ) {\n      console[console.info ? 'info' : 'log'](\n        \"You are running Vue in development mode.\\n\" +\n        \"Make sure to turn on production mode when deploying for production.\\n\" +\n        \"See more tips at https://vuejs.org/guide/deployment.html\"\n      );\n    }\n  }, 0);\n}\n\n/*  */\n\nexport default Vue;\n","var store = require('./_shared')('wks');\nvar uid = require('./_uid');\nvar Symbol = require('./_global').Symbol;\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n","'use strict';\n\nvar events = require('events');\nvar inherits = require('../functions/inherits');\n\n/**\n * A DerivedHelper is a way to create sub requests to\n * Algolia from a main helper.\n * @class\n * @classdesc The DerivedHelper provides an event based interface for search callbacks:\n *  - search: when a search is triggered using the `search()` method.\n *  - result: when the response is retrieved from Algolia and is processed.\n *    This event contains a {@link SearchResults} object and the\n *    {@link SearchParameters} corresponding to this answer.\n */\nfunction DerivedHelper(mainHelper, fn) {\n  this.main = mainHelper;\n  this.fn = fn;\n  this.lastResults = null;\n}\n\ninherits(DerivedHelper, events.EventEmitter);\n\n/**\n * Detach this helper from the main helper\n * @return {undefined}\n * @throws Error if the derived helper is already detached\n */\nDerivedHelper.prototype.detach = function() {\n  this.removeAllListeners();\n  this.main.detachDerivedHelper(this);\n};\n\nDerivedHelper.prototype.getModifiedState = function(parameters) {\n  return this.fn(parameters);\n};\n\nmodule.exports = DerivedHelper;\n","module.exports = false;\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","// fast apply, http://jsperf.lnkit.com/fast-apply/5\nmodule.exports = function (fn, args, that) {\n  var un = that === undefined;\n  switch (args.length) {\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return fn.apply(that, args);\n};\n","var dP = require('./_object-dp');\nvar createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","// check on default Array iterator\nvar Iterators = require('./_iterators');\nvar ITERATOR = require('./_wks')('iterator');\nvar ArrayProto = Array.prototype;\n\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n","// 21.2.5.3 get RegExp.prototype.flags()\nif (require('./_descriptors') && /./g.flags != 'g') require('./_object-dp').f(RegExp.prototype, 'flags', {\n  configurable: true,\n  get: require('./_flags')\n});\n","// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = require('./_has');\nvar toObject = require('./_to-object');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n","'use strict';\n\nvar AlgoliaSearchHelper = require('./src/algoliasearch.helper');\n\nvar SearchParameters = require('./src/SearchParameters');\nvar SearchResults = require('./src/SearchResults');\n\n/**\n * The algoliasearchHelper module is the function that will let its\n * contains everything needed to use the Algoliasearch\n * Helper. It is a also a function that instanciate the helper.\n * To use the helper, you also need the Algolia JS client v3.\n * @example\n * //using the UMD build\n * var client = algoliasearch('latency', '6be0576ff61c053d5f9a3225e2a90f76');\n * var helper = algoliasearchHelper(client, 'bestbuy', {\n *   facets: ['shipping'],\n *   disjunctiveFacets: ['category']\n * });\n * helper.on('result', function(event) {\n *   console.log(event.results);\n * });\n * helper\n *   .toggleFacetRefinement('category', 'Movies & TV Shows')\n *   .toggleFacetRefinement('shipping', 'Free shipping')\n *   .search();\n * @example\n * // The helper is an event emitter using the node API\n * helper.on('result', updateTheResults);\n * helper.once('result', updateTheResults);\n * helper.removeListener('result', updateTheResults);\n * helper.removeAllListeners('result');\n * @module algoliasearchHelper\n * @param  {AlgoliaSearch} client an AlgoliaSearch client\n * @param  {string} index the name of the index to query\n * @param  {SearchParameters|object} opts an object defining the initial config of the search. It doesn't have to be a {SearchParameters}, just an object containing the properties you need from it.\n * @return {AlgoliaSearchHelper}\n */\nfunction algoliasearchHelper(client, index, opts) {\n  return new AlgoliaSearchHelper(client, index, opts);\n}\n\n/**\n * The version currently used\n * @member module:algoliasearchHelper.version\n * @type {number}\n */\nalgoliasearchHelper.version = require('./src/version.js');\n\n/**\n * Constructor for the Helper.\n * @member module:algoliasearchHelper.AlgoliaSearchHelper\n * @type {AlgoliaSearchHelper}\n */\nalgoliasearchHelper.AlgoliaSearchHelper = AlgoliaSearchHelper;\n\n/**\n * Constructor for the object containing all the parameters of the search.\n * @member module:algoliasearchHelper.SearchParameters\n * @type {SearchParameters}\n */\nalgoliasearchHelper.SearchParameters = SearchParameters;\n\n/**\n * Constructor for the object containing the results of the search.\n * @member module:algoliasearchHelper.SearchResults\n * @type {SearchResults}\n */\nalgoliasearchHelper.SearchResults = SearchResults;\n\nmodule.exports = algoliasearchHelper;\n","'use strict';\nvar create = require('./_object-create');\nvar descriptor = require('./_property-desc');\nvar setToStringTag = require('./_set-to-string-tag');\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function () { return this; });\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n","// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var ctx = require('./_ctx');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar anObject = require('./_an-object');\nvar toLength = require('./_to-length');\nvar getIterFn = require('./core.get-iterator-method');\nvar BREAK = {};\nvar RETURN = {};\nvar exports = module.exports = function (iterable, entries, fn, that, ITERATOR) {\n  var iterFn = ITERATOR ? function () { return iterable; } : getIterFn(iterable);\n  var f = ctx(fn, that, entries ? 2 : 1);\n  var index = 0;\n  var length, step, iterator, result;\n  if (typeof iterFn != 'function') throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if (isArrayIter(iterFn)) for (length = toLength(iterable.length); length > index; index++) {\n    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n    if (result === BREAK || result === RETURN) return result;\n  } else for (iterator = iterFn.call(iterable); !(step = iterator.next()).done;) {\n    result = call(iterator, f, step.value, entries);\n    if (result === BREAK || result === RETURN) return result;\n  }\n};\nexports.BREAK = BREAK;\nexports.RETURN = RETURN;\n","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n","'use strict';\n\nvar merge = require('../functions/merge');\nvar defaultsPure = require('../functions/defaultsPure');\nvar intersection = require('../functions/intersection');\nvar find = require('../functions/find');\nvar valToNumber = require('../functions/valToNumber');\nvar omit = require('../functions/omit');\nvar objectHasKeys = require('../functions/objectHasKeys');\nvar isValidUserToken = require('../utils/isValidUserToken');\n\nvar RefinementList = require('./RefinementList');\n\n/**\n * isEqual, but only for numeric refinement values, possible values:\n * - 5\n * - [5]\n * - [[5]]\n * - [[5,5],[4]]\n */\nfunction isEqualNumericRefinement(a, b) {\n  if (Array.isArray(a) && Array.isArray(b)) {\n    return (\n      a.length === b.length &&\n      a.every(function(el, i) {\n        return isEqualNumericRefinement(b[i], el);\n      })\n    );\n  }\n  return a === b;\n}\n\n/**\n * like _.find but using deep equality to be able to use it\n * to find arrays.\n * @private\n * @param {any[]} array array to search into (elements are base or array of base)\n * @param {any} searchedValue the value we're looking for (base or array of base)\n * @return {any} the searched value or undefined\n */\nfunction findArray(array, searchedValue) {\n  return find(array, function(currentValue) {\n    return isEqualNumericRefinement(currentValue, searchedValue);\n  });\n}\n\n/**\n * The facet list is the structure used to store the list of values used to\n * filter a single attribute.\n * @typedef {string[]} SearchParameters.FacetList\n */\n\n/**\n * Structure to store numeric filters with the operator as the key. The supported operators\n * are `=`, `>`, `<`, `>=`, `<=` and `!=`.\n * @typedef {Object.<string, Array.<number|number[]>>} SearchParameters.OperatorList\n */\n\n/**\n * SearchParameters is the data structure that contains all the information\n * usable for making a search to Algolia API. It doesn't do the search itself,\n * nor does it contains logic about the parameters.\n * It is an immutable object, therefore it has been created in a way that each\n * changes does not change the object itself but returns a copy with the\n * modification.\n * This object should probably not be instantiated outside of the helper. It will\n * be provided when needed. This object is documented for reference as you'll\n * get it from events generated by the {@link AlgoliaSearchHelper}.\n * If need be, instantiate the Helper from the factory function {@link SearchParameters.make}\n * @constructor\n * @classdesc contains all the parameters of a search\n * @param {object|SearchParameters} newParameters existing parameters or partial object\n * for the properties of a new SearchParameters\n * @see SearchParameters.make\n * @example <caption>SearchParameters of the first query in\n *   <a href=\"http://demos.algolia.com/instant-search-demo/\">the instant search demo</a></caption>\n{\n   \"query\": \"\",\n   \"disjunctiveFacets\": [\n      \"customerReviewCount\",\n      \"category\",\n      \"salePrice_range\",\n      \"manufacturer\"\n  ],\n   \"maxValuesPerFacet\": 30,\n   \"page\": 0,\n   \"hitsPerPage\": 10,\n   \"facets\": [\n      \"type\",\n      \"shipping\"\n  ]\n}\n */\nfunction SearchParameters(newParameters) {\n  var params = newParameters ? SearchParameters._parseNumbers(newParameters) : {};\n\n  if (params.userToken !== undefined && !isValidUserToken(params.userToken)) {\n    console.warn('[algoliasearch-helper] The `userToken` parameter is invalid. This can lead to wrong analytics.\\n  - Format: [a-zA-Z0-9_-]{1,64}');\n  }\n  /**\n   * This attribute contains the list of all the conjunctive facets\n   * used. This list will be added to requested facets in the\n   * [facets attribute](https://www.algolia.com/doc/rest-api/search#param-facets) sent to algolia.\n   * @member {string[]}\n   */\n  this.facets = params.facets || [];\n  /**\n   * This attribute contains the list of all the disjunctive facets\n   * used. This list will be added to requested facets in the\n   * [facets attribute](https://www.algolia.com/doc/rest-api/search#param-facets) sent to algolia.\n   * @member {string[]}\n   */\n  this.disjunctiveFacets = params.disjunctiveFacets || [];\n  /**\n   * This attribute contains the list of all the hierarchical facets\n   * used. This list will be added to requested facets in the\n   * [facets attribute](https://www.algolia.com/doc/rest-api/search#param-facets) sent to algolia.\n   * Hierarchical facets are a sub type of disjunctive facets that\n   * let you filter faceted attributes hierarchically.\n   * @member {string[]|object[]}\n   */\n  this.hierarchicalFacets = params.hierarchicalFacets || [];\n\n  // Refinements\n  /**\n   * This attribute contains all the filters that need to be\n   * applied on the conjunctive facets. Each facet must be properly\n   * defined in the `facets` attribute.\n   *\n   * The key is the name of the facet, and the `FacetList` contains all\n   * filters selected for the associated facet name.\n   *\n   * When querying algolia, the values stored in this attribute will\n   * be translated into the `facetFilters` attribute.\n   * @member {Object.<string, SearchParameters.FacetList>}\n   */\n  this.facetsRefinements = params.facetsRefinements || {};\n  /**\n   * This attribute contains all the filters that need to be\n   * excluded from the conjunctive facets. Each facet must be properly\n   * defined in the `facets` attribute.\n   *\n   * The key is the name of the facet, and the `FacetList` contains all\n   * filters excluded for the associated facet name.\n   *\n   * When querying algolia, the values stored in this attribute will\n   * be translated into the `facetFilters` attribute.\n   * @member {Object.<string, SearchParameters.FacetList>}\n   */\n  this.facetsExcludes = params.facetsExcludes || {};\n  /**\n   * This attribute contains all the filters that need to be\n   * applied on the disjunctive facets. Each facet must be properly\n   * defined in the `disjunctiveFacets` attribute.\n   *\n   * The key is the name of the facet, and the `FacetList` contains all\n   * filters selected for the associated facet name.\n   *\n   * When querying algolia, the values stored in this attribute will\n   * be translated into the `facetFilters` attribute.\n   * @member {Object.<string, SearchParameters.FacetList>}\n   */\n  this.disjunctiveFacetsRefinements = params.disjunctiveFacetsRefinements || {};\n  /**\n   * This attribute contains all the filters that need to be\n   * applied on the numeric attributes.\n   *\n   * The key is the name of the attribute, and the value is the\n   * filters to apply to this attribute.\n   *\n   * When querying algolia, the values stored in this attribute will\n   * be translated into the `numericFilters` attribute.\n   * @member {Object.<string, SearchParameters.OperatorList>}\n   */\n  this.numericRefinements = params.numericRefinements || {};\n  /**\n   * This attribute contains all the tags used to refine the query.\n   *\n   * When querying algolia, the values stored in this attribute will\n   * be translated into the `tagFilters` attribute.\n   * @member {string[]}\n   */\n  this.tagRefinements = params.tagRefinements || [];\n  /**\n   * This attribute contains all the filters that need to be\n   * applied on the hierarchical facets. Each facet must be properly\n   * defined in the `hierarchicalFacets` attribute.\n   *\n   * The key is the name of the facet, and the `FacetList` contains all\n   * filters selected for the associated facet name. The FacetList values\n   * are structured as a string that contain the values for each level\n   * separated by the configured separator.\n   *\n   * When querying algolia, the values stored in this attribute will\n   * be translated into the `facetFilters` attribute.\n   * @member {Object.<string, SearchParameters.FacetList>}\n   */\n  this.hierarchicalFacetsRefinements = params.hierarchicalFacetsRefinements || {};\n\n  var self = this;\n  Object.keys(params).forEach(function(paramName) {\n    var isKeyKnown = SearchParameters.PARAMETERS.indexOf(paramName) !== -1;\n    var isValueDefined = params[paramName] !== undefined;\n\n    if (!isKeyKnown && isValueDefined) {\n      self[paramName] = params[paramName];\n    }\n  });\n}\n\n/**\n * List all the properties in SearchParameters and therefore all the known Algolia properties\n * This doesn't contain any beta/hidden features.\n * @private\n */\nSearchParameters.PARAMETERS = Object.keys(new SearchParameters());\n\n/**\n * @private\n * @param {object} partialState full or part of a state\n * @return {object} a new object with the number keys as number\n */\nSearchParameters._parseNumbers = function(partialState) {\n  // Do not reparse numbers in SearchParameters, they ought to be parsed already\n  if (partialState instanceof SearchParameters) return partialState;\n\n  var numbers = {};\n\n  var numberKeys = [\n    'aroundPrecision',\n    'aroundRadius',\n    'getRankingInfo',\n    'minWordSizefor2Typos',\n    'minWordSizefor1Typo',\n    'page',\n    'maxValuesPerFacet',\n    'distinct',\n    'minimumAroundRadius',\n    'hitsPerPage',\n    'minProximity'\n  ];\n\n  numberKeys.forEach(function(k) {\n    var value = partialState[k];\n    if (typeof value === 'string') {\n      var parsedValue = parseFloat(value);\n      // global isNaN is ok to use here, value is only number or NaN\n      numbers[k] = isNaN(parsedValue) ? value : parsedValue;\n    }\n  });\n\n  // there's two formats of insideBoundingBox, we need to parse\n  // the one which is an array of float geo rectangles\n  if (Array.isArray(partialState.insideBoundingBox)) {\n    numbers.insideBoundingBox = partialState.insideBoundingBox.map(function(geoRect) {\n      if (Array.isArray(geoRect)) {\n        return geoRect.map(function(value) {\n          return parseFloat(value);\n        });\n      }\n      return geoRect;\n    });\n  }\n\n  if (partialState.numericRefinements) {\n    var numericRefinements = {};\n    Object.keys(partialState.numericRefinements).forEach(function(attribute) {\n      var operators = partialState.numericRefinements[attribute] || {};\n      numericRefinements[attribute] = {};\n      Object.keys(operators).forEach(function(operator) {\n        var values = operators[operator];\n        var parsedValues = values.map(function(v) {\n          if (Array.isArray(v)) {\n            return v.map(function(vPrime) {\n              if (typeof vPrime === 'string') {\n                return parseFloat(vPrime);\n              }\n              return vPrime;\n            });\n          } else if (typeof v === 'string') {\n            return parseFloat(v);\n          }\n          return v;\n        });\n        numericRefinements[attribute][operator] = parsedValues;\n      });\n    });\n    numbers.numericRefinements = numericRefinements;\n  }\n\n  return merge({}, partialState, numbers);\n};\n\n/**\n * Factory for SearchParameters\n * @param {object|SearchParameters} newParameters existing parameters or partial\n * object for the properties of a new SearchParameters\n * @return {SearchParameters} frozen instance of SearchParameters\n */\nSearchParameters.make = function makeSearchParameters(newParameters) {\n  var instance = new SearchParameters(newParameters);\n\n  var hierarchicalFacets = newParameters.hierarchicalFacets || [];\n  hierarchicalFacets.forEach(function(facet) {\n    if (facet.rootPath) {\n      var currentRefinement = instance.getHierarchicalRefinement(facet.name);\n\n      if (currentRefinement.length > 0 && currentRefinement[0].indexOf(facet.rootPath) !== 0) {\n        instance = instance.clearRefinements(facet.name);\n      }\n\n      // get it again in case it has been cleared\n      currentRefinement = instance.getHierarchicalRefinement(facet.name);\n      if (currentRefinement.length === 0) {\n        instance = instance.toggleHierarchicalFacetRefinement(facet.name, facet.rootPath);\n      }\n    }\n  });\n\n  return instance;\n};\n\n/**\n * Validates the new parameters based on the previous state\n * @param {SearchParameters} currentState the current state\n * @param {object|SearchParameters} parameters the new parameters to set\n * @return {Error|null} Error if the modification is invalid, null otherwise\n */\nSearchParameters.validate = function(currentState, parameters) {\n  var params = parameters || {};\n\n  if (currentState.tagFilters && params.tagRefinements && params.tagRefinements.length > 0) {\n    return new Error(\n      '[Tags] Cannot switch from the managed tag API to the advanced API. It is probably ' +\n      'an error, if it is really what you want, you should first clear the tags with clearTags method.');\n  }\n\n  if (currentState.tagRefinements.length > 0 && params.tagFilters) {\n    return new Error(\n      '[Tags] Cannot switch from the advanced tag API to the managed API. It is probably ' +\n      'an error, if it is not, you should first clear the tags with clearTags method.');\n  }\n\n  if (\n    currentState.numericFilters &&\n    params.numericRefinements &&\n    objectHasKeys(params.numericRefinements)\n  ) {\n    return new Error(\n      \"[Numeric filters] Can't switch from the advanced to the managed API. It\" +\n        ' is probably an error, if this is really what you want, you have to first' +\n        ' clear the numeric filters.'\n    );\n  }\n\n  if (objectHasKeys(currentState.numericRefinements) && params.numericFilters) {\n    return new Error(\n      \"[Numeric filters] Can't switch from the managed API to the advanced. It\" +\n      ' is probably an error, if this is really what you want, you have to first' +\n      ' clear the numeric filters.');\n  }\n\n  return null;\n};\n\nSearchParameters.prototype = {\n  constructor: SearchParameters,\n\n  /**\n   * Remove all refinements (disjunctive + conjunctive + excludes + numeric filters)\n   * @method\n   * @param {undefined|string|SearchParameters.clearCallback} [attribute] optional string or function\n   * - If not given, means to clear all the filters.\n   * - If `string`, means to clear all refinements for the `attribute` named filter.\n   * - If `function`, means to clear all the refinements that return truthy values.\n   * @return {SearchParameters}\n   */\n  clearRefinements: function clearRefinements(attribute) {\n    var patch = {\n      numericRefinements: this._clearNumericRefinements(attribute),\n      facetsRefinements: RefinementList.clearRefinement(\n        this.facetsRefinements,\n        attribute,\n        'conjunctiveFacet'\n      ),\n      facetsExcludes: RefinementList.clearRefinement(\n        this.facetsExcludes,\n        attribute,\n        'exclude'\n      ),\n      disjunctiveFacetsRefinements: RefinementList.clearRefinement(\n        this.disjunctiveFacetsRefinements,\n        attribute,\n        'disjunctiveFacet'\n      ),\n      hierarchicalFacetsRefinements: RefinementList.clearRefinement(\n        this.hierarchicalFacetsRefinements,\n        attribute,\n        'hierarchicalFacet'\n      )\n    };\n    if (\n      patch.numericRefinements === this.numericRefinements &&\n      patch.facetsRefinements === this.facetsRefinements &&\n      patch.facetsExcludes === this.facetsExcludes &&\n      patch.disjunctiveFacetsRefinements === this.disjunctiveFacetsRefinements &&\n      patch.hierarchicalFacetsRefinements === this.hierarchicalFacetsRefinements\n    ) {\n      return this;\n    }\n    return this.setQueryParameters(patch);\n  },\n  /**\n   * Remove all the refined tags from the SearchParameters\n   * @method\n   * @return {SearchParameters}\n   */\n  clearTags: function clearTags() {\n    if (this.tagFilters === undefined && this.tagRefinements.length === 0) return this;\n\n    return this.setQueryParameters({\n      tagFilters: undefined,\n      tagRefinements: []\n    });\n  },\n  /**\n   * Set the index.\n   * @method\n   * @param {string} index the index name\n   * @return {SearchParameters}\n   */\n  setIndex: function setIndex(index) {\n    if (index === this.index) return this;\n\n    return this.setQueryParameters({\n      index: index\n    });\n  },\n  /**\n   * Query setter\n   * @method\n   * @param {string} newQuery value for the new query\n   * @return {SearchParameters}\n   */\n  setQuery: function setQuery(newQuery) {\n    if (newQuery === this.query) return this;\n\n    return this.setQueryParameters({\n      query: newQuery\n    });\n  },\n  /**\n   * Page setter\n   * @method\n   * @param {number} newPage new page number\n   * @return {SearchParameters}\n   */\n  setPage: function setPage(newPage) {\n    if (newPage === this.page) return this;\n\n    return this.setQueryParameters({\n      page: newPage\n    });\n  },\n  /**\n   * Facets setter\n   * The facets are the simple facets, used for conjunctive (and) faceting.\n   * @method\n   * @param {string[]} facets all the attributes of the algolia records used for conjunctive faceting\n   * @return {SearchParameters}\n   */\n  setFacets: function setFacets(facets) {\n    return this.setQueryParameters({\n      facets: facets\n    });\n  },\n  /**\n   * Disjunctive facets setter\n   * Change the list of disjunctive (or) facets the helper chan handle.\n   * @method\n   * @param {string[]} facets all the attributes of the algolia records used for disjunctive faceting\n   * @return {SearchParameters}\n   */\n  setDisjunctiveFacets: function setDisjunctiveFacets(facets) {\n    return this.setQueryParameters({\n      disjunctiveFacets: facets\n    });\n  },\n  /**\n   * HitsPerPage setter\n   * Hits per page represents the number of hits retrieved for this query\n   * @method\n   * @param {number} n number of hits retrieved per page of results\n   * @return {SearchParameters}\n   */\n  setHitsPerPage: function setHitsPerPage(n) {\n    if (this.hitsPerPage === n) return this;\n\n    return this.setQueryParameters({\n      hitsPerPage: n\n    });\n  },\n  /**\n   * typoTolerance setter\n   * Set the value of typoTolerance\n   * @method\n   * @param {string} typoTolerance new value of typoTolerance (\"true\", \"false\", \"min\" or \"strict\")\n   * @return {SearchParameters}\n   */\n  setTypoTolerance: function setTypoTolerance(typoTolerance) {\n    if (this.typoTolerance === typoTolerance) return this;\n\n    return this.setQueryParameters({\n      typoTolerance: typoTolerance\n    });\n  },\n  /**\n   * Add a numeric filter for a given attribute\n   * When value is an array, they are combined with OR\n   * When value is a single value, it will combined with AND\n   * @method\n   * @param {string} attribute attribute to set the filter on\n   * @param {string} operator operator of the filter (possible values: =, >, >=, <, <=, !=)\n   * @param {number | number[]} value value of the filter\n   * @return {SearchParameters}\n   * @example\n   * // for price = 50 or 40\n   * searchparameter.addNumericRefinement('price', '=', [50, 40]);\n   * @example\n   * // for size = 38 and 40\n   * searchparameter.addNumericRefinement('size', '=', 38);\n   * searchparameter.addNumericRefinement('size', '=', 40);\n   */\n  addNumericRefinement: function(attribute, operator, v) {\n    var value = valToNumber(v);\n\n    if (this.isNumericRefined(attribute, operator, value)) return this;\n\n    var mod = merge({}, this.numericRefinements);\n\n    mod[attribute] = merge({}, mod[attribute]);\n\n    if (mod[attribute][operator]) {\n      // Array copy\n      mod[attribute][operator] = mod[attribute][operator].slice();\n      // Add the element. Concat can't be used here because value can be an array.\n      mod[attribute][operator].push(value);\n    } else {\n      mod[attribute][operator] = [value];\n    }\n\n    return this.setQueryParameters({\n      numericRefinements: mod\n    });\n  },\n  /**\n   * Get the list of conjunctive refinements for a single facet\n   * @param {string} facetName name of the attribute used for faceting\n   * @return {string[]} list of refinements\n   */\n  getConjunctiveRefinements: function(facetName) {\n    if (!this.isConjunctiveFacet(facetName)) {\n      return [];\n    }\n    return this.facetsRefinements[facetName] || [];\n  },\n  /**\n   * Get the list of disjunctive refinements for a single facet\n   * @param {string} facetName name of the attribute used for faceting\n   * @return {string[]} list of refinements\n   */\n  getDisjunctiveRefinements: function(facetName) {\n    if (!this.isDisjunctiveFacet(facetName)) {\n      return [];\n    }\n    return this.disjunctiveFacetsRefinements[facetName] || [];\n  },\n  /**\n   * Get the list of hierarchical refinements for a single facet\n   * @param {string} facetName name of the attribute used for faceting\n   * @return {string[]} list of refinements\n   */\n  getHierarchicalRefinement: function(facetName) {\n    // we send an array but we currently do not support multiple\n    // hierarchicalRefinements for a hierarchicalFacet\n    return this.hierarchicalFacetsRefinements[facetName] || [];\n  },\n  /**\n   * Get the list of exclude refinements for a single facet\n   * @param {string} facetName name of the attribute used for faceting\n   * @return {string[]} list of refinements\n   */\n  getExcludeRefinements: function(facetName) {\n    if (!this.isConjunctiveFacet(facetName)) {\n      return [];\n    }\n    return this.facetsExcludes[facetName] || [];\n  },\n\n  /**\n   * Remove all the numeric filter for a given (attribute, operator)\n   * @method\n   * @param {string} attribute attribute to set the filter on\n   * @param {string} [operator] operator of the filter (possible values: =, >, >=, <, <=, !=)\n   * @param {number} [number] the value to be removed\n   * @return {SearchParameters}\n   */\n  removeNumericRefinement: function(attribute, operator, paramValue) {\n    if (paramValue !== undefined) {\n      if (!this.isNumericRefined(attribute, operator, paramValue)) {\n        return this;\n      }\n      return this.setQueryParameters({\n        numericRefinements: this._clearNumericRefinements(function(value, key) {\n          return (\n            key === attribute &&\n            value.op === operator &&\n            isEqualNumericRefinement(value.val, valToNumber(paramValue))\n          );\n        })\n      });\n    } else if (operator !== undefined) {\n      if (!this.isNumericRefined(attribute, operator)) return this;\n      return this.setQueryParameters({\n        numericRefinements: this._clearNumericRefinements(function(value, key) {\n          return key === attribute && value.op === operator;\n        })\n      });\n    }\n\n    if (!this.isNumericRefined(attribute)) return this;\n    return this.setQueryParameters({\n      numericRefinements: this._clearNumericRefinements(function(value, key) {\n        return key === attribute;\n      })\n    });\n  },\n  /**\n   * Get the list of numeric refinements for a single facet\n   * @param {string} facetName name of the attribute used for faceting\n   * @return {SearchParameters.OperatorList} list of refinements\n   */\n  getNumericRefinements: function(facetName) {\n    return this.numericRefinements[facetName] || {};\n  },\n  /**\n   * Return the current refinement for the (attribute, operator)\n   * @param {string} attribute attribute in the record\n   * @param {string} operator operator applied on the refined values\n   * @return {Array.<number|number[]>} refined values\n   */\n  getNumericRefinement: function(attribute, operator) {\n    return this.numericRefinements[attribute] && this.numericRefinements[attribute][operator];\n  },\n  /**\n   * Clear numeric filters.\n   * @method\n   * @private\n   * @param {string|SearchParameters.clearCallback} [attribute] optional string or function\n   * - If not given, means to clear all the filters.\n   * - If `string`, means to clear all refinements for the `attribute` named filter.\n   * - If `function`, means to clear all the refinements that return truthy values.\n   * @return {Object.<string, OperatorList>}\n   */\n  _clearNumericRefinements: function _clearNumericRefinements(attribute) {\n    if (attribute === undefined) {\n      if (!objectHasKeys(this.numericRefinements)) {\n        return this.numericRefinements;\n      }\n      return {};\n    } else if (typeof attribute === 'string') {\n      return omit(this.numericRefinements, [attribute]);\n    } else if (typeof attribute === 'function') {\n      var hasChanged = false;\n      var numericRefinements = this.numericRefinements;\n      var newNumericRefinements = Object.keys(numericRefinements).reduce(function(memo, key) {\n        var operators = numericRefinements[key];\n        var operatorList = {};\n\n        operators = operators || {};\n        Object.keys(operators).forEach(function(operator) {\n          var values = operators[operator] || [];\n          var outValues = [];\n          values.forEach(function(value) {\n            var predicateResult = attribute({val: value, op: operator}, key, 'numeric');\n            if (!predicateResult) outValues.push(value);\n          });\n          if (outValues.length !== values.length) {\n            hasChanged = true;\n          }\n          operatorList[operator] = outValues;\n        });\n\n        memo[key] = operatorList;\n\n        return memo;\n      }, {});\n\n      if (hasChanged) return newNumericRefinements;\n      return this.numericRefinements;\n    }\n  },\n  /**\n   * Add a facet to the facets attribute of the helper configuration, if it\n   * isn't already present.\n   * @method\n   * @param {string} facet facet name to add\n   * @return {SearchParameters}\n   */\n  addFacet: function addFacet(facet) {\n    if (this.isConjunctiveFacet(facet)) {\n      return this;\n    }\n\n    return this.setQueryParameters({\n      facets: this.facets.concat([facet])\n    });\n  },\n  /**\n   * Add a disjunctive facet to the disjunctiveFacets attribute of the helper\n   * configuration, if it isn't already present.\n   * @method\n   * @param {string} facet disjunctive facet name to add\n   * @return {SearchParameters}\n   */\n  addDisjunctiveFacet: function addDisjunctiveFacet(facet) {\n    if (this.isDisjunctiveFacet(facet)) {\n      return this;\n    }\n\n    return this.setQueryParameters({\n      disjunctiveFacets: this.disjunctiveFacets.concat([facet])\n    });\n  },\n  /**\n   * Add a hierarchical facet to the hierarchicalFacets attribute of the helper\n   * configuration.\n   * @method\n   * @param {object} hierarchicalFacet hierarchical facet to add\n   * @return {SearchParameters}\n   * @throws will throw an error if a hierarchical facet with the same name was already declared\n   */\n  addHierarchicalFacet: function addHierarchicalFacet(hierarchicalFacet) {\n    if (this.isHierarchicalFacet(hierarchicalFacet.name)) {\n      throw new Error(\n        'Cannot declare two hierarchical facets with the same name: `' + hierarchicalFacet.name + '`');\n    }\n\n    return this.setQueryParameters({\n      hierarchicalFacets: this.hierarchicalFacets.concat([hierarchicalFacet])\n    });\n  },\n  /**\n   * Add a refinement on a \"normal\" facet\n   * @method\n   * @param {string} facet attribute to apply the faceting on\n   * @param {string} value value of the attribute (will be converted to string)\n   * @return {SearchParameters}\n   */\n  addFacetRefinement: function addFacetRefinement(facet, value) {\n    if (!this.isConjunctiveFacet(facet)) {\n      throw new Error(facet + ' is not defined in the facets attribute of the helper configuration');\n    }\n    if (RefinementList.isRefined(this.facetsRefinements, facet, value)) return this;\n\n    return this.setQueryParameters({\n      facetsRefinements: RefinementList.addRefinement(this.facetsRefinements, facet, value)\n    });\n  },\n  /**\n   * Exclude a value from a \"normal\" facet\n   * @method\n   * @param {string} facet attribute to apply the exclusion on\n   * @param {string} value value of the attribute (will be converted to string)\n   * @return {SearchParameters}\n   */\n  addExcludeRefinement: function addExcludeRefinement(facet, value) {\n    if (!this.isConjunctiveFacet(facet)) {\n      throw new Error(facet + ' is not defined in the facets attribute of the helper configuration');\n    }\n    if (RefinementList.isRefined(this.facetsExcludes, facet, value)) return this;\n\n    return this.setQueryParameters({\n      facetsExcludes: RefinementList.addRefinement(this.facetsExcludes, facet, value)\n    });\n  },\n  /**\n   * Adds a refinement on a disjunctive facet.\n   * @method\n   * @param {string} facet attribute to apply the faceting on\n   * @param {string} value value of the attribute (will be converted to string)\n   * @return {SearchParameters}\n   */\n  addDisjunctiveFacetRefinement: function addDisjunctiveFacetRefinement(facet, value) {\n    if (!this.isDisjunctiveFacet(facet)) {\n      throw new Error(\n        facet + ' is not defined in the disjunctiveFacets attribute of the helper configuration');\n    }\n\n    if (RefinementList.isRefined(this.disjunctiveFacetsRefinements, facet, value)) return this;\n\n    return this.setQueryParameters({\n      disjunctiveFacetsRefinements: RefinementList.addRefinement(\n        this.disjunctiveFacetsRefinements, facet, value)\n    });\n  },\n  /**\n   * addTagRefinement adds a tag to the list used to filter the results\n   * @param {string} tag tag to be added\n   * @return {SearchParameters}\n   */\n  addTagRefinement: function addTagRefinement(tag) {\n    if (this.isTagRefined(tag)) return this;\n\n    var modification = {\n      tagRefinements: this.tagRefinements.concat(tag)\n    };\n\n    return this.setQueryParameters(modification);\n  },\n  /**\n   * Remove a facet from the facets attribute of the helper configuration, if it\n   * is present.\n   * @method\n   * @param {string} facet facet name to remove\n   * @return {SearchParameters}\n   */\n  removeFacet: function removeFacet(facet) {\n    if (!this.isConjunctiveFacet(facet)) {\n      return this;\n    }\n\n    return this.clearRefinements(facet).setQueryParameters({\n      facets: this.facets.filter(function(f) {\n        return f !== facet;\n      })\n    });\n  },\n  /**\n   * Remove a disjunctive facet from the disjunctiveFacets attribute of the\n   * helper configuration, if it is present.\n   * @method\n   * @param {string} facet disjunctive facet name to remove\n   * @return {SearchParameters}\n   */\n  removeDisjunctiveFacet: function removeDisjunctiveFacet(facet) {\n    if (!this.isDisjunctiveFacet(facet)) {\n      return this;\n    }\n\n    return this.clearRefinements(facet).setQueryParameters({\n      disjunctiveFacets: this.disjunctiveFacets.filter(function(f) {\n        return f !== facet;\n      })\n    });\n  },\n  /**\n   * Remove a hierarchical facet from the hierarchicalFacets attribute of the\n   * helper configuration, if it is present.\n   * @method\n   * @param {string} facet hierarchical facet name to remove\n   * @return {SearchParameters}\n   */\n  removeHierarchicalFacet: function removeHierarchicalFacet(facet) {\n    if (!this.isHierarchicalFacet(facet)) {\n      return this;\n    }\n\n    return this.clearRefinements(facet).setQueryParameters({\n      hierarchicalFacets: this.hierarchicalFacets.filter(function(f) {\n        return f.name !== facet;\n      })\n    });\n  },\n  /**\n   * Remove a refinement set on facet. If a value is provided, it will clear the\n   * refinement for the given value, otherwise it will clear all the refinement\n   * values for the faceted attribute.\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {string} [value] value used to filter\n   * @return {SearchParameters}\n   */\n  removeFacetRefinement: function removeFacetRefinement(facet, value) {\n    if (!this.isConjunctiveFacet(facet)) {\n      throw new Error(facet + ' is not defined in the facets attribute of the helper configuration');\n    }\n    if (!RefinementList.isRefined(this.facetsRefinements, facet, value)) return this;\n\n    return this.setQueryParameters({\n      facetsRefinements: RefinementList.removeRefinement(this.facetsRefinements, facet, value)\n    });\n  },\n  /**\n   * Remove a negative refinement on a facet\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {string} value value used to filter\n   * @return {SearchParameters}\n   */\n  removeExcludeRefinement: function removeExcludeRefinement(facet, value) {\n    if (!this.isConjunctiveFacet(facet)) {\n      throw new Error(facet + ' is not defined in the facets attribute of the helper configuration');\n    }\n    if (!RefinementList.isRefined(this.facetsExcludes, facet, value)) return this;\n\n    return this.setQueryParameters({\n      facetsExcludes: RefinementList.removeRefinement(this.facetsExcludes, facet, value)\n    });\n  },\n  /**\n   * Remove a refinement on a disjunctive facet\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {string} value value used to filter\n   * @return {SearchParameters}\n   */\n  removeDisjunctiveFacetRefinement: function removeDisjunctiveFacetRefinement(facet, value) {\n    if (!this.isDisjunctiveFacet(facet)) {\n      throw new Error(\n        facet + ' is not defined in the disjunctiveFacets attribute of the helper configuration');\n    }\n    if (!RefinementList.isRefined(this.disjunctiveFacetsRefinements, facet, value)) return this;\n\n    return this.setQueryParameters({\n      disjunctiveFacetsRefinements: RefinementList.removeRefinement(\n        this.disjunctiveFacetsRefinements, facet, value)\n    });\n  },\n  /**\n   * Remove a tag from the list of tag refinements\n   * @method\n   * @param {string} tag the tag to remove\n   * @return {SearchParameters}\n   */\n  removeTagRefinement: function removeTagRefinement(tag) {\n    if (!this.isTagRefined(tag)) return this;\n\n    var modification = {\n      tagRefinements: this.tagRefinements.filter(function(t) {\n        return t !== tag;\n      })\n    };\n\n    return this.setQueryParameters(modification);\n  },\n  /**\n   * Generic toggle refinement method to use with facet, disjunctive facets\n   * and hierarchical facets\n   * @param  {string} facet the facet to refine\n   * @param  {string} value the associated value\n   * @return {SearchParameters}\n   * @throws will throw an error if the facet is not declared in the settings of the helper\n   * @deprecated since version 2.19.0, see {@link SearchParameters#toggleFacetRefinement}\n   */\n  toggleRefinement: function toggleRefinement(facet, value) {\n    return this.toggleFacetRefinement(facet, value);\n  },\n  /**\n   * Generic toggle refinement method to use with facet, disjunctive facets\n   * and hierarchical facets\n   * @param  {string} facet the facet to refine\n   * @param  {string} value the associated value\n   * @return {SearchParameters}\n   * @throws will throw an error if the facet is not declared in the settings of the helper\n   */\n  toggleFacetRefinement: function toggleFacetRefinement(facet, value) {\n    if (this.isHierarchicalFacet(facet)) {\n      return this.toggleHierarchicalFacetRefinement(facet, value);\n    } else if (this.isConjunctiveFacet(facet)) {\n      return this.toggleConjunctiveFacetRefinement(facet, value);\n    } else if (this.isDisjunctiveFacet(facet)) {\n      return this.toggleDisjunctiveFacetRefinement(facet, value);\n    }\n\n    throw new Error('Cannot refine the undeclared facet ' + facet +\n      '; it should be added to the helper options facets, disjunctiveFacets or hierarchicalFacets');\n  },\n  /**\n   * Switch the refinement applied over a facet/value\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {value} value value used for filtering\n   * @return {SearchParameters}\n   */\n  toggleConjunctiveFacetRefinement: function toggleConjunctiveFacetRefinement(facet, value) {\n    if (!this.isConjunctiveFacet(facet)) {\n      throw new Error(facet + ' is not defined in the facets attribute of the helper configuration');\n    }\n\n    return this.setQueryParameters({\n      facetsRefinements: RefinementList.toggleRefinement(this.facetsRefinements, facet, value)\n    });\n  },\n  /**\n   * Switch the refinement applied over a facet/value\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {value} value value used for filtering\n   * @return {SearchParameters}\n   */\n  toggleExcludeFacetRefinement: function toggleExcludeFacetRefinement(facet, value) {\n    if (!this.isConjunctiveFacet(facet)) {\n      throw new Error(facet + ' is not defined in the facets attribute of the helper configuration');\n    }\n\n    return this.setQueryParameters({\n      facetsExcludes: RefinementList.toggleRefinement(this.facetsExcludes, facet, value)\n    });\n  },\n  /**\n   * Switch the refinement applied over a facet/value\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {value} value value used for filtering\n   * @return {SearchParameters}\n   */\n  toggleDisjunctiveFacetRefinement: function toggleDisjunctiveFacetRefinement(facet, value) {\n    if (!this.isDisjunctiveFacet(facet)) {\n      throw new Error(\n        facet + ' is not defined in the disjunctiveFacets attribute of the helper configuration');\n    }\n\n    return this.setQueryParameters({\n      disjunctiveFacetsRefinements: RefinementList.toggleRefinement(\n        this.disjunctiveFacetsRefinements, facet, value)\n    });\n  },\n  /**\n   * Switch the refinement applied over a facet/value\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {value} value value used for filtering\n   * @return {SearchParameters}\n   */\n  toggleHierarchicalFacetRefinement: function toggleHierarchicalFacetRefinement(facet, value) {\n    if (!this.isHierarchicalFacet(facet)) {\n      throw new Error(\n        facet + ' is not defined in the hierarchicalFacets attribute of the helper configuration');\n    }\n\n    var separator = this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(facet));\n\n    var mod = {};\n\n    var upOneOrMultipleLevel = this.hierarchicalFacetsRefinements[facet] !== undefined &&\n      this.hierarchicalFacetsRefinements[facet].length > 0 && (\n      // remove current refinement:\n      // refinement was 'beer > IPA', call is toggleRefine('beer > IPA'), refinement should be `beer`\n      this.hierarchicalFacetsRefinements[facet][0] === value ||\n      // remove a parent refinement of the current refinement:\n      //  - refinement was 'beer > IPA > Flying dog'\n      //  - call is toggleRefine('beer > IPA')\n      //  - refinement should be `beer`\n      this.hierarchicalFacetsRefinements[facet][0].indexOf(value + separator) === 0\n    );\n\n    if (upOneOrMultipleLevel) {\n      if (value.indexOf(separator) === -1) {\n        // go back to root level\n        mod[facet] = [];\n      } else {\n        mod[facet] = [value.slice(0, value.lastIndexOf(separator))];\n      }\n    } else {\n      mod[facet] = [value];\n    }\n\n    return this.setQueryParameters({\n      hierarchicalFacetsRefinements: defaultsPure({}, mod, this.hierarchicalFacetsRefinements)\n    });\n  },\n\n  /**\n   * Adds a refinement on a hierarchical facet.\n   * @param {string} facet the facet name\n   * @param {string} path the hierarchical facet path\n   * @return {SearchParameter} the new state\n   * @throws Error if the facet is not defined or if the facet is refined\n   */\n  addHierarchicalFacetRefinement: function(facet, path) {\n    if (this.isHierarchicalFacetRefined(facet)) {\n      throw new Error(facet + ' is already refined.');\n    }\n    if (!this.isHierarchicalFacet(facet)) {\n      throw new Error(facet + ' is not defined in the hierarchicalFacets attribute of the helper configuration.');\n    }\n    var mod = {};\n    mod[facet] = [path];\n    return this.setQueryParameters({\n      hierarchicalFacetsRefinements: defaultsPure({}, mod, this.hierarchicalFacetsRefinements)\n    });\n  },\n\n  /**\n   * Removes the refinement set on a hierarchical facet.\n   * @param {string} facet the facet name\n   * @return {SearchParameter} the new state\n   * @throws Error if the facet is not defined or if the facet is not refined\n   */\n  removeHierarchicalFacetRefinement: function(facet) {\n    if (!this.isHierarchicalFacetRefined(facet)) {\n      return this;\n    }\n    var mod = {};\n    mod[facet] = [];\n    return this.setQueryParameters({\n      hierarchicalFacetsRefinements: defaultsPure({}, mod, this.hierarchicalFacetsRefinements)\n    });\n  },\n  /**\n   * Switch the tag refinement\n   * @method\n   * @param {string} tag the tag to remove or add\n   * @return {SearchParameters}\n   */\n  toggleTagRefinement: function toggleTagRefinement(tag) {\n    if (this.isTagRefined(tag)) {\n      return this.removeTagRefinement(tag);\n    }\n\n    return this.addTagRefinement(tag);\n  },\n  /**\n   * Test if the facet name is from one of the disjunctive facets\n   * @method\n   * @param {string} facet facet name to test\n   * @return {boolean}\n   */\n  isDisjunctiveFacet: function(facet) {\n    return this.disjunctiveFacets.indexOf(facet) > -1;\n  },\n  /**\n   * Test if the facet name is from one of the hierarchical facets\n   * @method\n   * @param {string} facetName facet name to test\n   * @return {boolean}\n   */\n  isHierarchicalFacet: function(facetName) {\n    return this.getHierarchicalFacetByName(facetName) !== undefined;\n  },\n  /**\n   * Test if the facet name is from one of the conjunctive/normal facets\n   * @method\n   * @param {string} facet facet name to test\n   * @return {boolean}\n   */\n  isConjunctiveFacet: function(facet) {\n    return this.facets.indexOf(facet) > -1;\n  },\n  /**\n   * Returns true if the facet is refined, either for a specific value or in\n   * general.\n   * @method\n   * @param {string} facet name of the attribute for used for faceting\n   * @param {string} value, optional value. If passed will test that this value\n   * is filtering the given facet.\n   * @return {boolean} returns true if refined\n   */\n  isFacetRefined: function isFacetRefined(facet, value) {\n    if (!this.isConjunctiveFacet(facet)) {\n      return false;\n    }\n    return RefinementList.isRefined(this.facetsRefinements, facet, value);\n  },\n  /**\n   * Returns true if the facet contains exclusions or if a specific value is\n   * excluded.\n   *\n   * @method\n   * @param {string} facet name of the attribute for used for faceting\n   * @param {string} [value] optional value. If passed will test that this value\n   * is filtering the given facet.\n   * @return {boolean} returns true if refined\n   */\n  isExcludeRefined: function isExcludeRefined(facet, value) {\n    if (!this.isConjunctiveFacet(facet)) {\n      return false;\n    }\n    return RefinementList.isRefined(this.facetsExcludes, facet, value);\n  },\n  /**\n   * Returns true if the facet contains a refinement, or if a value passed is a\n   * refinement for the facet.\n   * @method\n   * @param {string} facet name of the attribute for used for faceting\n   * @param {string} value optional, will test if the value is used for refinement\n   * if there is one, otherwise will test if the facet contains any refinement\n   * @return {boolean}\n   */\n  isDisjunctiveFacetRefined: function isDisjunctiveFacetRefined(facet, value) {\n    if (!this.isDisjunctiveFacet(facet)) {\n      return false;\n    }\n    return RefinementList.isRefined(this.disjunctiveFacetsRefinements, facet, value);\n  },\n  /**\n   * Returns true if the facet contains a refinement, or if a value passed is a\n   * refinement for the facet.\n   * @method\n   * @param {string} facet name of the attribute for used for faceting\n   * @param {string} value optional, will test if the value is used for refinement\n   * if there is one, otherwise will test if the facet contains any refinement\n   * @return {boolean}\n   */\n  isHierarchicalFacetRefined: function isHierarchicalFacetRefined(facet, value) {\n    if (!this.isHierarchicalFacet(facet)) {\n      return false;\n    }\n\n    var refinements = this.getHierarchicalRefinement(facet);\n\n    if (!value) {\n      return refinements.length > 0;\n    }\n\n    return refinements.indexOf(value) !== -1;\n  },\n  /**\n   * Test if the triple (attribute, operator, value) is already refined.\n   * If only the attribute and the operator are provided, it tests if the\n   * contains any refinement value.\n   * @method\n   * @param {string} attribute attribute for which the refinement is applied\n   * @param {string} [operator] operator of the refinement\n   * @param {string} [value] value of the refinement\n   * @return {boolean} true if it is refined\n   */\n  isNumericRefined: function isNumericRefined(attribute, operator, value) {\n    if (value === undefined && operator === undefined) {\n      return !!this.numericRefinements[attribute];\n    }\n\n    var isOperatorDefined =\n      this.numericRefinements[attribute] &&\n      this.numericRefinements[attribute][operator] !== undefined;\n\n    if (value === undefined || !isOperatorDefined) {\n      return isOperatorDefined;\n    }\n\n    var parsedValue = valToNumber(value);\n    var isAttributeValueDefined =\n      findArray(this.numericRefinements[attribute][operator], parsedValue) !==\n      undefined;\n\n    return isOperatorDefined && isAttributeValueDefined;\n  },\n  /**\n   * Returns true if the tag refined, false otherwise\n   * @method\n   * @param {string} tag the tag to check\n   * @return {boolean}\n   */\n  isTagRefined: function isTagRefined(tag) {\n    return this.tagRefinements.indexOf(tag) !== -1;\n  },\n  /**\n   * Returns the list of all disjunctive facets refined\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {value} value value used for filtering\n   * @return {string[]}\n   */\n  getRefinedDisjunctiveFacets: function getRefinedDisjunctiveFacets() {\n    var self = this;\n\n    // attributes used for numeric filter can also be disjunctive\n    var disjunctiveNumericRefinedFacets = intersection(\n      Object.keys(this.numericRefinements).filter(function(facet) {\n        return Object.keys(self.numericRefinements[facet]).length > 0;\n      }),\n      this.disjunctiveFacets\n    );\n\n    return Object.keys(this.disjunctiveFacetsRefinements).filter(function(facet) {\n      return self.disjunctiveFacetsRefinements[facet].length > 0;\n    })\n      .concat(disjunctiveNumericRefinedFacets)\n      .concat(this.getRefinedHierarchicalFacets());\n  },\n  /**\n   * Returns the list of all disjunctive facets refined\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {value} value value used for filtering\n   * @return {string[]}\n   */\n  getRefinedHierarchicalFacets: function getRefinedHierarchicalFacets() {\n    var self = this;\n    return intersection(\n      // enforce the order between the two arrays,\n      // so that refinement name index === hierarchical facet index\n      this.hierarchicalFacets.map(function(facet) { return facet.name; }),\n      Object.keys(this.hierarchicalFacetsRefinements).filter(function(facet) {\n        return self.hierarchicalFacetsRefinements[facet].length > 0;\n      })\n    );\n  },\n  /**\n   * Returned the list of all disjunctive facets not refined\n   * @method\n   * @return {string[]}\n   */\n  getUnrefinedDisjunctiveFacets: function() {\n    var refinedFacets = this.getRefinedDisjunctiveFacets();\n\n    return this.disjunctiveFacets.filter(function(f) {\n      return refinedFacets.indexOf(f) === -1;\n    });\n  },\n\n  managedParameters: [\n    'index',\n    'facets', 'disjunctiveFacets', 'facetsRefinements',\n    'facetsExcludes', 'disjunctiveFacetsRefinements',\n    'numericRefinements', 'tagRefinements', 'hierarchicalFacets', 'hierarchicalFacetsRefinements'\n  ],\n  getQueryParams: function getQueryParams() {\n    var managedParameters = this.managedParameters;\n\n    var queryParams = {};\n\n    var self = this;\n    Object.keys(this).forEach(function(paramName) {\n      var paramValue = self[paramName];\n      if (managedParameters.indexOf(paramName) === -1 && paramValue !== undefined) {\n        queryParams[paramName] = paramValue;\n      }\n    });\n\n    return queryParams;\n  },\n  /**\n   * Let the user set a specific value for a given parameter. Will return the\n   * same instance if the parameter is invalid or if the value is the same as the\n   * previous one.\n   * @method\n   * @param {string} parameter the parameter name\n   * @param {any} value the value to be set, must be compliant with the definition\n   * of the attribute on the object\n   * @return {SearchParameters} the updated state\n   */\n  setQueryParameter: function setParameter(parameter, value) {\n    if (this[parameter] === value) return this;\n\n    var modification = {};\n\n    modification[parameter] = value;\n\n    return this.setQueryParameters(modification);\n  },\n  /**\n   * Let the user set any of the parameters with a plain object.\n   * @method\n   * @param {object} params all the keys and the values to be updated\n   * @return {SearchParameters} a new updated instance\n   */\n  setQueryParameters: function setQueryParameters(params) {\n    if (!params) return this;\n\n    var error = SearchParameters.validate(this, params);\n\n    if (error) {\n      throw error;\n    }\n\n    var self = this;\n    var nextWithNumbers = SearchParameters._parseNumbers(params);\n    var previousPlainObject = Object.keys(this).reduce(function(acc, key) {\n      acc[key] = self[key];\n      return acc;\n    }, {});\n\n    var nextPlainObject = Object.keys(nextWithNumbers).reduce(\n      function(previous, key) {\n        var isPreviousValueDefined = previous[key] !== undefined;\n        var isNextValueDefined = nextWithNumbers[key] !== undefined;\n\n        if (isPreviousValueDefined && !isNextValueDefined) {\n          return omit(previous, [key]);\n        }\n\n        if (isNextValueDefined) {\n          previous[key] = nextWithNumbers[key];\n        }\n\n        return previous;\n      },\n      previousPlainObject\n    );\n\n    return new this.constructor(nextPlainObject);\n  },\n\n  /**\n   * Returns a new instance with the page reset. Two scenarios possible:\n   * the page is omitted -> return the given instance\n   * the page is set -> return a new instance with a page of 0\n   * @return {SearchParameters} a new updated instance\n   */\n  resetPage: function() {\n    if (this.page === undefined) {\n      return this;\n    }\n\n    return this.setPage(0);\n  },\n\n  /**\n   * Helper function to get the hierarchicalFacet separator or the default one (`>`)\n   * @param  {object} hierarchicalFacet\n   * @return {string} returns the hierarchicalFacet.separator or `>` as default\n   */\n  _getHierarchicalFacetSortBy: function(hierarchicalFacet) {\n    return hierarchicalFacet.sortBy || ['isRefined:desc', 'name:asc'];\n  },\n\n  /**\n   * Helper function to get the hierarchicalFacet separator or the default one (`>`)\n   * @private\n   * @param  {object} hierarchicalFacet\n   * @return {string} returns the hierarchicalFacet.separator or `>` as default\n   */\n  _getHierarchicalFacetSeparator: function(hierarchicalFacet) {\n    return hierarchicalFacet.separator || ' > ';\n  },\n\n  /**\n   * Helper function to get the hierarchicalFacet prefix path or null\n   * @private\n   * @param  {object} hierarchicalFacet\n   * @return {string} returns the hierarchicalFacet.rootPath or null as default\n   */\n  _getHierarchicalRootPath: function(hierarchicalFacet) {\n    return hierarchicalFacet.rootPath || null;\n  },\n\n  /**\n   * Helper function to check if we show the parent level of the hierarchicalFacet\n   * @private\n   * @param  {object} hierarchicalFacet\n   * @return {string} returns the hierarchicalFacet.showParentLevel or true as default\n   */\n  _getHierarchicalShowParentLevel: function(hierarchicalFacet) {\n    if (typeof hierarchicalFacet.showParentLevel === 'boolean') {\n      return hierarchicalFacet.showParentLevel;\n    }\n    return true;\n  },\n\n  /**\n   * Helper function to get the hierarchicalFacet by it's name\n   * @param  {string} hierarchicalFacetName\n   * @return {object} a hierarchicalFacet\n   */\n  getHierarchicalFacetByName: function(hierarchicalFacetName) {\n    return find(\n      this.hierarchicalFacets,\n      function(f) {\n        return f.name === hierarchicalFacetName;\n      }\n    );\n  },\n\n  /**\n   * Get the current breadcrumb for a hierarchical facet, as an array\n   * @param  {string} facetName Hierarchical facet name\n   * @return {array.<string>} the path as an array of string\n   */\n  getHierarchicalFacetBreadcrumb: function(facetName) {\n    if (!this.isHierarchicalFacet(facetName)) {\n      return [];\n    }\n\n    var refinement = this.getHierarchicalRefinement(facetName)[0];\n    if (!refinement) return [];\n\n    var separator = this._getHierarchicalFacetSeparator(\n      this.getHierarchicalFacetByName(facetName)\n    );\n    var path = refinement.split(separator);\n    return path.map(function(part) {\n      return part.trim();\n    });\n  },\n\n  toString: function() {\n    return JSON.stringify(this, null, 2);\n  }\n};\n\n/**\n * Callback used for clearRefinement method\n * @callback SearchParameters.clearCallback\n * @param {OperatorList|FacetList} value the value of the filter\n * @param {string} key the current attribute name\n * @param {string} type `numeric`, `disjunctiveFacet`, `conjunctiveFacet`, `hierarchicalFacet` or `exclude`\n * depending on the type of facet\n * @return {boolean} `true` if the element should be removed. `false` otherwise.\n */\nmodule.exports = SearchParameters;\n","'use strict';\n\nfunction inherits(ctor, superCtor) {\n  ctor.prototype = Object.create(superCtor.prototype, {\n    constructor: {\n      value: ctor,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n}\n\nmodule.exports = inherits;\n","exports.f = {}.propertyIsEnumerable;\n","'use strict';\n\nfunction intersection(arr1, arr2) {\n  return arr1.filter(function(value, index) {\n    return (\n      arr2.indexOf(value) > -1 &&\n      arr1.indexOf(value) === index /* skips duplicates */\n    );\n  });\n}\n\nmodule.exports = intersection;\n","'use strict';\nvar LIBRARY = require('./_library');\nvar global = require('./_global');\nvar ctx = require('./_ctx');\nvar classof = require('./_classof');\nvar $export = require('./_export');\nvar isObject = require('./_is-object');\nvar aFunction = require('./_a-function');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar speciesConstructor = require('./_species-constructor');\nvar task = require('./_task').set;\nvar microtask = require('./_microtask')();\nvar newPromiseCapabilityModule = require('./_new-promise-capability');\nvar perform = require('./_perform');\nvar userAgent = require('./_user-agent');\nvar promiseResolve = require('./_promise-resolve');\nvar PROMISE = 'Promise';\nvar TypeError = global.TypeError;\nvar process = global.process;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8 || '';\nvar $Promise = global[PROMISE];\nvar isNode = classof(process) == 'process';\nvar empty = function () { /* empty */ };\nvar Internal, newGenericPromiseCapability, OwnPromiseCapability, Wrapper;\nvar newPromiseCapability = newGenericPromiseCapability = newPromiseCapabilityModule.f;\n\nvar USE_NATIVE = !!function () {\n  try {\n    // correct subclassing with @@species support\n    var promise = $Promise.resolve(1);\n    var FakePromise = (promise.constructor = {})[require('./_wks')('species')] = function (exec) {\n      exec(empty, empty);\n    };\n    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    return (isNode || typeof PromiseRejectionEvent == 'function')\n      && promise.then(empty) instanceof FakePromise\n      // v8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n      // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n      // we can't detect it synchronously, so just check versions\n      && v8.indexOf('6.6') !== 0\n      && userAgent.indexOf('Chrome/66') === -1;\n  } catch (e) { /* empty */ }\n}();\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\nvar notify = function (promise, isReject) {\n  if (promise._n) return;\n  promise._n = true;\n  var chain = promise._c;\n  microtask(function () {\n    var value = promise._v;\n    var ok = promise._s == 1;\n    var i = 0;\n    var run = function (reaction) {\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then, exited;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (promise._h == 2) onHandleUnhandled(promise);\n            promise._h = 1;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value); // may throw\n            if (domain) {\n              domain.exit();\n              exited = true;\n            }\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (e) {\n        if (domain && !exited) domain.exit();\n        reject(e);\n      }\n    };\n    while (chain.length > i) run(chain[i++]); // variable length - can't use forEach\n    promise._c = [];\n    promise._n = false;\n    if (isReject && !promise._h) onUnhandled(promise);\n  });\n};\nvar onUnhandled = function (promise) {\n  task.call(global, function () {\n    var value = promise._v;\n    var unhandled = isUnhandled(promise);\n    var result, handler, console;\n    if (unhandled) {\n      result = perform(function () {\n        if (isNode) {\n          process.emit('unhandledRejection', value, promise);\n        } else if (handler = global.onunhandledrejection) {\n          handler({ promise: promise, reason: value });\n        } else if ((console = global.console) && console.error) {\n          console.error('Unhandled promise rejection', value);\n        }\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      promise._h = isNode || isUnhandled(promise) ? 2 : 1;\n    } promise._a = undefined;\n    if (unhandled && result.e) throw result.v;\n  });\n};\nvar isUnhandled = function (promise) {\n  return promise._h !== 1 && (promise._a || promise._c).length === 0;\n};\nvar onHandleUnhandled = function (promise) {\n  task.call(global, function () {\n    var handler;\n    if (isNode) {\n      process.emit('rejectionHandled', promise);\n    } else if (handler = global.onrejectionhandled) {\n      handler({ promise: promise, reason: promise._v });\n    }\n  });\n};\nvar $reject = function (value) {\n  var promise = this;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  promise._v = value;\n  promise._s = 2;\n  if (!promise._a) promise._a = promise._c.slice();\n  notify(promise, true);\n};\nvar $resolve = function (value) {\n  var promise = this;\n  var then;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  try {\n    if (promise === value) throw TypeError(\"Promise can't be resolved itself\");\n    if (then = isThenable(value)) {\n      microtask(function () {\n        var wrapper = { _w: promise, _d: false }; // wrap\n        try {\n          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n        } catch (e) {\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      promise._v = value;\n      promise._s = 1;\n      notify(promise, false);\n    }\n  } catch (e) {\n    $reject.call({ _w: promise, _d: false }, e); // wrap\n  }\n};\n\n// constructor polyfill\nif (!USE_NATIVE) {\n  // 25.4.3.1 Promise(executor)\n  $Promise = function Promise(executor) {\n    anInstance(this, $Promise, PROMISE, '_h');\n    aFunction(executor);\n    Internal.call(this);\n    try {\n      executor(ctx($resolve, this, 1), ctx($reject, this, 1));\n    } catch (err) {\n      $reject.call(this, err);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars\n  Internal = function Promise(executor) {\n    this._c = [];             // <- awaiting reactions\n    this._a = undefined;      // <- checked in isUnhandled reactions\n    this._s = 0;              // <- state\n    this._d = false;          // <- done\n    this._v = undefined;      // <- value\n    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled\n    this._n = false;          // <- notify\n  };\n  Internal.prototype = require('./_redefine-all')($Promise.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected) {\n      var reaction = newPromiseCapability(speciesConstructor(this, $Promise));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = isNode ? process.domain : undefined;\n      this._c.push(reaction);\n      if (this._a) this._a.push(reaction);\n      if (this._s) notify(this, false);\n      return reaction.promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    this.promise = promise;\n    this.resolve = ctx($resolve, promise, 1);\n    this.reject = ctx($reject, promise, 1);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === $Promise || C === Wrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Promise: $Promise });\nrequire('./_set-to-string-tag')($Promise, PROMISE);\nrequire('./_set-species')(PROMISE);\nWrapper = require('./_core')[PROMISE];\n\n// statics\n$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    var $$reject = capability.reject;\n    $$reject(r);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x) {\n    return promiseResolve(LIBRARY && this === Wrapper ? $Promise : this, x);\n  }\n});\n$export($export.S + $export.F * !(USE_NATIVE && require('./_iter-detect')(function (iter) {\n  $Promise.all(iter)['catch'](empty);\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var values = [];\n      var index = 0;\n      var remaining = 1;\n      forOf(iterable, false, function (promise) {\n        var $index = index++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        C.resolve(promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[$index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      forOf(iterable, false, function (promise) {\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  }\n});\n","var core = require('./_core');\nvar global = require('./_global');\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: core.version,\n  mode: require('./_library') ? 'pure' : 'global',\n  copyright: '© 2020 Denis Pushkarev (zloirock.ru)'\n});\n","'use strict';\n\nmodule.exports = function isValidUserToken(userToken) {\n  if (userToken === null) {\n    return false;\n  }\n  return /^[a-zA-Z0-9_-]{1,64}$/.test(userToken);\n};\n","var global = require('./_global');\nvar core = require('./_core');\nvar hide = require('./_hide');\nvar redefine = require('./_redefine');\nvar ctx = require('./_ctx');\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] || (global[name] = {}) : (global[name] || {})[PROTOTYPE];\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE] || (exports[PROTOTYPE] = {});\n  var key, own, out, exp;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    // export native or passed\n    out = (own ? target : source)[key];\n    // bind timers to global for call from export context\n    exp = IS_BIND && own ? ctx(out, global) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // extend global\n    if (target) redefine(target, key, out, type & $export.U);\n    // export\n    if (exports[key] != out) hide(exports, key, exp);\n    if (IS_PROTO && expProto[key] != out) expProto[key] = out;\n  }\n};\nglobal.core = core;\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n","var ITERATOR = require('./_wks')('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function () { SAFE_CLOSING = true; };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(riter, function () { throw 2; });\n} catch (e) { /* empty */ }\n\nmodule.exports = function (exec, skipClosing) {\n  if (!skipClosing && !SAFE_CLOSING) return false;\n  var safe = false;\n  try {\n    var arr = [7];\n    var iter = arr[ITERATOR]();\n    iter.next = function () { return { done: safe = true }; };\n    arr[ITERATOR] = function () { return iter; };\n    exec(arr);\n  } catch (e) { /* empty */ }\n  return safe;\n};\n","var isObject = require('./_is-object');\nvar setPrototypeOf = require('./_set-proto').set;\nmodule.exports = function (that, target, C) {\n  var S = target.constructor;\n  var P;\n  if (S !== C && typeof S == 'function' && (P = S.prototype) !== C.prototype && isObject(P) && setPrototypeOf) {\n    setPrototypeOf(that, P);\n  } return that;\n};\n","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n","var shared = require('./_shared')('keys');\nvar uid = require('./_uid');\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n","'use strict';\n\nmodule.exports = function compact(array) {\n  if (!Array.isArray(array)) {\n    return [];\n  }\n\n  return array.filter(Boolean);\n};\n","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject');\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","'use strict';\nrequire('./es6.regexp.flags');\nvar anObject = require('./_an-object');\nvar $flags = require('./_flags');\nvar DESCRIPTORS = require('./_descriptors');\nvar TO_STRING = 'toString';\nvar $toString = /./[TO_STRING];\n\nvar define = function (fn) {\n  require('./_redefine')(RegExp.prototype, TO_STRING, fn, true);\n};\n\n// 21.2.5.14 RegExp.prototype.toString()\nif (require('./_fails')(function () { return $toString.call({ source: 'a', flags: 'b' }) != '/a/b'; })) {\n  define(function toString() {\n    var R = anObject(this);\n    return '/'.concat(R.source, '/',\n      'flags' in R ? R.flags : !DESCRIPTORS && R instanceof RegExp ? $flags.call(R) : undefined);\n  });\n// FF44- RegExp#toString has a wrong name\n} else if ($toString.name != TO_STRING) {\n  define(function toString() {\n    return $toString.call(this);\n  });\n}\n","'use strict';\n// 19.1.2.1 Object.assign(target, source, ...)\nvar DESCRIPTORS = require('./_descriptors');\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nvar toObject = require('./_to-object');\nvar IObject = require('./_iobject');\nvar $assign = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || require('./_fails')(function () {\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var S = Symbol();\n  var K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function (k) { B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var aLen = arguments.length;\n  var index = 1;\n  var getSymbols = gOPS.f;\n  var isEnum = pIE.f;\n  while (aLen > index) {\n    var S = IObject(arguments[index++]);\n    var keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) {\n      key = keys[j++];\n      if (!DESCRIPTORS || isEnum.call(S, key)) T[key] = S[key];\n    }\n  } return T;\n} : $assign;\n","'use strict';\n// 22.1.3.8 Array.prototype.find(predicate, thisArg = undefined)\nvar $export = require('./_export');\nvar $find = require('./_array-methods')(5);\nvar KEY = 'find';\nvar forced = true;\n// Shouldn't skip holes\nif (KEY in []) Array(1)[KEY](function () { forced = false; });\n$export($export.P + $export.F * forced, 'Array', {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\nrequire('./_add-to-unscopables')(KEY);\n","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n","var toInteger = require('./_to-integer');\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n","'use strict';\nvar global = require('./_global');\nvar dP = require('./_object-dp');\nvar DESCRIPTORS = require('./_descriptors');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (KEY) {\n  var C = global[KEY];\n  if (DESCRIPTORS && C && !C[SPECIES]) dP.f(C, SPECIES, {\n    configurable: true,\n    get: function () { return this; }\n  });\n};\n","'use strict';\n\nvar replace = String.prototype.replace;\nvar percentTwenties = /%20/g;\n\nvar util = require('./utils');\n\nvar Format = {\n    RFC1738: 'RFC1738',\n    RFC3986: 'RFC3986'\n};\n\nmodule.exports = util.assign(\n    {\n        'default': Format.RFC3986,\n        formatters: {\n            RFC1738: function (value) {\n                return replace.call(value, percentTwenties, '+');\n            },\n            RFC3986: function (value) {\n                return String(value);\n            }\n        }\n    },\n    Format\n);\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function eventListener() {\n      if (errorListener !== undefined) {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n    var errorListener;\n\n    // Adding an error listener is not optional because\n    // if an error is thrown on an event emitter we cannot\n    // guarantee that the actual event we are waiting will\n    // be fired. The result could be a silent way to create\n    // memory or file descriptor leaks, which is something\n    // we should avoid.\n    if (name !== 'error') {\n      errorListener = function errorListener(err) {\n        emitter.removeListener(name, eventListener);\n        reject(err);\n      };\n\n      emitter.once('error', errorListener);\n    }\n\n    emitter.once(name, eventListener);\n  });\n}\n","var def = require('./_object-dp').f;\nvar has = require('./_has');\nvar TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function (it, tag, stat) {\n  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n};\n","var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n","var global = require('./_global');\nvar macrotask = require('./_task').set;\nvar Observer = global.MutationObserver || global.WebKitMutationObserver;\nvar process = global.process;\nvar Promise = global.Promise;\nvar isNode = require('./_cof')(process) == 'process';\n\nmodule.exports = function () {\n  var head, last, notify;\n\n  var flush = function () {\n    var parent, fn;\n    if (isNode && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (e) {\n        if (head) notify();\n        else last = undefined;\n        throw e;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // Node.js\n  if (isNode) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver, except iOS Safari - https://github.com/zloirock/core-js/issues/339\n  } else if (Observer && !(global.navigator && global.navigator.standalone)) {\n    var toggle = true;\n    var node = document.createTextNode('');\n    new Observer(flush).observe(node, { characterData: true }); // eslint-disable-line no-new\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    // Promise.resolve without an argument throws an error in LG WebOS 2\n    var promise = Promise.resolve(undefined);\n    notify = function () {\n      promise.then(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n\n  return function (fn) {\n    var task = { fn: fn, next: undefined };\n    if (last) last.next = task;\n    if (!head) {\n      head = task;\n      notify();\n    } last = task;\n  };\n};\n","'use strict';\n\nfunction objectHasKeys(obj) {\n  return obj && Object.keys(obj).length > 0;\n}\n\nmodule.exports = objectHasKeys;\n","var core = module.exports = { version: '2.6.12' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n","module.exports = {};\n","var anObject = require('./_an-object');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar toPrimitive = require('./_to-primitive');\nvar dP = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar formats = require('./formats');\nvar has = Object.prototype.hasOwnProperty;\n\nvar arrayPrefixGenerators = {\n    brackets: function brackets(prefix) {\n        return prefix + '[]';\n    },\n    comma: 'comma',\n    indices: function indices(prefix, key) {\n        return prefix + '[' + key + ']';\n    },\n    repeat: function repeat(prefix) {\n        return prefix;\n    }\n};\n\nvar isArray = Array.isArray;\nvar push = Array.prototype.push;\nvar pushToArray = function (arr, valueOrArray) {\n    push.apply(arr, isArray(valueOrArray) ? valueOrArray : [valueOrArray]);\n};\n\nvar toISO = Date.prototype.toISOString;\n\nvar defaultFormat = formats['default'];\nvar defaults = {\n    addQueryPrefix: false,\n    allowDots: false,\n    charset: 'utf-8',\n    charsetSentinel: false,\n    delimiter: '&',\n    encode: true,\n    encoder: utils.encode,\n    encodeValuesOnly: false,\n    format: defaultFormat,\n    formatter: formats.formatters[defaultFormat],\n    // deprecated\n    indices: false,\n    serializeDate: function serializeDate(date) {\n        return toISO.call(date);\n    },\n    skipNulls: false,\n    strictNullHandling: false\n};\n\nvar isNonNullishPrimitive = function isNonNullishPrimitive(v) {\n    return typeof v === 'string'\n        || typeof v === 'number'\n        || typeof v === 'boolean'\n        || typeof v === 'symbol'\n        || typeof v === 'bigint';\n};\n\nvar stringify = function stringify(\n    object,\n    prefix,\n    generateArrayPrefix,\n    strictNullHandling,\n    skipNulls,\n    encoder,\n    filter,\n    sort,\n    allowDots,\n    serializeDate,\n    formatter,\n    encodeValuesOnly,\n    charset\n) {\n    var obj = object;\n    if (typeof filter === 'function') {\n        obj = filter(prefix, obj);\n    } else if (obj instanceof Date) {\n        obj = serializeDate(obj);\n    } else if (generateArrayPrefix === 'comma' && isArray(obj)) {\n        obj = utils.maybeMap(obj, function (value) {\n            if (value instanceof Date) {\n                return serializeDate(value);\n            }\n            return value;\n        }).join(',');\n    }\n\n    if (obj === null) {\n        if (strictNullHandling) {\n            return encoder && !encodeValuesOnly ? encoder(prefix, defaults.encoder, charset, 'key') : prefix;\n        }\n\n        obj = '';\n    }\n\n    if (isNonNullishPrimitive(obj) || utils.isBuffer(obj)) {\n        if (encoder) {\n            var keyValue = encodeValuesOnly ? prefix : encoder(prefix, defaults.encoder, charset, 'key');\n            return [formatter(keyValue) + '=' + formatter(encoder(obj, defaults.encoder, charset, 'value'))];\n        }\n        return [formatter(prefix) + '=' + formatter(String(obj))];\n    }\n\n    var values = [];\n\n    if (typeof obj === 'undefined') {\n        return values;\n    }\n\n    var objKeys;\n    if (isArray(filter)) {\n        objKeys = filter;\n    } else {\n        var keys = Object.keys(obj);\n        objKeys = sort ? keys.sort(sort) : keys;\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n        var value = obj[key];\n\n        if (skipNulls && value === null) {\n            continue;\n        }\n\n        var keyPrefix = isArray(obj)\n            ? typeof generateArrayPrefix === 'function' ? generateArrayPrefix(prefix, key) : prefix\n            : prefix + (allowDots ? '.' + key : '[' + key + ']');\n\n        pushToArray(values, stringify(\n            value,\n            keyPrefix,\n            generateArrayPrefix,\n            strictNullHandling,\n            skipNulls,\n            encoder,\n            filter,\n            sort,\n            allowDots,\n            serializeDate,\n            formatter,\n            encodeValuesOnly,\n            charset\n        ));\n    }\n\n    return values;\n};\n\nvar normalizeStringifyOptions = function normalizeStringifyOptions(opts) {\n    if (!opts) {\n        return defaults;\n    }\n\n    if (opts.encoder !== null && opts.encoder !== undefined && typeof opts.encoder !== 'function') {\n        throw new TypeError('Encoder has to be a function.');\n    }\n\n    var charset = opts.charset || defaults.charset;\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n\n    var format = formats['default'];\n    if (typeof opts.format !== 'undefined') {\n        if (!has.call(formats.formatters, opts.format)) {\n            throw new TypeError('Unknown format option provided.');\n        }\n        format = opts.format;\n    }\n    var formatter = formats.formatters[format];\n\n    var filter = defaults.filter;\n    if (typeof opts.filter === 'function' || isArray(opts.filter)) {\n        filter = opts.filter;\n    }\n\n    return {\n        addQueryPrefix: typeof opts.addQueryPrefix === 'boolean' ? opts.addQueryPrefix : defaults.addQueryPrefix,\n        allowDots: typeof opts.allowDots === 'undefined' ? defaults.allowDots : !!opts.allowDots,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        delimiter: typeof opts.delimiter === 'undefined' ? defaults.delimiter : opts.delimiter,\n        encode: typeof opts.encode === 'boolean' ? opts.encode : defaults.encode,\n        encoder: typeof opts.encoder === 'function' ? opts.encoder : defaults.encoder,\n        encodeValuesOnly: typeof opts.encodeValuesOnly === 'boolean' ? opts.encodeValuesOnly : defaults.encodeValuesOnly,\n        filter: filter,\n        formatter: formatter,\n        serializeDate: typeof opts.serializeDate === 'function' ? opts.serializeDate : defaults.serializeDate,\n        skipNulls: typeof opts.skipNulls === 'boolean' ? opts.skipNulls : defaults.skipNulls,\n        sort: typeof opts.sort === 'function' ? opts.sort : null,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling\n    };\n};\n\nmodule.exports = function (object, opts) {\n    var obj = object;\n    var options = normalizeStringifyOptions(opts);\n\n    var objKeys;\n    var filter;\n\n    if (typeof options.filter === 'function') {\n        filter = options.filter;\n        obj = filter('', obj);\n    } else if (isArray(options.filter)) {\n        filter = options.filter;\n        objKeys = filter;\n    }\n\n    var keys = [];\n\n    if (typeof obj !== 'object' || obj === null) {\n        return '';\n    }\n\n    var arrayFormat;\n    if (opts && opts.arrayFormat in arrayPrefixGenerators) {\n        arrayFormat = opts.arrayFormat;\n    } else if (opts && 'indices' in opts) {\n        arrayFormat = opts.indices ? 'indices' : 'repeat';\n    } else {\n        arrayFormat = 'indices';\n    }\n\n    var generateArrayPrefix = arrayPrefixGenerators[arrayFormat];\n\n    if (!objKeys) {\n        objKeys = Object.keys(obj);\n    }\n\n    if (options.sort) {\n        objKeys.sort(options.sort);\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (options.skipNulls && obj[key] === null) {\n            continue;\n        }\n        pushToArray(keys, stringify(\n            obj[key],\n            key,\n            generateArrayPrefix,\n            options.strictNullHandling,\n            options.skipNulls,\n            options.encode ? options.encoder : null,\n            options.filter,\n            options.sort,\n            options.allowDots,\n            options.serializeDate,\n            options.formatter,\n            options.encodeValuesOnly,\n            options.charset\n        ));\n    }\n\n    var joined = keys.join(options.delimiter);\n    var prefix = options.addQueryPrefix === true ? '?' : '';\n\n    if (options.charsetSentinel) {\n        if (options.charset === 'iso-8859-1') {\n            // encodeURIComponent('&#10003;'), the \"numeric entity\" representation of a checkmark\n            prefix += 'utf8=%26%2310003%3B&';\n        } else {\n            // encodeURIComponent('✓')\n            prefix += 'utf8=%E2%9C%93&';\n        }\n    }\n\n    return joined.length > 0 ? prefix + joined : '';\n};\n","export default function(r,e,o){if(!r)throw new Error(\"You need to provide `widgetName` in your data\");var t=[\"ais-\"+r];return e&&t.push(\"-\"+e),o&&t.push(\"--\"+o),t.join(\"\")}\n//# sourceMappingURL=suit.js.map\n","import s from\"../util/suit.js\";var t=function(t){var a=t.name;return{props:{classNames:{type:Object,default:void 0}},methods:{suit:function(t,e){var r=s(a,t,e),i=this.classNames&&this.classNames[r];return i?[r,i].join(\" \"):r}}}};export{t as createSuitMixin};\n//# sourceMappingURL=suit.js.map\n","var n=new Set;function a(a){n.has(a)||(n.add(a),console.warn(a))}export{a as warn};\n//# sourceMappingURL=warn.js.map\n","import{warn as t}from\"../util/warn.js\";var e=function(e){void 0===e&&(e={});var n=e.connector;return{inject:{instantSearchInstance:{from:\"$_ais_instantSearchInstance\",default:function(){var t=this.$options._componentTag;throw new TypeError('It looks like you forgot to wrap your Algolia search component \"<'+t+'>\" inside of an \"<ais-instant-search>\" component.')}},getParentIndex:{from:\"$_ais_getParentIndex\",default:function(){var t=this;return function(){return t.instantSearchInstance.mainIndex}}}},data:function(){return{state:null}},created:function(){if(\"function\"==typeof n){if(this.factory=n(this.updateState,function(){}),this.widget=this.factory(this.widgetParams),this.getParentIndex().addWidgets([this.widget]),this.instantSearchInstance.__initialSearchResults&&!this.instantSearchInstance.started){if(\"function\"!=typeof this.instantSearchInstance.__forceRender)throw new Error(\"You are using server side rendering with <ais-instant-search> instead of <ais-instant-search-ssr>.\");this.instantSearchInstance.__forceRender(this.widget,this.getParentIndex())}}else!0!==n&&t(\"You are using the InstantSearch widget mixin, but didn't provide a connector.\\nWhile this is technically possible, and will give you access to the Helper,\\nit's not the recommended way of making custom components.\\n\\nIf you want to disable this message, pass { connector: true } to the mixin.\\n\\nRead more on using connectors: https://alg.li/vue-custom\")},beforeDestroy:function(){this.widget&&this.getParentIndex().removeWidgets([this.widget])},watch:{widgetParams:{handler:function(t){this.state=null,this.getParentIndex().removeWidgets([this.widget]),this.widget=this.factory(t),this.getParentIndex().addWidgets([this.widget])},deep:!0}},methods:{updateState:function(t,e){void 0===t&&(t={}),e||(this.state=t)}}}};export{e as createWidgetMixin};\n//# sourceMappingURL=widget.js.map\n","/**\n * This implementation is taken from Lodash implementation.\n * See: https://github.com/lodash/lodash/blob/4.17.11-npm/escape.js\n */\n// Used to map characters to HTML entities.\nvar htmlEscapes = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#39;'\n}; // Used to match HTML entities and HTML characters.\n\nvar regexUnescapedHtml = /[&<>\"']/g;\nvar regexHasUnescapedHtml = RegExp(regexUnescapedHtml.source);\n/**\n * Converts the characters \"&\", \"<\", \">\", '\"', and \"'\" in `string` to their\n * corresponding HTML entities.\n */\n\nfunction escape(value) {\n  return value && regexHasUnescapedHtml.test(value) ? value.replace(regexUnescapedHtml, function (character) {\n    return htmlEscapes[character];\n  }) : value;\n}\n\nexport default escape;","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/**\n * This implementation is taken from Lodash implementation.\n * See: https://github.com/lodash/lodash/blob/master/isPlainObject.js\n */\nfunction getTag(value) {\n  if (value === null) {\n    return value === undefined ? '[object Undefined]' : '[object Null]';\n  }\n\n  return Object.prototype.toString.call(value);\n}\n\nfunction isObjectLike(value) {\n  return _typeof(value) === 'object' && value !== null;\n}\n/**\n * Checks if `value` is a plain object.\n *\n * A plain object is an object created by the `Object`\n * constructor or with a `[[Prototype]]` of `null`.\n */\n\n\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || getTag(value) !== '[object Object]') {\n    return false;\n  }\n\n  if (Object.getPrototypeOf(value) === null) {\n    return true;\n  }\n\n  var proto = value;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(value) === proto;\n}\n\nexport default isPlainObject;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { isPlainObject, escape } from '../lib/utils';\nexport var TAG_PLACEHOLDER = {\n  highlightPreTag: '__ais-highlight__',\n  highlightPostTag: '__/ais-highlight__'\n};\nexport var TAG_REPLACEMENT = {\n  highlightPreTag: '<mark>',\n  highlightPostTag: '</mark>'\n};\n\nfunction replaceTagsAndEscape(value) {\n  return escape(value).replace(new RegExp(TAG_PLACEHOLDER.highlightPreTag, 'g'), TAG_REPLACEMENT.highlightPreTag).replace(new RegExp(TAG_PLACEHOLDER.highlightPostTag, 'g'), TAG_REPLACEMENT.highlightPostTag);\n}\n\nfunction recursiveEscape(input) {\n  if (isPlainObject(input) && typeof input.value !== 'string') {\n    return Object.keys(input).reduce(function (acc, key) {\n      return _objectSpread({}, acc, _defineProperty({}, key, recursiveEscape(input[key])));\n    }, {});\n  }\n\n  if (Array.isArray(input)) {\n    return input.map(recursiveEscape);\n  }\n\n  return _objectSpread({}, input, {\n    value: replaceTagsAndEscape(input.value)\n  });\n}\n\nexport default function escapeHits(hits) {\n  if (hits.__escaped === undefined) {\n    // We don't override the value on hit because it will mutate the raw results\n    // instead we make a shallow copy and we assign the escaped values on it.\n    hits = hits.map(function (_ref) {\n      var hit = _extends({}, _ref);\n\n      if (hit._highlightResult) {\n        hit._highlightResult = recursiveEscape(hit._highlightResult);\n      }\n\n      if (hit._snippetResult) {\n        hit._snippetResult = recursiveEscape(hit._snippetResult);\n      }\n\n      return hit;\n    });\n    hits.__escaped = true;\n  }\n\n  return hits;\n}\nexport function escapeFacets(facetHits) {\n  return facetHits.map(function (h) {\n    return _objectSpread({}, h, {\n      highlighted: replaceTagsAndEscape(h.highlighted)\n    });\n  });\n}","export var createDocumentationLink = function createDocumentationLink(_ref) {\n  var name = _ref.name,\n      _ref$connector = _ref.connector,\n      connector = _ref$connector === void 0 ? false : _ref$connector;\n  return ['https://www.algolia.com/doc/api-reference/widgets/', name, '/js/', connector ? '#connector' : ''].join('');\n};\nexport var createDocumentationMessageGenerator = function createDocumentationMessageGenerator() {\n  for (var _len = arguments.length, widgets = new Array(_len), _key = 0; _key < _len; _key++) {\n    widgets[_key] = arguments[_key];\n  }\n\n  var links = widgets.map(function (widget) {\n    return createDocumentationLink(widget);\n  }).join(', ');\n  return function (message) {\n    return [message, \"See documentation: \".concat(links)].filter(Boolean).join('\\n\\n');\n  };\n};","function noop() {}\n\nexport default noop;","function getObjectType(object) {\n  return Object.prototype.toString.call(object).slice(8, -1);\n}\n\nexport default getObjectType;","import getObjectType from './getObjectType';\n\nfunction checkRendering(rendering, usage) {\n  if (rendering === undefined || typeof rendering !== 'function') {\n    throw new Error(\"The render function is not valid (received type \".concat(getObjectType(rendering), \").\\n\\n\").concat(usage));\n  }\n}\n\nexport default checkRendering;","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nvar buildPayload = function buildPayload(_ref) {\n  var index = _ref.index,\n      widgetType = _ref.widgetType,\n      methodName = _ref.methodName,\n      args = _ref.args;\n\n  if (args.length === 1 && _typeof(args[0]) === 'object') {\n    return args[0];\n  }\n\n  var eventType = args[0];\n  var hits = args[1];\n  var eventName = args[2];\n\n  if (!hits) {\n    if (process.env.NODE_ENV === 'development') {\n      throw new Error(\"You need to pass hit or hits as the second argument like:\\n  \".concat(methodName, \"(eventType, hit);\\n  \"));\n    } else {\n      return null;\n    }\n  }\n\n  if ((eventType === 'click' || eventType === 'conversion') && !eventName) {\n    if (process.env.NODE_ENV === 'development') {\n      throw new Error(\"You need to pass eventName as the third argument for 'click' or 'conversion' events like:\\n  \".concat(methodName, \"('click', hit, 'Product Purchased');\\n\\n  To learn more about event naming: https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/in-depth/clicks-conversions-best-practices/\\n  \"));\n    } else {\n      return null;\n    }\n  }\n\n  var hitsArray = Array.isArray(hits) ? hits : [hits];\n\n  if (hitsArray.length === 0) {\n    return null;\n  }\n\n  var queryID = hitsArray[0].__queryID;\n  var objectIDs = hitsArray.map(function (hit) {\n    return hit.objectID;\n  });\n  var positions = hitsArray.map(function (hit) {\n    return hit.__position;\n  });\n\n  if (eventType === 'view') {\n    return {\n      insightsMethod: 'viewedObjectIDs',\n      widgetType: widgetType,\n      eventType: eventType,\n      payload: {\n        eventName: eventName || 'Hits Viewed',\n        index: index,\n        objectIDs: objectIDs\n      }\n    };\n  } else if (eventType === 'click') {\n    return {\n      insightsMethod: 'clickedObjectIDsAfterSearch',\n      widgetType: widgetType,\n      eventType: eventType,\n      payload: {\n        eventName: eventName,\n        index: index,\n        queryID: queryID,\n        objectIDs: objectIDs,\n        positions: positions\n      }\n    };\n  } else if (eventType === 'conversion') {\n    return {\n      insightsMethod: 'convertedObjectIDsAfterSearch',\n      widgetType: widgetType,\n      eventType: eventType,\n      payload: {\n        eventName: eventName,\n        index: index,\n        queryID: queryID,\n        objectIDs: objectIDs\n      }\n    };\n  } else if (process.env.NODE_ENV === 'development') {\n    throw new Error(\"eventType(\\\"\".concat(eventType, \"\\\") is not supported.\\n    If you want to send a custom payload, you can pass one object: \").concat(methodName, \"(customPayload);\\n    \"));\n  } else {\n    return null;\n  }\n};\n\nexport function createSendEventForHits(_ref2) {\n  var instantSearchInstance = _ref2.instantSearchInstance,\n      index = _ref2.index,\n      widgetType = _ref2.widgetType;\n\n  var sendEventForHits = function sendEventForHits() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var payload = buildPayload({\n      widgetType: widgetType,\n      index: index,\n      methodName: 'sendEvent',\n      args: args\n    });\n\n    if (payload) {\n      instantSearchInstance.sendEventToInsights(payload);\n    }\n  };\n\n  return sendEventForHits;\n}\nexport function createBindEventForHits(_ref3) {\n  var index = _ref3.index,\n      widgetType = _ref3.widgetType;\n\n  var bindEventForHits = function bindEventForHits() {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    var payload = buildPayload({\n      widgetType: widgetType,\n      index: index,\n      methodName: 'bindEvent',\n      args: args\n    });\n    return payload ? \"data-insights-event=\".concat(btoa(JSON.stringify(payload))) : '';\n  };\n\n  return bindEventForHits;\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport escapeHits, { TAG_PLACEHOLDER } from '../../lib/escape-highlight';\nimport { checkRendering, createDocumentationMessageGenerator, createSendEventForHits, noop, warning } from '../../lib/utils';\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'autocomplete',\n  connector: true\n});\n\nvar connectAutocomplete = function connectAutocomplete(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  checkRendering(renderFn, withUsage());\n  return function (widgetParams) {\n    var _ref = widgetParams || {},\n        _ref$escapeHTML = _ref.escapeHTML,\n        escapeHTML = _ref$escapeHTML === void 0 ? true : _ref$escapeHTML;\n\n    process.env.NODE_ENV === 'development' ? warning(!widgetParams.indices, \"\\nThe option `indices` has been removed from the Autocomplete connector.\\n\\nThe indices to target are now inferred from the widgets tree.\\n\".concat(Array.isArray(widgetParams.indices) ? \"\\nAn alternative would be:\\n\\nconst autocomplete = connectAutocomplete(renderer);\\n\\nsearch.addWidgets([\\n  \".concat(widgetParams.indices.map(function (_ref2) {\n      var value = _ref2.value;\n      return \"index({ indexName: '\".concat(value, \"' }),\");\n    }).join('\\n  '), \"\\n  autocomplete()\\n]);\\n\") : '', \"\\n      \")) : void 0;\n    var connectorState = {};\n    return {\n      $$type: 'ais.autocomplete',\n      init: function init(initOptions) {\n        var instantSearchInstance = initOptions.instantSearchInstance;\n        renderFn(_objectSpread({}, this.getWidgetRenderState(initOptions), {\n          instantSearchInstance: instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        var instantSearchInstance = renderOptions.instantSearchInstance;\n        var renderState = this.getWidgetRenderState(renderOptions);\n        renderState.indices.forEach(function (_ref3) {\n          var sendEvent = _ref3.sendEvent,\n              hits = _ref3.hits;\n          sendEvent('view', hits);\n        });\n        renderFn(_objectSpread({}, renderState, {\n          instantSearchInstance: instantSearchInstance\n        }), false);\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread({}, renderState, {\n          autocomplete: this.getWidgetRenderState(renderOptions)\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref4) {\n        var _this = this;\n\n        var helper = _ref4.helper,\n            scopedResults = _ref4.scopedResults,\n            instantSearchInstance = _ref4.instantSearchInstance;\n\n        if (!connectorState.refine) {\n          connectorState.refine = function (query) {\n            helper.setQuery(query).search();\n          };\n        }\n\n        var indices = scopedResults.map(function (scopedResult) {\n          // We need to escape the hits because highlighting\n          // exposes HTML tags to the end-user.\n          scopedResult.results.hits = escapeHTML ? escapeHits(scopedResult.results.hits) : scopedResult.results.hits;\n          var sendEvent = createSendEventForHits({\n            instantSearchInstance: instantSearchInstance,\n            index: scopedResult.results.index,\n            widgetType: _this.$$type\n          });\n          return {\n            indexId: scopedResult.indexId,\n            indexName: scopedResult.results.index,\n            hits: scopedResult.results.hits,\n            results: scopedResult.results,\n            sendEvent: sendEvent\n          };\n        });\n        return {\n          currentRefinement: helper.state.query || '',\n          indices: indices,\n          refine: connectorState.refine,\n          widgetParams: widgetParams\n        };\n      },\n      getWidgetUiState: function getWidgetUiState(uiState, _ref5) {\n        var searchParameters = _ref5.searchParameters;\n        var query = searchParameters.query || '';\n\n        if (query === '' || uiState && uiState.query === query) {\n          return uiState;\n        }\n\n        return _objectSpread({}, uiState, {\n          query: query\n        });\n      },\n      getWidgetSearchParameters: function getWidgetSearchParameters(searchParameters, _ref6) {\n        var uiState = _ref6.uiState;\n        var parameters = {\n          query: uiState.query || ''\n        };\n\n        if (!escapeHTML) {\n          return searchParameters.setQueryParameters(parameters);\n        }\n\n        return searchParameters.setQueryParameters(_objectSpread({}, parameters, {}, TAG_PLACEHOLDER));\n      },\n      dispose: function dispose(_ref7) {\n        var state = _ref7.state;\n        unmountFn();\n        var stateWithoutQuery = state.setQueryParameter('query', undefined);\n\n        if (!escapeHTML) {\n          return stateWithoutQuery;\n        }\n\n        return stateWithoutQuery.setQueryParameters(Object.keys(TAG_PLACEHOLDER).reduce(function (acc, key) {\n          return _objectSpread({}, acc, _defineProperty({}, key, undefined));\n        }, {}));\n      }\n    };\n  };\n};\n\nexport default connectAutocomplete;","<template>\n  <div\n    :class=\"suit()\"\n    v-if=\"state\"\n  >\n    <slot\n      :refine=\"state.refine\"\n      :current-refinement=\"state.currentRefinement\"\n      :indices=\"state.indices\"\n    >\n      <p>This widget doesn't render anything without a filled in default slot.</p>\n      <p>query, function to refine and results are provided.</p>\n      <pre>refine: Function</pre>\n      <pre>currentRefinement: \"{{ state.currentRefinement }}\"</pre>\n      <details>\n        <summary><code>indices</code>:</summary>\n        <pre>{{ state.indices }}</pre>\n      </details>\n    </slot>\n  </div>\n</template>\n\n<script>\nimport { createWidgetMixin } from '../mixins/widget';\nimport { connectAutocomplete } from 'instantsearch.js/es/connectors';\nimport { createSuitMixin } from '../mixins/suit';\n\nexport default {\n  name: 'AisAutocomplete',\n  mixins: [\n    createWidgetMixin({ connector: connectAutocomplete }),\n    createSuitMixin({ name: 'Autocomplete' }),\n  ],\n  props: {\n    escapeHTML: {\n      type: Boolean,\n      required: false,\n      default: true,\n    },\n  },\n  computed: {\n    widgetParams() {\n      return {\n        escapeHTML: this.escapeHTML,\n      };\n    },\n  },\n};\n</script>\n","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { checkRendering, warning, createDocumentationMessageGenerator, isEqual, noop } from '../../lib/utils';\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'breadcrumb',\n  connector: true\n});\n\nvar connectBreadcrumb = function connectBreadcrumb(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  checkRendering(renderFn, withUsage());\n  var connectorState = {};\n  return function (widgetParams) {\n    var _ref = widgetParams || {},\n        attributes = _ref.attributes,\n        _ref$separator = _ref.separator,\n        separator = _ref$separator === void 0 ? ' > ' : _ref$separator,\n        _ref$rootPath = _ref.rootPath,\n        rootPath = _ref$rootPath === void 0 ? null : _ref$rootPath,\n        _ref$transformItems = _ref.transformItems,\n        transformItems = _ref$transformItems === void 0 ? function (items) {\n      return items;\n    } : _ref$transformItems;\n\n    if (!attributes || !Array.isArray(attributes) || attributes.length === 0) {\n      throw new Error(withUsage('The `attributes` option expects an array of strings.'));\n    }\n\n    var _attributes = _slicedToArray(attributes, 1),\n        hierarchicalFacetName = _attributes[0];\n\n    return {\n      $$type: 'ais.breadcrumb',\n      init: function init(initOptions) {\n        renderFn(_objectSpread({}, this.getWidgetRenderState(initOptions), {\n          instantSearchInstance: initOptions.instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        renderFn(_objectSpread({}, this.getWidgetRenderState(renderOptions), {\n          instantSearchInstance: renderOptions.instantSearchInstance\n        }), false);\n      },\n      dispose: function dispose() {\n        unmountFn();\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread({}, renderState, {\n          breadcrumb: _objectSpread({}, renderState.breadcrumb, _defineProperty({}, hierarchicalFacetName, this.getWidgetRenderState(renderOptions)))\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref2) {\n        var helper = _ref2.helper,\n            createURL = _ref2.createURL,\n            results = _ref2.results,\n            state = _ref2.state;\n\n        function getItems() {\n          if (!results) {\n            return [];\n          }\n\n          var _state$hierarchicalFa = _slicedToArray(state.hierarchicalFacets, 1),\n              facetName = _state$hierarchicalFa[0].name;\n\n          var facetValues = results.getFacetValues(facetName, {});\n          var data = Array.isArray(facetValues.data) ? facetValues.data : [];\n          var items = transformItems(shiftItemsValues(prepareItems(data)));\n          return items;\n        }\n\n        var items = getItems();\n\n        if (!connectorState.createURL) {\n          connectorState.createURL = function (facetValue) {\n            if (!facetValue) {\n              var breadcrumb = helper.getHierarchicalFacetBreadcrumb(hierarchicalFacetName);\n\n              if (breadcrumb.length > 0) {\n                return createURL(helper.state.toggleFacetRefinement(hierarchicalFacetName, breadcrumb[0]));\n              }\n            }\n\n            return createURL(helper.state.toggleFacetRefinement(hierarchicalFacetName, facetValue));\n          };\n        }\n\n        if (!connectorState.refine) {\n          connectorState.refine = function (facetValue) {\n            if (!facetValue) {\n              var breadcrumb = helper.getHierarchicalFacetBreadcrumb(hierarchicalFacetName);\n\n              if (breadcrumb.length > 0) {\n                helper.toggleRefinement(hierarchicalFacetName, breadcrumb[0]).search();\n              }\n            } else {\n              helper.toggleRefinement(hierarchicalFacetName, facetValue).search();\n            }\n          };\n        }\n\n        return {\n          canRefine: items.length > 0,\n          createURL: connectorState.createURL,\n          items: items,\n          refine: connectorState.refine,\n          widgetParams: widgetParams\n        };\n      },\n      getWidgetSearchParameters: function getWidgetSearchParameters(searchParameters) {\n        if (searchParameters.isHierarchicalFacet(hierarchicalFacetName)) {\n          var facet = searchParameters.getHierarchicalFacetByName(hierarchicalFacetName);\n          process.env.NODE_ENV === 'development' ? warning(isEqual(facet.attributes, attributes) && facet.separator === separator && facet.rootPath === rootPath, 'Using Breadcrumb and HierarchicalMenu on the same facet with different options overrides the configuration of the HierarchicalMenu.') : void 0;\n          return searchParameters;\n        }\n\n        return searchParameters.addHierarchicalFacet({\n          name: hierarchicalFacetName,\n          attributes: attributes,\n          separator: separator,\n          rootPath: rootPath\n        });\n      }\n    };\n  };\n};\n\nfunction prepareItems(data) {\n  return data.reduce(function (result, currentItem) {\n    if (currentItem.isRefined) {\n      result.push({\n        label: currentItem.name,\n        value: currentItem.path\n      });\n\n      if (Array.isArray(currentItem.data)) {\n        result = result.concat(prepareItems(currentItem.data));\n      }\n    }\n\n    return result;\n  }, []);\n}\n\nfunction shiftItemsValues(array) {\n  return array.map(function (x, idx) {\n    return {\n      label: x.label,\n      value: idx + 1 === array.length ? null : array[idx + 1].value\n    };\n  });\n}\n\nexport default connectBreadcrumb;","import t from\"vue\";var e=\"instantSearchPanelEmitter\",n=\"PANEL_CHANGE_EVENT\",i=function(){return{props:{emitter:{type:Object,required:!1,default:function(){return new t({name:\"PanelProvider\"})}}},provide:function(){var t;return(t={}).instantSearchPanelEmitter=this.emitter,t},data:function(){return{canRefine:!0}},created:function(){var t=this;this.emitter.$on(\"PANEL_CHANGE_EVENT\",function(e){t.updateCanRefine(e)})},beforeDestroy:function(){this.emitter.$destroy()},methods:{updateCanRefine:function(t){this.canRefine=t}}}},r=function(t){var e=t.mapStateToCanRefine;return{inject:{emitter:{from:\"instantSearchPanelEmitter\",default:function(){return{$emit:function(){}}}}},data:function(){return{state:null,hasAlreadyEmitted:!1}},watch:{state:{immediate:!0,handler:function(t,n){if(t){var i=e(n||{}),r=e(t);this.hasAlreadyEmitted&&i===r||(this.emitter.$emit(\"PANEL_CHANGE_EVENT\",r),this.hasAlreadyEmitted=!0)}}}}}};export{n as PANEL_CHANGE_EVENT,e as PANEL_EMITTER_NAMESPACE,r as createPanelConsumerMixin,i as createPanelProviderMixin};\n//# sourceMappingURL=panel.js.map\n","<template>\n  <div\n    v-if=\"state\"\n    :class=\"[suit(), !state.canRefine && suit('', 'noRefinement')]\"\n  >\n    <slot\n      :items=\"state.items\"\n      :can-refine=\"state.canRefine\"\n      :refine=\"state.refine\"\n      :createURL=\"state.createURL\"\n    >\n      <ul :class=\"suit('list')\">\n        <li :class=\"[suit('item'), !state.items.length && suit('item', 'selected')]\">\n          <a\n            v-if=\"Boolean(state.items.length)\"\n            :href=\"state.createURL()\"\n            :class=\"suit('link')\"\n            @click.prevent=\"state.refine()\"\n          >\n            <slot name=\"rootLabel\">Home</slot>\n          </a>\n          <span v-else>\n            <slot name=\"rootLabel\">Home</slot>\n          </span>\n        </li>\n        <li\n          v-for=\"(item, index) in state.items\"\n          :key=\"item.label\"\n          :class=\"[suit('item'), isLastItem(index) && suit('item', 'selected')]\"\n        >\n          <span\n            :class=\"suit('separator')\"\n            aria-hidden=\"true\"\n          >\n            <slot name=\"separator\">></slot>\n          </span>\n          <a\n            v-if=\"!isLastItem(index)\"\n            :href=\"state.createURL(item.value)\"\n            :class=\"suit('link')\"\n            @click.prevent=\"state.refine(item.value)\"\n          >{{ item.label }}</a>\n          <span v-else>{{ item.label }}</span>\n        </li>\n      </ul>\n    </slot>\n  </div>\n</template>\n\n<script>\nimport { connectBreadcrumb } from 'instantsearch.js/es/connectors';\nimport { createPanelConsumerMixin } from '../mixins/panel';\nimport { createSuitMixin } from '../mixins/suit';\nimport { createWidgetMixin } from '../mixins/widget';\n\nexport default {\n  name: 'AisBreadcrumb',\n  mixins: [\n    createWidgetMixin({ connector: connectBreadcrumb }),\n    createPanelConsumerMixin({\n      mapStateToCanRefine: state => Boolean(state.canRefine),\n    }),\n    createSuitMixin({ name: 'Breadcrumb' }),\n  ],\n  props: {\n    attributes: {\n      type: Array,\n      required: true,\n    },\n    separator: {\n      type: String,\n      default: ' > ',\n    },\n    rootPath: {\n      type: String,\n      default: null,\n    },\n    transformItems: {\n      type: Function,\n      default(items) {\n        return items;\n      },\n    },\n  },\n  computed: {\n    widgetParams() {\n      return {\n        attributes: this.attributes,\n        separator: this.separator,\n        rootPath: this.rootPath,\n        transformItems: this.transformItems,\n      };\n    },\n  },\n  methods: {\n    isLastItem(index) {\n      return this.state.items.length - 1 === index;\n    },\n  },\n};\n</script>\n","/**\n * Clears the refinements of a SearchParameters object based on rules provided.\n * The included attributes list is applied before the excluded attributes list. If the list\n * is not provided, this list of all the currently refined attributes is used as included attributes.\n * @param {object} $0 parameters\n * @param {Helper} $0.helper instance of the Helper\n * @param {string[]} [$0.attributesToClear = []] list of parameters to clear\n * @returns {SearchParameters} search parameters with refinements cleared\n */\nfunction clearRefinements(_ref) {\n  var helper = _ref.helper,\n      _ref$attributesToClea = _ref.attributesToClear,\n      attributesToClear = _ref$attributesToClea === void 0 ? [] : _ref$attributesToClea;\n  var finalState = helper.state.setPage(0);\n  finalState = attributesToClear.reduce(function (state, attribute) {\n    if (finalState.isNumericRefined(attribute)) {\n      return state.removeNumericRefinement(attribute);\n    }\n\n    if (finalState.isHierarchicalFacet(attribute)) {\n      return state.removeHierarchicalFacetRefinement(attribute);\n    }\n\n    if (finalState.isDisjunctiveFacet(attribute)) {\n      return state.removeDisjunctiveFacetRefinement(attribute);\n    }\n\n    if (finalState.isConjunctiveFacet(attribute)) {\n      return state.removeFacetRefinement(attribute);\n    }\n\n    return state;\n  }, finalState);\n\n  if (attributesToClear.indexOf('query') !== -1) {\n    finalState = finalState.setQuery('');\n  }\n\n  return finalState;\n}\n\nexport default clearRefinements;","// We aren't using the native `Array.prototype.findIndex` because the refactor away from Lodash is not\n// published as a major version.\n// Relying on the `findIndex` polyfill on user-land, which before was only required for niche use-cases,\n// was decided as too risky.\n// @MAJOR Replace with the native `Array.prototype.findIndex` method\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/findIndex\nfunction findIndex(array, comparator) {\n  if (!Array.isArray(array)) {\n    return -1;\n  }\n\n  for (var i = 0; i < array.length; i++) {\n    if (comparator(array[i])) {\n      return i;\n    }\n  }\n\n  return -1;\n}\n\nexport default findIndex;","function uniq(array) {\n  return array.filter(function (value, index, self) {\n    return self.indexOf(value) === index;\n  });\n}\n\nexport default uniq;","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport findIndex from './findIndex';\nimport uniq from './uniq';\n\nvar mergeWithRest = function mergeWithRest(left, right) {\n  var facets = right.facets,\n      disjunctiveFacets = right.disjunctiveFacets,\n      facetsRefinements = right.facetsRefinements,\n      facetsExcludes = right.facetsExcludes,\n      disjunctiveFacetsRefinements = right.disjunctiveFacetsRefinements,\n      numericRefinements = right.numericRefinements,\n      tagRefinements = right.tagRefinements,\n      hierarchicalFacets = right.hierarchicalFacets,\n      hierarchicalFacetsRefinements = right.hierarchicalFacetsRefinements,\n      ruleContexts = right.ruleContexts,\n      rest = _objectWithoutProperties(right, [\"facets\", \"disjunctiveFacets\", \"facetsRefinements\", \"facetsExcludes\", \"disjunctiveFacetsRefinements\", \"numericRefinements\", \"tagRefinements\", \"hierarchicalFacets\", \"hierarchicalFacetsRefinements\", \"ruleContexts\"]);\n\n  return left.setQueryParameters(rest);\n}; // Merge facets\n\n\nvar mergeFacets = function mergeFacets(left, right) {\n  return right.facets.reduce(function (_, name) {\n    return _.addFacet(name);\n  }, left);\n};\n\nvar mergeDisjunctiveFacets = function mergeDisjunctiveFacets(left, right) {\n  return right.disjunctiveFacets.reduce(function (_, name) {\n    return _.addDisjunctiveFacet(name);\n  }, left);\n};\n\nvar mergeHierarchicalFacets = function mergeHierarchicalFacets(left, right) {\n  return left.setQueryParameters({\n    hierarchicalFacets: right.hierarchicalFacets.reduce(function (facets, facet) {\n      var index = findIndex(facets, function (_) {\n        return _.name === facet.name;\n      });\n\n      if (index === -1) {\n        return facets.concat(facet);\n      }\n\n      var nextFacets = facets.slice();\n      nextFacets.splice(index, 1, facet);\n      return nextFacets;\n    }, left.hierarchicalFacets)\n  });\n}; // Merge facet refinements\n\n\nvar mergeTagRefinements = function mergeTagRefinements(left, right) {\n  return right.tagRefinements.reduce(function (_, value) {\n    return _.addTagRefinement(value);\n  }, left);\n};\n\nvar mergeFacetRefinements = function mergeFacetRefinements(left, right) {\n  return left.setQueryParameters({\n    facetsRefinements: _objectSpread({}, left.facetsRefinements, {}, right.facetsRefinements)\n  });\n};\n\nvar mergeFacetsExcludes = function mergeFacetsExcludes(left, right) {\n  return left.setQueryParameters({\n    facetsExcludes: _objectSpread({}, left.facetsExcludes, {}, right.facetsExcludes)\n  });\n};\n\nvar mergeDisjunctiveFacetsRefinements = function mergeDisjunctiveFacetsRefinements(left, right) {\n  return left.setQueryParameters({\n    disjunctiveFacetsRefinements: _objectSpread({}, left.disjunctiveFacetsRefinements, {}, right.disjunctiveFacetsRefinements)\n  });\n};\n\nvar mergeNumericRefinements = function mergeNumericRefinements(left, right) {\n  return left.setQueryParameters({\n    numericRefinements: _objectSpread({}, left.numericRefinements, {}, right.numericRefinements)\n  });\n};\n\nvar mergeHierarchicalFacetsRefinements = function mergeHierarchicalFacetsRefinements(left, right) {\n  return left.setQueryParameters({\n    hierarchicalFacetsRefinements: _objectSpread({}, left.hierarchicalFacetsRefinements, {}, right.hierarchicalFacetsRefinements)\n  });\n};\n\nvar mergeRuleContexts = function mergeRuleContexts(left, right) {\n  var ruleContexts = uniq([].concat(left.ruleContexts).concat(right.ruleContexts).filter(Boolean));\n\n  if (ruleContexts.length > 0) {\n    return left.setQueryParameters({\n      ruleContexts: ruleContexts\n    });\n  }\n\n  return left;\n};\n\nvar merge = function merge() {\n  for (var _len = arguments.length, parameters = new Array(_len), _key = 0; _key < _len; _key++) {\n    parameters[_key] = arguments[_key];\n  }\n\n  return parameters.reduce(function (left, right) {\n    var hierarchicalFacetsRefinementsMerged = mergeHierarchicalFacetsRefinements(left, right);\n    var hierarchicalFacetsMerged = mergeHierarchicalFacets(hierarchicalFacetsRefinementsMerged, right);\n    var tagRefinementsMerged = mergeTagRefinements(hierarchicalFacetsMerged, right);\n    var numericRefinementsMerged = mergeNumericRefinements(tagRefinementsMerged, right);\n    var disjunctiveFacetsRefinementsMerged = mergeDisjunctiveFacetsRefinements(numericRefinementsMerged, right);\n    var facetsExcludesMerged = mergeFacetsExcludes(disjunctiveFacetsRefinementsMerged, right);\n    var facetRefinementsMerged = mergeFacetRefinements(facetsExcludesMerged, right);\n    var disjunctiveFacetsMerged = mergeDisjunctiveFacets(facetRefinementsMerged, right);\n    var ruleContextsMerged = mergeRuleContexts(disjunctiveFacetsMerged, right);\n    var facetsMerged = mergeFacets(ruleContextsMerged, right);\n    return mergeWithRest(facetsMerged, right);\n  });\n};\n\nexport default merge;","// We aren't using the native `Array.prototype.find` because the refactor away from Lodash is not\n// published as a major version.\n// Relying on the `find` polyfill on user-land, which before was only required for niche use-cases,\n// was decided as too risky.\n// @MAJOR Replace with the native `Array.prototype.find` method\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/find\nfunction find(items, predicate) {\n  var value;\n\n  for (var i = 0; i < items.length; i++) {\n    value = items[i]; // inlined for performance: if (Call(predicate, thisArg, [value, i, list])) {\n\n    if (predicate(value, i, items)) {\n      return value;\n    }\n  }\n\n  return undefined;\n}\n\nexport default find;","function unescapeRefinement(value) {\n  return String(value).replace(/^\\\\-/, '-');\n}\n\nexport default unescapeRefinement;","import find from './find';\nimport unescapeRefinement from './unescapeRefinement';\n\nfunction getRefinement(state, type, attribute, name) {\n  var resultsFacets = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : [];\n  var res = {\n    type: type,\n    attribute: attribute,\n    name: name\n  };\n  var facet = find(resultsFacets, function (resultsFacet) {\n    return resultsFacet.name === attribute;\n  });\n  var count;\n\n  if (type === 'hierarchical') {\n    (function () {\n      var facetDeclaration = state.getHierarchicalFacetByName(attribute);\n      var nameParts = name.split(facetDeclaration.separator);\n\n      var getFacetRefinement = function getFacetRefinement(facetData) {\n        return function (refinementKey) {\n          return facetData[refinementKey];\n        };\n      };\n\n      var _loop = function _loop(i) {\n        facet = facet && facet.data && find(Object.keys(facet.data).map(getFacetRefinement(facet.data)), function (refinement) {\n          return refinement.name === nameParts[i];\n        });\n      };\n\n      for (var i = 0; facet !== undefined && i < nameParts.length; ++i) {\n        _loop(i);\n      }\n\n      count = facet && facet.count;\n    })();\n  } else {\n    count = facet && facet.data && facet.data[res.name];\n  }\n\n  var exhaustive = facet && facet.exhaustive;\n\n  if (count !== undefined) {\n    res.count = count;\n  }\n\n  if (exhaustive !== undefined) {\n    res.exhaustive = exhaustive;\n  }\n\n  return res;\n}\n\nfunction getRefinements(results, state) {\n  var clearsQuery = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  var refinements = [];\n  var _state$facetsRefineme = state.facetsRefinements,\n      facetsRefinements = _state$facetsRefineme === void 0 ? {} : _state$facetsRefineme,\n      _state$facetsExcludes = state.facetsExcludes,\n      facetsExcludes = _state$facetsExcludes === void 0 ? {} : _state$facetsExcludes,\n      _state$disjunctiveFac = state.disjunctiveFacetsRefinements,\n      disjunctiveFacetsRefinements = _state$disjunctiveFac === void 0 ? {} : _state$disjunctiveFac,\n      _state$hierarchicalFa = state.hierarchicalFacetsRefinements,\n      hierarchicalFacetsRefinements = _state$hierarchicalFa === void 0 ? {} : _state$hierarchicalFa,\n      _state$numericRefinem = state.numericRefinements,\n      numericRefinements = _state$numericRefinem === void 0 ? {} : _state$numericRefinem,\n      _state$tagRefinements = state.tagRefinements,\n      tagRefinements = _state$tagRefinements === void 0 ? [] : _state$tagRefinements;\n  Object.keys(facetsRefinements).forEach(function (attribute) {\n    var refinementNames = facetsRefinements[attribute];\n    refinementNames.forEach(function (refinementName) {\n      refinements.push(getRefinement(state, 'facet', attribute, refinementName, results.facets));\n    });\n  });\n  Object.keys(facetsExcludes).forEach(function (attribute) {\n    var refinementNames = facetsExcludes[attribute];\n    refinementNames.forEach(function (refinementName) {\n      refinements.push({\n        type: 'exclude',\n        attribute: attribute,\n        name: refinementName,\n        exclude: true\n      });\n    });\n  });\n  Object.keys(disjunctiveFacetsRefinements).forEach(function (attribute) {\n    var refinementNames = disjunctiveFacetsRefinements[attribute];\n    refinementNames.forEach(function (refinementName) {\n      refinements.push(getRefinement(state, 'disjunctive', attribute, // We unescape any disjunctive refined values with `unescapeRefinement` because\n      // they can be escaped on negative numeric values with `escapeRefinement`.\n      unescapeRefinement(refinementName), results.disjunctiveFacets));\n    });\n  });\n  Object.keys(hierarchicalFacetsRefinements).forEach(function (attribute) {\n    var refinementNames = hierarchicalFacetsRefinements[attribute];\n    refinementNames.forEach(function (refinement) {\n      refinements.push(getRefinement(state, 'hierarchical', attribute, refinement, results.hierarchicalFacets));\n    });\n  });\n  Object.keys(numericRefinements).forEach(function (attribute) {\n    var operators = numericRefinements[attribute];\n    Object.keys(operators).forEach(function (operatorOriginal) {\n      var operator = operatorOriginal;\n      var valueOrValues = operators[operator];\n      var refinementNames = Array.isArray(valueOrValues) ? valueOrValues : [valueOrValues];\n      refinementNames.forEach(function (refinementName) {\n        refinements.push({\n          type: 'numeric',\n          attribute: attribute,\n          name: \"\".concat(refinementName),\n          numericValue: refinementName,\n          operator: operator\n        });\n      });\n    });\n  });\n  tagRefinements.forEach(function (refinementName) {\n    refinements.push({\n      type: 'tag',\n      attribute: '_tags',\n      name: refinementName\n    });\n  });\n\n  if (clearsQuery && state.query && state.query.trim()) {\n    refinements.push({\n      attribute: 'query',\n      type: 'query',\n      name: state.query,\n      query: state.query\n    });\n  }\n\n  return refinements;\n}\n\nexport default getRefinements;","function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { checkRendering, clearRefinements, getRefinements, createDocumentationMessageGenerator, noop, uniq, mergeSearchParameters } from '../../lib/utils';\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'clear-refinements',\n  connector: true\n});\n\nvar connectClearRefinements = function connectClearRefinements(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  checkRendering(renderFn, withUsage());\n  return function (widgetParams) {\n    var _ref = widgetParams || {},\n        _ref$includedAttribut = _ref.includedAttributes,\n        includedAttributes = _ref$includedAttribut === void 0 ? [] : _ref$includedAttribut,\n        _ref$excludedAttribut = _ref.excludedAttributes,\n        excludedAttributes = _ref$excludedAttribut === void 0 ? ['query'] : _ref$excludedAttribut,\n        _ref$transformItems = _ref.transformItems,\n        transformItems = _ref$transformItems === void 0 ? function (items) {\n      return items;\n    } : _ref$transformItems;\n\n    if (widgetParams.includedAttributes && widgetParams.excludedAttributes) {\n      throw new Error(withUsage('The options `includedAttributes` and `excludedAttributes` cannot be used together.'));\n    }\n\n    var connectorState = {\n      refine: noop,\n      createURL: function createURL() {\n        return '';\n      },\n      attributesToClear: []\n    };\n\n    var cachedRefine = function cachedRefine() {\n      return connectorState.refine();\n    };\n\n    var cachedCreateURL = function cachedCreateURL() {\n      return connectorState.createURL();\n    };\n\n    return {\n      $$type: 'ais.clearRefinements',\n      init: function init(initOptions) {\n        var instantSearchInstance = initOptions.instantSearchInstance;\n        renderFn(_objectSpread({}, this.getWidgetRenderState(initOptions), {\n          instantSearchInstance: instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        var instantSearchInstance = renderOptions.instantSearchInstance;\n        renderFn(_objectSpread({}, this.getWidgetRenderState(renderOptions), {\n          instantSearchInstance: instantSearchInstance\n        }), false);\n      },\n      dispose: function dispose() {\n        unmountFn();\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread({}, renderState, {\n          clearRefinements: this.getWidgetRenderState(renderOptions)\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref2) {\n        var createURL = _ref2.createURL,\n            scopedResults = _ref2.scopedResults;\n        connectorState.attributesToClear = scopedResults.reduce(function (results, scopedResult) {\n          return results.concat(getAttributesToClear({\n            scopedResult: scopedResult,\n            includedAttributes: includedAttributes,\n            excludedAttributes: excludedAttributes,\n            transformItems: transformItems\n          }));\n        }, []);\n\n        connectorState.refine = function () {\n          connectorState.attributesToClear.forEach(function (_ref3) {\n            var indexHelper = _ref3.helper,\n                items = _ref3.items;\n            indexHelper.setState(clearRefinements({\n              helper: indexHelper,\n              attributesToClear: items\n            })).search();\n          });\n        };\n\n        connectorState.createURL = function () {\n          return createURL(mergeSearchParameters.apply(void 0, _toConsumableArray(connectorState.attributesToClear.map(function (_ref4) {\n            var indexHelper = _ref4.helper,\n                items = _ref4.items;\n            return clearRefinements({\n              helper: indexHelper,\n              attributesToClear: items\n            });\n          }))));\n        };\n\n        return {\n          hasRefinements: connectorState.attributesToClear.some(function (attributeToClear) {\n            return attributeToClear.items.length > 0;\n          }),\n          refine: cachedRefine,\n          createURL: cachedCreateURL,\n          widgetParams: widgetParams\n        };\n      }\n    };\n  };\n};\n\nfunction getAttributesToClear(_ref5) {\n  var scopedResult = _ref5.scopedResult,\n      includedAttributes = _ref5.includedAttributes,\n      excludedAttributes = _ref5.excludedAttributes,\n      transformItems = _ref5.transformItems;\n  var clearsQuery = includedAttributes.indexOf('query') !== -1 || excludedAttributes.indexOf('query') === -1;\n  return {\n    helper: scopedResult.helper,\n    items: transformItems(uniq(getRefinements(scopedResult.results, scopedResult.helper.state, clearsQuery).map(function (refinement) {\n      return refinement.attribute;\n    }).filter(function (attribute) {\n      return (// If the array is empty (default case), we keep all the attributes\n        includedAttributes.length === 0 || // Otherwise, only add the specified attributes\n        includedAttributes.indexOf(attribute) !== -1\n      );\n    }).filter(function (attribute) {\n      return (// If the query is included, we ignore the default `excludedAttributes = ['query']`\n        attribute === 'query' && clearsQuery || // Otherwise, ignore the excluded attributes\n        excludedAttributes.indexOf(attribute) === -1\n      );\n    })))\n  };\n}\n\nexport default connectClearRefinements;","<template>\n  <div\n    v-if=\"state\"\n    :class=\"suit()\"\n  >\n    <slot\n      :can-refine=\"canRefine\"\n      :refine=\"state.refine\"\n      :createURL=\"state.createURL\"\n    >\n      <button\n        type=\"reset\"\n        :class=\"[suit('button'), !canRefine && suit('button', 'disabled')]\"\n        :disabled=\"!canRefine\"\n        @click.prevent=\"state.refine\"\n      >\n        <slot name=\"resetLabel\">Clear refinements</slot>\n      </button>\n    </slot>\n  </div>\n</template>\n\n<script>\nimport { connectClearRefinements } from 'instantsearch.js/es/connectors';\nimport { createPanelConsumerMixin } from '../mixins/panel';\nimport { createSuitMixin } from '../mixins/suit';\nimport { createWidgetMixin } from '../mixins/widget';\n\nexport default {\n  name: 'AisClearRefinements',\n  mixins: [\n    createWidgetMixin({ connector: connectClearRefinements }),\n    createPanelConsumerMixin({\n      mapStateToCanRefine: state => Boolean(state.hasRefinements),\n    }),\n    createSuitMixin({ name: 'ClearRefinements' }),\n  ],\n  props: {\n    // explicitly no default, since included and excluded are incompatible\n    // eslint-disable-next-line vue/require-default-prop\n    excludedAttributes: {\n      type: Array,\n    },\n    // explicitly no default, since included and excluded are incompatible\n    // eslint-disable-next-line vue/require-default-prop\n    includedAttributes: {\n      type: Array,\n    },\n    transformItems: {\n      type: Function,\n      default(items) {\n        return items;\n      },\n    },\n  },\n  computed: {\n    widgetParams() {\n      return {\n        includedAttributes: this.includedAttributes,\n        excludedAttributes: this.excludedAttributes,\n        transformItems: this.transformItems,\n      };\n    },\n    canRefine() {\n      return this.state.hasRefinements;\n    },\n  },\n};\n</script>\n","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport algoliasearchHelper from 'algoliasearch-helper';\nimport { createDocumentationMessageGenerator, isPlainObject, mergeSearchParameters, noop } from '../../lib/utils';\n/**\n * Refine the given search parameters.\n */\n\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'configure',\n  connector: true\n});\n\nfunction getInitialSearchParameters(state, widgetParams) {\n  // We leverage the helper internals to remove the `widgetParams` from\n  // the state. The function `setQueryParameters` omits the values that\n  // are `undefined` on the next state.\n  return state.setQueryParameters(Object.keys(widgetParams.searchParameters).reduce(function (acc, key) {\n    return _objectSpread({}, acc, _defineProperty({}, key, undefined));\n  }, {}));\n}\n\nvar connectConfigure = function connectConfigure() {\n  var renderFn = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : noop;\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  return function (widgetParams) {\n    if (!widgetParams || !isPlainObject(widgetParams.searchParameters)) {\n      throw new Error(withUsage('The `searchParameters` option expects an object.'));\n    }\n\n    var connectorState = {};\n\n    function refine(helper) {\n      return function (searchParameters) {\n        // Merge new `searchParameters` with the ones set from other widgets\n        var actualState = getInitialSearchParameters(helper.state, widgetParams);\n        var nextSearchParameters = mergeSearchParameters(actualState, new algoliasearchHelper.SearchParameters(searchParameters)); // Update original `widgetParams.searchParameters` to the new refined one\n\n        widgetParams.searchParameters = searchParameters; // Trigger a search with the resolved search parameters\n\n        helper.setState(nextSearchParameters).search();\n      };\n    }\n\n    return {\n      $$type: 'ais.configure',\n      init: function init(initOptions) {\n        var instantSearchInstance = initOptions.instantSearchInstance;\n        renderFn(_objectSpread({}, this.getWidgetRenderState(initOptions), {\n          instantSearchInstance: instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        var instantSearchInstance = renderOptions.instantSearchInstance;\n        renderFn(_objectSpread({}, this.getWidgetRenderState(renderOptions), {\n          instantSearchInstance: instantSearchInstance\n        }), false);\n      },\n      dispose: function dispose(_ref) {\n        var state = _ref.state;\n        unmountFn();\n        return getInitialSearchParameters(state, widgetParams);\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        var _renderState$configur;\n\n        var widgetRenderState = this.getWidgetRenderState(renderOptions);\n        return _objectSpread({}, renderState, {\n          configure: _objectSpread({}, widgetRenderState, {\n            widgetParams: _objectSpread({}, widgetRenderState.widgetParams, {\n              searchParameters: mergeSearchParameters(new algoliasearchHelper.SearchParameters((_renderState$configur = renderState.configure) === null || _renderState$configur === void 0 ? void 0 : _renderState$configur.widgetParams.searchParameters), new algoliasearchHelper.SearchParameters(widgetRenderState.widgetParams.searchParameters)).getQueryParams()\n            })\n          })\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref2) {\n        var helper = _ref2.helper;\n\n        if (!connectorState.refine) {\n          connectorState.refine = refine(helper);\n        }\n\n        return {\n          refine: connectorState.refine,\n          widgetParams: widgetParams\n        };\n      },\n      getWidgetSearchParameters: function getWidgetSearchParameters(state, _ref3) {\n        var uiState = _ref3.uiState;\n        return mergeSearchParameters(state, new algoliasearchHelper.SearchParameters(_objectSpread({}, uiState.configure, {}, widgetParams.searchParameters)));\n      },\n      getWidgetUiState: function getWidgetUiState(uiState) {\n        return _objectSpread({}, uiState, {\n          configure: _objectSpread({}, uiState.configure, {}, widgetParams.searchParameters)\n        });\n      }\n    };\n  };\n};\n\nexport default connectConfigure;","import{createSuitMixin as t}from\"../mixins/suit.js\";import{createWidgetMixin as e}from\"../mixins/widget.js\";import{connectConfigure as s}from\"instantsearch.js/es/connectors\";export default{inheritAttrs:!1,name:\"AisConfigure\",mixins:[t({name:\"Configure\"}),e({connector:s})],computed:{widgetParams:function(){return{searchParameters:this.$attrs}}},render:function(t){return this.state&&this.$scopedSlots.default?t(\"div\",{class:this.suit()},[this.$scopedSlots.default({refine:this.state.refine,searchParameters:this.state.widgetParams.searchParameters})]):null}};\n//# sourceMappingURL=Configure.js.map\n","function getPropertyByPath(object, path) {\n  var parts = Array.isArray(path) ? path : path.split('.');\n  return parts.reduce(function (current, key) {\n    return current && current[key];\n  }, object);\n}\n\nexport default getPropertyByPath;","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nimport algoliasearchHelper from 'algoliasearch-helper';\nimport { createDocumentationMessageGenerator, getObjectType, warning, getPropertyByPath } from '../../lib/utils';\nimport connectConfigure from '../configure/connectConfigure';\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'configure-related-items',\n  connector: true\n});\n\nfunction createOptionalFilter(_ref) {\n  var attributeName = _ref.attributeName,\n      attributeValue = _ref.attributeValue,\n      attributeScore = _ref.attributeScore;\n  return \"\".concat(attributeName, \":\").concat(attributeValue, \"<score=\").concat(attributeScore || 1, \">\");\n}\n\nvar connectConfigureRelatedItems = function connectConfigureRelatedItems(renderFn, unmountFn) {\n  return function (widgetParams) {\n    var _ref2 = widgetParams || {},\n        hit = _ref2.hit,\n        matchingPatterns = _ref2.matchingPatterns,\n        _ref2$transformSearch = _ref2.transformSearchParameters,\n        transformSearchParameters = _ref2$transformSearch === void 0 ? function (x) {\n      return x;\n    } : _ref2$transformSearch;\n\n    if (!hit) {\n      throw new Error(withUsage('The `hit` option is required.'));\n    }\n\n    if (!matchingPatterns) {\n      throw new Error(withUsage('The `matchingPatterns` option is required.'));\n    }\n\n    var optionalFilters = Object.keys(matchingPatterns).reduce(function (acc, attributeName) {\n      var attribute = matchingPatterns[attributeName];\n      var attributeValue = getPropertyByPath(hit, attributeName);\n      var attributeScore = attribute.score;\n\n      if (Array.isArray(attributeValue)) {\n        return [].concat(_toConsumableArray(acc), [attributeValue.map(function (attributeSubValue) {\n          return createOptionalFilter({\n            attributeName: attributeName,\n            attributeValue: attributeSubValue,\n            attributeScore: attributeScore\n          });\n        })]);\n      }\n\n      if (typeof attributeValue === 'string') {\n        return [].concat(_toConsumableArray(acc), [createOptionalFilter({\n          attributeName: attributeName,\n          attributeValue: attributeValue,\n          attributeScore: attributeScore\n        })]);\n      }\n\n      process.env.NODE_ENV === 'development' ? warning(false, \"\\nThe `matchingPatterns` option returned a value of type \".concat(getObjectType(attributeValue), \" for the \\\"\").concat(attributeName, \"\\\" key. This value was not sent to Algolia because `optionalFilters` only supports strings and array of strings.\\n\\nYou can remove the \\\"\").concat(attributeName, \"\\\" key from the `matchingPatterns` option.\\n\\nSee https://www.algolia.com/doc/api-reference/api-parameters/optionalFilters/\\n            \")) : void 0;\n      return acc;\n    }, []);\n\n    var searchParameters = _objectSpread({}, transformSearchParameters(new algoliasearchHelper.SearchParameters({\n      sumOrFiltersScores: true,\n      facetFilters: [\"objectID:-\".concat(hit.objectID)],\n      optionalFilters: optionalFilters\n    })));\n\n    var makeConfigure = connectConfigure(renderFn, unmountFn);\n    return _objectSpread({}, makeConfigure({\n      searchParameters: searchParameters\n    }), {\n      $$type: 'ais.configureRelatedItems'\n    });\n  };\n};\n\nexport default connectConfigureRelatedItems;","import{createWidgetMixin as t}from\"../mixins/widget.js\";import{EXPERIMENTAL_connectConfigureRelatedItems as e}from\"instantsearch.js/es/connectors\";export default{inheritAttrs:!1,name:\"AisExperimentalConfigureRelatedItems\",mixins:[t({connector:e})],props:{hit:{type:Object,required:!0},matchingPatterns:{type:Object,required:!0},transformSearchParameters:{type:Function,required:!1}},computed:{widgetParams:function(){return{hit:this.hit,matchingPatterns:this.matchingPatterns,transformSearchParameters:this.transformSearchParameters}}},render:function(){return null}};\n//# sourceMappingURL=ConfigureRelatedItems.js.map\n","function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { getRefinements, checkRendering, createDocumentationMessageGenerator, noop, warning } from '../../lib/utils';\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'current-refinements',\n  connector: true\n});\n\nvar connectCurrentRefinements = function connectCurrentRefinements(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  checkRendering(renderFn, withUsage());\n  return function (widgetParams) {\n    if ((widgetParams || {}).includedAttributes && (widgetParams || {}).excludedAttributes) {\n      throw new Error(withUsage('The options `includedAttributes` and `excludedAttributes` cannot be used together.'));\n    }\n\n    var _ref = widgetParams || {},\n        includedAttributes = _ref.includedAttributes,\n        _ref$excludedAttribut = _ref.excludedAttributes,\n        excludedAttributes = _ref$excludedAttribut === void 0 ? ['query'] : _ref$excludedAttribut,\n        _ref$transformItems = _ref.transformItems,\n        transformItems = _ref$transformItems === void 0 ? function (items) {\n      return items;\n    } : _ref$transformItems;\n\n    return {\n      $$type: 'ais.currentRefinements',\n      init: function init(initOptions) {\n        var instantSearchInstance = initOptions.instantSearchInstance;\n        renderFn(_objectSpread({}, this.getWidgetRenderState(initOptions), {\n          instantSearchInstance: instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        var instantSearchInstance = renderOptions.instantSearchInstance;\n        renderFn(_objectSpread({}, this.getWidgetRenderState(renderOptions), {\n          instantSearchInstance: instantSearchInstance\n        }), false);\n      },\n      dispose: function dispose() {\n        unmountFn();\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread({}, renderState, {\n          currentRefinements: this.getWidgetRenderState(renderOptions)\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref2) {\n        var results = _ref2.results,\n            scopedResults = _ref2.scopedResults,\n            _createURL = _ref2.createURL,\n            helper = _ref2.helper;\n\n        function getItems() {\n          if (!results) {\n            return transformItems(getRefinementsItems({\n              results: {},\n              helper: helper,\n              includedAttributes: includedAttributes,\n              excludedAttributes: excludedAttributes\n            }));\n          }\n\n          return scopedResults.reduce(function (accResults, scopedResult) {\n            return accResults.concat(transformItems(getRefinementsItems({\n              results: scopedResult.results,\n              helper: scopedResult.helper,\n              includedAttributes: includedAttributes,\n              excludedAttributes: excludedAttributes\n            })));\n          }, []);\n        }\n\n        return {\n          items: getItems(),\n          refine: function refine(refinement) {\n            return clearRefinement(helper, refinement);\n          },\n          createURL: function createURL(refinement) {\n            return _createURL(clearRefinementFromState(helper.state, refinement));\n          },\n          widgetParams: widgetParams\n        };\n      }\n    };\n  };\n};\n\nfunction getRefinementsItems(_ref3) {\n  var results = _ref3.results,\n      helper = _ref3.helper,\n      includedAttributes = _ref3.includedAttributes,\n      excludedAttributes = _ref3.excludedAttributes;\n  var clearsQuery = (includedAttributes || []).indexOf('query') !== -1 || (excludedAttributes || []).indexOf('query') === -1;\n  var filterFunction = includedAttributes ? function (item) {\n    return includedAttributes.indexOf(item.attribute) !== -1;\n  } : function (item) {\n    return excludedAttributes.indexOf(item.attribute) === -1;\n  };\n  var items = getRefinements(results, helper.state, clearsQuery).map(normalizeRefinement).filter(filterFunction);\n  return items.reduce(function (allItems, currentItem) {\n    return [].concat(_toConsumableArray(allItems.filter(function (item) {\n      return item.attribute !== currentItem.attribute;\n    })), [{\n      indexName: helper.state.index,\n      attribute: currentItem.attribute,\n      label: currentItem.attribute,\n      refinements: items.filter(function (result) {\n        return result.attribute === currentItem.attribute;\n      }) // We want to keep the order of refinements except the numeric ones.\n      .sort(function (a, b) {\n        return a.type === 'numeric' ? a.value - b.value : 0;\n      }),\n      refine: function refine(refinement) {\n        return clearRefinement(helper, refinement);\n      }\n    }]);\n  }, []);\n}\n\nfunction clearRefinementFromState(state, refinement) {\n  switch (refinement.type) {\n    case 'facet':\n      return state.removeFacetRefinement(refinement.attribute, String(refinement.value));\n\n    case 'disjunctive':\n      return state.removeDisjunctiveFacetRefinement(refinement.attribute, String(refinement.value));\n\n    case 'hierarchical':\n      return state.removeHierarchicalFacetRefinement(refinement.attribute);\n\n    case 'exclude':\n      return state.removeExcludeRefinement(refinement.attribute, String(refinement.value));\n\n    case 'numeric':\n      return state.removeNumericRefinement(refinement.attribute, refinement.operator, String(refinement.value));\n\n    case 'tag':\n      return state.removeTagRefinement(String(refinement.value));\n\n    case 'query':\n      return state.setQueryParameter('query', '');\n\n    default:\n      process.env.NODE_ENV === 'development' ? warning(false, \"The refinement type \\\"\".concat(refinement.type, \"\\\" does not exist and cannot be cleared from the current refinements.\")) : void 0;\n      return state;\n  }\n}\n\nfunction clearRefinement(helper, refinement) {\n  helper.setState(clearRefinementFromState(helper.state, refinement)).search();\n}\n\nfunction getOperatorSymbol(operator) {\n  switch (operator) {\n    case '>=':\n      return '≥';\n\n    case '<=':\n      return '≤';\n\n    default:\n      return operator;\n  }\n}\n\nfunction normalizeRefinement(refinement) {\n  var value = refinement.type === 'numeric' ? Number(refinement.name) : refinement.name;\n  var label = refinement.operator ? \"\".concat(getOperatorSymbol(refinement.operator), \" \").concat(refinement.name) : refinement.name;\n  var normalizedRefinement = {\n    attribute: refinement.attribute,\n    type: refinement.type,\n    value: value,\n    label: label\n  };\n\n  if (refinement.operator !== undefined) {\n    normalizedRefinement.operator = refinement.operator;\n  }\n\n  if (refinement.count !== undefined) {\n    normalizedRefinement.count = refinement.count;\n  }\n\n  if (refinement.exhaustive !== undefined) {\n    normalizedRefinement.exhaustive = refinement.exhaustive;\n  }\n\n  return normalizedRefinement;\n}\n\nexport default connectCurrentRefinements;","<template>\n  <div\n    :class=\"[suit(), noRefinement && suit('','noRefinement')]\"\n    v-if=\"state\"\n  >\n    <slot\n      :refine=\"state.refine\"\n      :items=\"state.items\"\n      :createURL=\"state.createURL\"\n    >\n      <ul :class=\"suit('list')\">\n        <li\n          v-for=\"item in state.items\"\n          :key=\"item.attribute\"\n          :class=\"suit('item')\"\n        >\n          <slot\n            name=\"item\"\n            :refine=\"item.refine\"\n            :item=\"item\"\n            :createURL=\"state.createURL\"\n          >\n            <span :class=\"suit('label')\">{{ item.label | capitalize }}: </span>\n            <span\n              v-for=\"refinement in item.refinements\"\n              :key=\"createItemKey(refinement)\"\n              :class=\"suit('category')\"\n            >\n              <slot\n                name=\"refinement\"\n                :refine=\"item.refine\"\n                :refinement=\"refinement\"\n                :createURL=\"state.createURL\"\n              >\n                <span :class=\"suit('categoryLabel')\">\n                  <q v-if=\"refinement.attribute === 'query'\">{{ refinement.label }}</q>\n                  <template v-else>\n                    {{ refinement.label }}\n                  </template>\n                </span>\n                <button\n                  :class=\"suit('delete')\"\n                  @click=\"item.refine(refinement)\"\n                >\n                  ✕\n                </button>\n              </slot>\n            </span>\n          </slot>\n        </li>\n      </ul>\n    </slot>\n  </div>\n</template>\n\n<script>\nimport { createWidgetMixin } from '../mixins/widget';\nimport { connectCurrentRefinements } from 'instantsearch.js/es/connectors';\nimport { createPanelConsumerMixin } from '../mixins/panel';\nimport { createSuitMixin } from '../mixins/suit';\n\nexport default {\n  name: 'AisCurrentRefinements',\n  mixins: [\n    createSuitMixin({ name: 'CurrentRefinements' }),\n    createWidgetMixin({ connector: connectCurrentRefinements }),\n    createPanelConsumerMixin({\n      mapStateToCanRefine: state =>\n        Boolean(state.items) && state.items.length > 0,\n    }),\n  ],\n  props: {\n    // no default because included and excluded are incompatible\n    // eslint-disable-next-line vue/require-default-prop\n    includedAttributes: {\n      type: Array,\n    },\n    // no default because included and excluded are incompatible\n    // eslint-disable-next-line vue/require-default-prop\n    excludedAttributes: {\n      type: Array,\n    },\n    transformItems: {\n      type: Function,\n      default(items) {\n        return items;\n      },\n    },\n  },\n  computed: {\n    noRefinement() {\n      return this.state && this.state.items.length === 0;\n    },\n    widgetParams() {\n      return {\n        includedAttributes: this.includedAttributes,\n        excludedAttributes: this.excludedAttributes,\n        transformItems: this.transformItems,\n      };\n    },\n  },\n  methods: {\n    createItemKey({ attribute, value, type, operator }) {\n      return [attribute, type, value, operator].join(':');\n    },\n  },\n  filters: {\n    capitalize(value) {\n      if (!value) return '';\n      return (\n        value\n          .toString()\n          .charAt(0)\n          .toLocaleUpperCase() + value.toString().slice(1)\n      );\n    },\n  },\n};\n</script>\n","export default function isFacetRefined(helper, facet, value) {\n  if (helper.state.isHierarchicalFacet(facet)) {\n    return helper.state.isHierarchicalFacetRefined(facet, value);\n  } else if (helper.state.isConjunctiveFacet(facet)) {\n    return helper.state.isFacetRefined(facet, value);\n  } else {\n    return helper.state.isDisjunctiveFacetRefined(facet, value);\n  }\n}","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport isFacetRefined from './isFacetRefined';\nexport function createSendEventForFacet(_ref) {\n  var instantSearchInstance = _ref.instantSearchInstance,\n      helper = _ref.helper,\n      attribute = _ref.attribute,\n      widgetType = _ref.widgetType;\n\n  var sendEventForFacet = function sendEventForFacet() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var eventType = args[0],\n        facetValue = args[1],\n        _args$ = args[2],\n        eventName = _args$ === void 0 ? 'Filter Applied' : _args$;\n\n    if (args.length === 1 && _typeof(args[0]) === 'object') {\n      instantSearchInstance.sendEventToInsights(args[0]);\n    } else if (eventType === 'click' && (args.length === 2 || args.length === 3)) {\n      if (!isFacetRefined(helper, attribute, facetValue)) {\n        // send event only when the facet is being checked \"ON\"\n        instantSearchInstance.sendEventToInsights({\n          insightsMethod: 'clickedFilters',\n          widgetType: widgetType,\n          eventType: eventType,\n          payload: {\n            eventName: eventName,\n            index: helper.getIndex(),\n            filters: [\"\".concat(attribute, \":\").concat(JSON.stringify(facetValue))]\n          }\n        });\n      }\n    } else if (process.env.NODE_ENV === 'development') {\n      throw new Error(\"You need to pass two arguments like:\\n  sendEvent('click', facetValue);\\n\\nIf you want to send a custom payload, you can pass one object: sendEvent(customPayload);\\n\");\n    }\n  };\n\n  return sendEventForFacet;\n}","function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { checkRendering, warning, createDocumentationMessageGenerator, createSendEventForFacet, isEqual, noop } from '../../lib/utils';\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'hierarchical-menu',\n  connector: true\n});\n/**\n * @typedef {Object} HierarchicalMenuItem\n * @property {string} value Value of the menu item.\n * @property {string} label Human-readable value of the menu item.\n * @property {number} count Number of matched results after refinement is applied.\n * @property {isRefined} boolean Indicates if the refinement is applied.\n * @property {Object} [data = undefined] n+1 level of items, same structure HierarchicalMenuItem (default: `undefined`).\n */\n\n/**\n * @typedef {Object} CustomHierarchicalMenuWidgetOptions\n * @property {string[]} attributes Attributes to use to generate the hierarchy of the menu.\n * @property {string} [separator = '>'] Separator used in the attributes to separate level values.\n * @property {string} [rootPath = null] Prefix path to use if the first level is not the root level.\n * @property {boolean} [showParentLevel=false] Show the siblings of the selected parent levels of the current refined value. This\n * does not impact the root level.\n * @property {number} [limit = 10] Max number of values to display.\n * @property {boolean} [showMore = false] Whether to display the \"show more\" button.\n * @property {number} [showMoreLimit = 20] Max number of values to display when showing more.\n * @property  {string[]|function} [sortBy = ['name:asc']] How to sort refinements. Possible values: `count|isRefined|name:asc|name:desc`.\n *\n * You can also use a sort function that behaves like the standard Javascript [compareFunction](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort#Syntax).\n * @property {function(object[]):object[]} [transformItems] Function to transform the items passed to the templates.\n */\n\n/**\n * @typedef {Object} HierarchicalMenuRenderingOptions\n * @property {function(item.value): string} createURL Creates an url for the next state for a clicked item.\n * @property {HierarchicalMenuItem[]} items Values to be rendered.\n * @property {function(item.value)} refine Sets the path of the hierarchical filter and triggers a new search.\n * @property {Object} widgetParams All original `CustomHierarchicalMenuWidgetOptions` forwarded to the `renderFn`.\n */\n\n/**\n * **HierarchicalMenu** connector provides the logic to build a custom widget\n * that will give the user the ability to explore facets in a tree-like structure.\n *\n * This is commonly used for multi-level categorization of products on e-commerce\n * websites. From a UX point of view, we suggest not displaying more than two\n * levels deep.\n *\n * @type {Connector}\n * @param {function(HierarchicalMenuRenderingOptions, boolean)} renderFn Rendering function for the custom **HierarchicalMenu** widget.\n * @param {function} unmountFn Unmount function called when the widget is disposed.\n * @return {function(CustomHierarchicalMenuWidgetOptions)} Re-usable widget factory for a custom **HierarchicalMenu** widget.\n */\n\nexport default function connectHierarchicalMenu(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  checkRendering(renderFn, withUsage());\n  return function () {\n    var widgetParams = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var attributes = widgetParams.attributes,\n        _widgetParams$separat = widgetParams.separator,\n        separator = _widgetParams$separat === void 0 ? ' > ' : _widgetParams$separat,\n        _widgetParams$rootPat = widgetParams.rootPath,\n        rootPath = _widgetParams$rootPat === void 0 ? null : _widgetParams$rootPat,\n        _widgetParams$showPar = widgetParams.showParentLevel,\n        showParentLevel = _widgetParams$showPar === void 0 ? true : _widgetParams$showPar,\n        _widgetParams$limit = widgetParams.limit,\n        limit = _widgetParams$limit === void 0 ? 10 : _widgetParams$limit,\n        _widgetParams$showMor = widgetParams.showMore,\n        showMore = _widgetParams$showMor === void 0 ? false : _widgetParams$showMor,\n        _widgetParams$showMor2 = widgetParams.showMoreLimit,\n        showMoreLimit = _widgetParams$showMor2 === void 0 ? 20 : _widgetParams$showMor2,\n        _widgetParams$sortBy = widgetParams.sortBy,\n        sortBy = _widgetParams$sortBy === void 0 ? ['name:asc'] : _widgetParams$sortBy,\n        _widgetParams$transfo = widgetParams.transformItems,\n        transformItems = _widgetParams$transfo === void 0 ? function (items) {\n      return items;\n    } : _widgetParams$transfo;\n\n    if (!attributes || !Array.isArray(attributes) || attributes.length === 0) {\n      throw new Error(withUsage('The `attributes` option expects an array of strings.'));\n    }\n\n    if (showMore === true && showMoreLimit <= limit) {\n      throw new Error(withUsage('The `showMoreLimit` option must be greater than `limit`.'));\n    } // we need to provide a hierarchicalFacet name for the search state\n    // so that we can always map $hierarchicalFacetName => real attributes\n    // we use the first attribute name\n\n\n    var _attributes = _slicedToArray(attributes, 1),\n        hierarchicalFacetName = _attributes[0];\n\n    var sendEvent; // Provide the same function to the `renderFn` so that way the user\n    // has to only bind it once when `isFirstRendering` for instance\n\n    var toggleShowMore = function toggleShowMore() {};\n\n    function cachedToggleShowMore() {\n      toggleShowMore();\n    }\n\n    return {\n      $$type: 'ais.hierarchicalMenu',\n      isShowingMore: false,\n      createToggleShowMore: function createToggleShowMore(renderOptions) {\n        var _this = this;\n\n        return function () {\n          _this.isShowingMore = !_this.isShowingMore;\n\n          _this.render(renderOptions);\n        };\n      },\n      getLimit: function getLimit() {\n        return this.isShowingMore ? showMoreLimit : limit;\n      },\n      init: function init(initOptions) {\n        var instantSearchInstance = initOptions.instantSearchInstance;\n        renderFn(_objectSpread({}, this.getWidgetRenderState(initOptions), {\n          instantSearchInstance: instantSearchInstance\n        }), true);\n      },\n      _prepareFacetValues: function _prepareFacetValues(facetValues) {\n        var _this2 = this;\n\n        return facetValues.slice(0, this.getLimit()).map(function (_ref) {\n          var label = _ref.name,\n              value = _ref.path,\n              subValue = _objectWithoutProperties(_ref, [\"name\", \"path\"]);\n\n          if (Array.isArray(subValue.data)) {\n            subValue.data = _this2._prepareFacetValues(subValue.data);\n          }\n\n          return _objectSpread({}, subValue, {\n            label: label,\n            value: value\n          });\n        });\n      },\n      render: function render(renderOptions) {\n        var instantSearchInstance = renderOptions.instantSearchInstance;\n        toggleShowMore = this.createToggleShowMore(renderOptions);\n        renderFn(_objectSpread({}, this.getWidgetRenderState(renderOptions), {\n          instantSearchInstance: instantSearchInstance\n        }), false);\n      },\n\n      /**\n       * @param {Object} param0 cleanup arguments\n       * @param {any} param0.state current search parameters\n       * @returns {any} next search parameters\n       */\n      dispose: function dispose(_ref2) {\n        var state = _ref2.state;\n        unmountFn();\n        return state.removeHierarchicalFacet(hierarchicalFacetName).setQueryParameter('maxValuesPerFacet', undefined);\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread({}, renderState, {\n          hierarchicalMenu: _objectSpread({}, renderState.hierarchicalMenu, _defineProperty({}, hierarchicalFacetName, this.getWidgetRenderState(renderOptions)))\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref3) {\n        var _this3 = this;\n\n        var results = _ref3.results,\n            state = _ref3.state,\n            createURL = _ref3.createURL,\n            instantSearchInstance = _ref3.instantSearchInstance,\n            helper = _ref3.helper;\n\n        // Bind createURL to this specific attribute\n        function _createURL(facetValue) {\n          return createURL(state.toggleRefinement(hierarchicalFacetName, facetValue));\n        }\n\n        if (!sendEvent) {\n          sendEvent = createSendEventForFacet({\n            instantSearchInstance: instantSearchInstance,\n            helper: helper,\n            attribute: hierarchicalFacetName,\n            widgetType: this.$$type\n          });\n        }\n\n        if (!this._refine) {\n          this._refine = function (facetValue) {\n            sendEvent('click', facetValue);\n            helper.toggleRefinement(hierarchicalFacetName, facetValue).search();\n          };\n        }\n\n        var facetValues = results ? results.getFacetValues(hierarchicalFacetName, {\n          sortBy: sortBy\n        }).data || [] : [];\n        var items = transformItems(results ? this._prepareFacetValues(facetValues) : []);\n\n        var getHasExhaustiveItems = function getHasExhaustiveItems() {\n          if (!results) {\n            return false;\n          }\n\n          var currentLimit = _this3.getLimit(); // If the limit is the max number of facet retrieved it is impossible to know\n          // if the facets are exhaustive. The only moment we are sure it is exhaustive\n          // is when it is strictly under the number requested unless we know that another\n          // widget has requested more values (maxValuesPerFacet > getLimit()).\n          // Because this is used for making the search of facets unable or not, it is important\n          // to be conservative here.\n\n\n          return state.maxValuesPerFacet > currentLimit ? facetValues.length <= currentLimit : facetValues.length < currentLimit;\n        };\n\n        return {\n          items: items,\n          refine: this._refine,\n          createURL: _createURL,\n          sendEvent: sendEvent,\n          widgetParams: widgetParams,\n          isShowingMore: this.isShowingMore,\n          toggleShowMore: cachedToggleShowMore,\n          canToggleShowMore: showMore && (this.isShowingMore || !getHasExhaustiveItems())\n        };\n      },\n      getWidgetUiState: function getWidgetUiState(uiState, _ref4) {\n        var searchParameters = _ref4.searchParameters;\n        var path = searchParameters.getHierarchicalFacetBreadcrumb(hierarchicalFacetName);\n\n        if (!path.length) {\n          return uiState;\n        }\n\n        return _objectSpread({}, uiState, {\n          hierarchicalMenu: _objectSpread({}, uiState.hierarchicalMenu, _defineProperty({}, hierarchicalFacetName, path))\n        });\n      },\n      getWidgetSearchParameters: function getWidgetSearchParameters(searchParameters, _ref5) {\n        var uiState = _ref5.uiState;\n        var values = uiState.hierarchicalMenu && uiState.hierarchicalMenu[hierarchicalFacetName];\n\n        if (searchParameters.isHierarchicalFacet(hierarchicalFacetName)) {\n          var facet = searchParameters.getHierarchicalFacetByName(hierarchicalFacetName);\n          process.env.NODE_ENV === 'development' ? warning(isEqual(facet.attributes, attributes) && facet.separator === separator && facet.rootPath === rootPath, 'Using Breadcrumb and HierarchicalMenu on the same facet with different options overrides the configuration of the HierarchicalMenu.') : void 0;\n        }\n\n        var withFacetConfiguration = searchParameters.removeHierarchicalFacet(hierarchicalFacetName).addHierarchicalFacet({\n          name: hierarchicalFacetName,\n          attributes: attributes,\n          separator: separator,\n          rootPath: rootPath,\n          showParentLevel: showParentLevel\n        });\n        var currentMaxValuesPerFacet = withFacetConfiguration.maxValuesPerFacet || 0;\n        var nextMaxValuesPerFacet = Math.max(currentMaxValuesPerFacet, showMore ? showMoreLimit : limit);\n        var withMaxValuesPerFacet = withFacetConfiguration.setQueryParameter('maxValuesPerFacet', nextMaxValuesPerFacet);\n\n        if (!values) {\n          return withMaxValuesPerFacet.setQueryParameters({\n            hierarchicalFacetsRefinements: _objectSpread({}, withMaxValuesPerFacet.hierarchicalFacetsRefinements, _defineProperty({}, hierarchicalFacetName, []))\n          });\n        }\n\n        return withMaxValuesPerFacet.addHierarchicalFacetRefinement(hierarchicalFacetName, values.join(separator));\n      }\n    };\n  };\n}","<template>\n  <ul\n    :class=\"[\n      suit('list'),\n      level > 0 && suit('list', 'child'),\n      suit('list', `lvl${level}`)\n    ]\"\n  >\n    <li\n      v-for=\"item in items\"\n      :key=\"item.value\"\n      :class=\"[\n        suit('item'),\n        item.data && suit('item', 'parent'),\n        item.isRefined && suit('item', 'selected')\n      ]\"\n    >\n      <a\n        :href=\"createURL(item.value)\"\n        :class=\"suit('link')\"\n        @click.prevent=\"refine(item.value)\"\n      >\n        <span :class=\"suit('label')\">{{ item.label }}</span>\n        <span :class=\"suit('count')\">{{ item.count }}</span>\n      </a>\n\n      <hierarchical-menu-list\n        v-if=\"item.data\"\n        :items=\"item.data\"\n        :level=\"level + 1\"\n        :refine=\"refine\"\n        :createURL=\"createURL\"\n        :suit=\"suit\"\n      />\n    </li>\n  </ul>\n</template>\n\n<script>\nexport default {\n  name: 'HierarchicalMenuList',\n  props: {\n    items: {\n      type: Array,\n      required: true,\n    },\n    level: {\n      type: Number,\n      required: true,\n    },\n    refine: {\n      type: Function,\n      required: true,\n    },\n    createURL: {\n      type: Function,\n      required: true,\n    },\n    suit: {\n      type: Function,\n      required: true,\n    },\n  },\n};\n</script>\n","<template>\n  <div\n    v-if=\"state\"\n    :class=\"[suit(), !canRefine && suit('', 'noRefinement')]\"\n  >\n    <slot\n      :items=\"state.items\"\n      :can-refine=\"canRefine\"\n      :can-toggle-show-more=\"state.canToggleShowMore\"\n      :is-showing-more=\"state.isShowingMore\"\n      :refine=\"state.refine\"\n      :createURL=\"state.createURL\"\n      :toggle-show-more=\"state.toggleShowMore\"\n    >\n      <hierarchical-menu-list\n        :items=\"state.items\"\n        :level=\"0\"\n        :refine=\"state.refine\"\n        :createURL=\"state.createURL\"\n        :suit=\"suit\"\n      />\n\n      <button\n        v-if=\"showMore\"\n        :class=\"[\n          suit('showMore'),\n          !state.canToggleShowMore && suit('showMore', 'disabled')\n        ]\"\n        :disabled=\"!state.canToggleShowMore\"\n        @click.prevent=\"state.toggleShowMore\"\n      >\n        <slot\n          name=\"showMoreLabel\"\n          :is-showing-more=\"state.isShowingMore\"\n        >{{ state.isShowingMore ? 'Show less' : 'Show more' }}</slot>\n      </button>\n    </slot>\n  </div>\n</template>\n\n<script>\nimport { connectHierarchicalMenu } from 'instantsearch.js/es/connectors';\nimport { createWidgetMixin } from '../mixins/widget';\nimport { createPanelConsumerMixin } from '../mixins/panel';\nimport HierarchicalMenuList from './HierarchicalMenuList.vue';\nimport { createSuitMixin } from '../mixins/suit';\n\nconst mapStateToCanRefine = state =>\n  Boolean(state.items) && state.items.length > 0;\n\nexport default {\n  name: 'AisHierarchicalMenu',\n  mixins: [\n    createSuitMixin({ name: 'HierarchicalMenu' }),\n    createWidgetMixin({ connector: connectHierarchicalMenu }),\n    createPanelConsumerMixin({\n      mapStateToCanRefine,\n    }),\n  ],\n  components: {\n    HierarchicalMenuList,\n  },\n  props: {\n    attributes: {\n      type: Array,\n      required: true,\n    },\n    limit: {\n      type: Number,\n      default: 10,\n    },\n    showMoreLimit: {\n      type: Number,\n      default: 20,\n    },\n    showMore: {\n      type: Boolean,\n      default: false,\n    },\n    sortBy: {\n      type: [Array, Function],\n      default() {\n        return ['name:asc'];\n      },\n    },\n    separator: {\n      type: String,\n      default: ' > ',\n    },\n    rootPath: {\n      type: String,\n      default: null,\n    },\n    showParentLevel: {\n      type: Boolean,\n      default: true,\n    },\n    transformItems: {\n      type: Function,\n      default(items) {\n        return items;\n      },\n    },\n  },\n  computed: {\n    widgetParams() {\n      return {\n        attributes: this.attributes,\n        limit: this.limit,\n        showMore: this.showMore,\n        showMoreLimit: this.showMoreLimit,\n        separator: this.separator,\n        rootPath: this.rootPath,\n        showParentLevel: this.showParentLevel,\n        sortBy: this.sortBy,\n        transformItems: this.transformItems,\n      };\n    },\n    canRefine() {\n      return mapStateToCanRefine(this.state);\n    },\n  },\n};\n</script>\n","var t={\"&amp;\":\"&\",\"&lt;\":\"<\",\"&gt;\":\">\",\"&quot;\":'\"',\"&#39;\":\"'\"},e=/&(?:amp|lt|gt|quot|#39);/g,r=RegExp(e.source);function u(u){return u&&r.test(u)?u.replace(e,function(e){return t[e]}):u}export{u as unescape};\n//# sourceMappingURL=unescape.js.map\n","import{getPropertyByPath as i}from\"instantsearch.js/es/lib/utils\";import{unescape as h}from\"./unescape.js\";var t={highlightPreTag:\"__ais-highlight__\",highlightPostTag:\"__/ais-highlight__\"};function r(i){var h=i.preTag,t=i.postTag,r=i.highlightedValue;void 0===r&&(r=\"\");var a=r.split(h),g=a.shift(),e=\"\"===g?[]:[{value:g,isHighlighted:!1}];if(t===h){var l=!0;a.forEach(function(i){e.push({value:i,isHighlighted:l}),l=!l})}else a.forEach(function(i){var h=i.split(t);e.push({value:h[0],isHighlighted:!0}),\"\"!==h[1]&&e.push({value:\" \"===h[1]?\"  \":h[1],isHighlighted:!1})});return e}function a(a){var g=a.preTag;void 0===g&&(g=t.highlightPreTag);var e=a.postTag;void 0===e&&(e=t.highlightPostTag);var l=a.highlightProperty,s=a.attribute,o=a.hit;if(!o)throw new Error(\"`hit`, the matching record, must be provided\");var u=i(o[l],s)||{};return Array.isArray(u)?u.map(function(i){return r({preTag:g,postTag:e,highlightedValue:h(i.value)})}):r({preTag:g,postTag:e,highlightedValue:h(u.value)})}export{a as parseAlgoliaHit};\n//# sourceMappingURL=parseAlgoliaHit.js.map\n","<template>\n  <span :class=\"suit()\">\n    <component\n      v-for=\"({ value, isHighlighted }, index) in parsedHighlights\"\n      :class=\"[isHighlighted && suit('highlighted')]\"\n      :key=\"index\"\n      :is=\"isHighlighted ? highlightedTagName : textNode\"\n    >{{ value }}</component>\n  </span>\n</template>\n\n<script>\nimport { parseAlgoliaHit } from '../util/parseAlgoliaHit';\n\nexport default {\n  name: 'AisHighlighter',\n  props: {\n    hit: {\n      type: Object,\n      required: true,\n    },\n    attribute: {\n      type: String,\n      required: true,\n    },\n    highlightedTagName: {\n      type: String,\n      default: 'mark',\n    },\n    suit: { type: Function, required: true },\n    highlightProperty: { type: String, required: true },\n    preTag: { type: String, required: true },\n    postTag: { type: String, required: true },\n  },\n  data() {\n    return {\n      textNode: {\n        functional: true,\n        render(createElement, context) {\n          const slots = context.slots();\n          return slots.default;\n        },\n      },\n    };\n  },\n  computed: {\n    parsedHighlights() {\n      return parseAlgoliaHit({\n        attribute: this.attribute,\n        hit: this.hit,\n        highlightProperty: this.highlightProperty,\n        preTag: this.preTag,\n        postTag: this.postTag,\n      });\n    },\n  },\n};\n</script>\n","<template>\n  <ais-highlighter\n    :hit=\"hit\"\n    :attribute=\"attribute\"\n    :highlighted-tag-name=\"highlightedTagName\"\n    :suit=\"suit\"\n    highlight-property=\"_highlightResult\"\n    pre-tag=\"<mark>\"\n    post-tag=\"</mark>\"\n  />\n</template>\n\n<script>\nimport { createSuitMixin } from '../mixins/suit';\nimport AisHighlighter from './Highlighter.vue';\n\nexport default {\n  name: 'AisHighlight',\n  mixins: [createSuitMixin({ name: 'Highlight' })],\n  components: { AisHighlighter },\n  props: {\n    hit: {\n      type: Object,\n      required: true,\n    },\n    attribute: {\n      type: String,\n      required: true,\n    },\n    highlightedTagName: {\n      type: String,\n      default: 'mark',\n    },\n  },\n};\n</script>\n","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { uniq, find, createDocumentationMessageGenerator, warning } from '../utils';\n\nvar getSelectedHits = function getSelectedHits(hits, selectedObjectIDs) {\n  return selectedObjectIDs.map(function (objectID) {\n    var hit = find(hits, function (h) {\n      return h.objectID === objectID;\n    });\n\n    if (typeof hit === 'undefined') {\n      throw new Error(\"Could not find objectID \\\"\".concat(objectID, \"\\\" passed to `clickedObjectIDsAfterSearch` in the returned hits. This is necessary to infer the absolute position and the query ID.\"));\n    }\n\n    return hit;\n  });\n};\n\nvar getQueryID = function getQueryID(selectedHits) {\n  var queryIDs = uniq(selectedHits.map(function (hit) {\n    return hit.__queryID;\n  }));\n\n  if (queryIDs.length > 1) {\n    throw new Error('Insights currently allows a single `queryID`. The `objectIDs` provided map to multiple `queryID`s.');\n  }\n\n  var queryID = queryIDs[0];\n\n  if (typeof queryID !== 'string') {\n    throw new Error(\"Could not infer `queryID`. Ensure InstantSearch `clickAnalytics: true` was added with the Configure widget.\\n\\nSee: https://alg.li/lNiZZ7\");\n  }\n\n  return queryID;\n};\n\nvar getPositions = function getPositions(selectedHits) {\n  return selectedHits.map(function (hit) {\n    return hit.__position;\n  });\n};\n\nexport var inferPayload = function inferPayload(_ref) {\n  var method = _ref.method,\n      results = _ref.results,\n      hits = _ref.hits,\n      objectIDs = _ref.objectIDs;\n  var index = results.index;\n  var selectedHits = getSelectedHits(hits, objectIDs);\n  var queryID = getQueryID(selectedHits);\n\n  switch (method) {\n    case 'clickedObjectIDsAfterSearch':\n      {\n        var positions = getPositions(selectedHits);\n        return {\n          index: index,\n          queryID: queryID,\n          objectIDs: objectIDs,\n          positions: positions\n        };\n      }\n\n    case 'convertedObjectIDsAfterSearch':\n      return {\n        index: index,\n        queryID: queryID,\n        objectIDs: objectIDs\n      };\n\n    default:\n      throw new Error(\"Unsupported method passed to insights: \\\"\".concat(method, \"\\\".\"));\n  }\n};\n\nvar wrapInsightsClient = function wrapInsightsClient(aa, results, hits) {\n  return function (method, payload) {\n    process.env.NODE_ENV === 'development' ? warning(false, \"`insights` function has been deprecated. It is still supported in 4.x releases, but not further. It is replaced by the `insights` middleware.\\n\\nFor more information, visit https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/how-to/send-click-and-conversion-events-with-instantsearch/js/\") : void 0;\n\n    if (!aa) {\n      var withInstantSearchUsage = createDocumentationMessageGenerator({\n        name: 'instantsearch'\n      });\n      throw new Error(withInstantSearchUsage('The `insightsClient` option has not been provided to `instantsearch`.'));\n    }\n\n    if (!Array.isArray(payload.objectIDs)) {\n      throw new TypeError('Expected `objectIDs` to be an array.');\n    }\n\n    var inferredPayload = inferPayload({\n      method: method,\n      results: results,\n      hits: hits,\n      objectIDs: payload.objectIDs\n    });\n    aa(method, _objectSpread({}, inferredPayload, {}, payload));\n  };\n};\n/**\n * @deprecated This function will be still supported in 4.x releases, but not further. It is replaced by the `insights` middleware. For more information, visit https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/how-to/send-click-and-conversion-events-with-instantsearch/js/\n * It passes `insights` to `HitsWithInsightsListener` and `InfiniteHitsWithInsightsListener`.\n */\n\n\nexport default function withInsights(connector) {\n  var wrapRenderFn = function wrapRenderFn(renderFn) {\n    return function (renderOptions, isFirstRender) {\n      var results = renderOptions.results,\n          hits = renderOptions.hits,\n          instantSearchInstance = renderOptions.instantSearchInstance;\n\n      if (results && hits && instantSearchInstance) {\n        var insights = wrapInsightsClient(instantSearchInstance.insightsClient, results, hits);\n        return renderFn(_objectSpread({}, renderOptions, {\n          insights: insights\n        }), isFirstRender);\n      }\n\n      return renderFn(renderOptions, isFirstRender);\n    };\n  };\n\n  return function (renderFn, unmountFn) {\n    return connector(wrapRenderFn(renderFn), unmountFn);\n  };\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport var addAbsolutePosition = function addAbsolutePosition(hits, page, hitsPerPage) {\n  return hits.map(function (hit, idx) {\n    return _objectSpread({}, hit, {\n      __position: hitsPerPage * page + idx + 1\n    });\n  });\n};","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport var addQueryID = function addQueryID(hits, queryID) {\n  if (!queryID) {\n    return hits;\n  }\n\n  return hits.map(function (hit) {\n    return _objectSpread({}, hit, {\n      __queryID: queryID\n    });\n  });\n};","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport escapeHits, { TAG_PLACEHOLDER } from '../../lib/escape-highlight';\nimport { checkRendering, createDocumentationMessageGenerator, addAbsolutePosition, addQueryID, createSendEventForHits, createBindEventForHits, noop } from '../../lib/utils';\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'hits',\n  connector: true\n});\n\nvar connectHits = function connectHits(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  checkRendering(renderFn, withUsage());\n  return function (widgetParams) {\n    var _ref = widgetParams || {},\n        _ref$escapeHTML = _ref.escapeHTML,\n        escapeHTML = _ref$escapeHTML === void 0 ? true : _ref$escapeHTML,\n        _ref$transformItems = _ref.transformItems,\n        transformItems = _ref$transformItems === void 0 ? function (items) {\n      return items;\n    } : _ref$transformItems;\n\n    var sendEvent;\n    var bindEvent;\n    return {\n      $$type: 'ais.hits',\n      init: function init(initOptions) {\n        renderFn(_objectSpread({}, this.getWidgetRenderState(initOptions), {\n          instantSearchInstance: initOptions.instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        var renderState = this.getWidgetRenderState(renderOptions);\n        renderState.sendEvent('view', renderState.hits);\n        renderFn(_objectSpread({}, renderState, {\n          instantSearchInstance: renderOptions.instantSearchInstance\n        }), false);\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread({}, renderState, {\n          hits: this.getWidgetRenderState(renderOptions)\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref2) {\n        var results = _ref2.results,\n            helper = _ref2.helper,\n            instantSearchInstance = _ref2.instantSearchInstance;\n\n        if (!sendEvent) {\n          sendEvent = createSendEventForHits({\n            instantSearchInstance: instantSearchInstance,\n            index: helper.getIndex(),\n            widgetType: this.$$type\n          });\n        }\n\n        if (!bindEvent) {\n          bindEvent = createBindEventForHits({\n            index: helper.getIndex(),\n            widgetType: this.$$type\n          });\n        }\n\n        if (!results) {\n          return {\n            hits: [],\n            results: undefined,\n            sendEvent: sendEvent,\n            bindEvent: bindEvent,\n            widgetParams: widgetParams\n          };\n        }\n\n        if (escapeHTML && results.hits.length > 0) {\n          results.hits = escapeHits(results.hits);\n        }\n\n        var initialEscaped = results.hits.__escaped;\n        results.hits = addAbsolutePosition(results.hits, results.page, results.hitsPerPage);\n        results.hits = addQueryID(results.hits, results.queryID);\n        results.hits = transformItems(results.hits); // Make sure the escaped tag stays, even after mapping over the hits.\n        // This prevents the hits from being double-escaped if there are multiple\n        // hits widgets mounted on the page.\n\n        results.hits.__escaped = initialEscaped;\n        return {\n          hits: results.hits,\n          results: results,\n          sendEvent: sendEvent,\n          bindEvent: bindEvent,\n          widgetParams: widgetParams\n        };\n      },\n      dispose: function dispose(_ref3) {\n        var state = _ref3.state;\n        unmountFn();\n\n        if (!escapeHTML) {\n          return state;\n        }\n\n        return state.setQueryParameters(Object.keys(TAG_PLACEHOLDER).reduce(function (acc, key) {\n          return _objectSpread({}, acc, _defineProperty({}, key, undefined));\n        }, {}));\n      },\n      getWidgetSearchParameters: function getWidgetSearchParameters(state) {\n        if (!escapeHTML) {\n          return state;\n        }\n\n        return state.setQueryParameters(TAG_PLACEHOLDER);\n      }\n    };\n  };\n};\n\nexport default connectHits;","import { withInsights } from '../../lib/insights';\nimport connectHits from './connectHits';\nvar connectHitsWithInsights = withInsights(connectHits);\nexport default connectHitsWithInsights;","<template>\n  <div\n    v-if=\"state\"\n    :class=\"suit()\"\n  >\n    <slot\n      :items=\"items\"\n      :insights=\"state.insights\"\n    >\n      <ol :class=\"suit('list')\">\n        <li\n          v-for=\"(item, itemIndex) in items\"\n          :key=\"item.objectID\"\n          :class=\"suit('item')\"\n        >\n          <slot\n            name=\"item\"\n            :item=\"item\"\n            :index=\"itemIndex\"\n            :insights=\"state.insights\"\n          >objectID: {{ item.objectID }}, index: {{ itemIndex }}</slot>\n        </li>\n      </ol>\n    </slot>\n  </div>\n</template>\n\n<script>\nimport { connectHitsWithInsights } from 'instantsearch.js/es/connectors';\nimport { createWidgetMixin } from '../mixins/widget';\nimport { createSuitMixin } from '../mixins/suit';\n\nexport default {\n  name: 'AisHits',\n  mixins: [\n    createWidgetMixin({ connector: connectHitsWithInsights }),\n    createSuitMixin({ name: 'Hits' }),\n  ],\n  props: {\n    escapeHTML: {\n      type: Boolean,\n      default: true,\n    },\n    transformItems: {\n      type: Function,\n      default(items) {\n        return items;\n      },\n    },\n  },\n  computed: {\n    items() {\n      return this.state.hits;\n    },\n    widgetParams() {\n      return {\n        escapeHTML: this.escapeHTML,\n        transformItems: this.transformItems,\n      };\n    },\n  },\n};\n</script>\n","function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { checkRendering, warning, createDocumentationMessageGenerator, noop } from '../../lib/utils';\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'hits-per-page',\n  connector: true\n});\n\nvar connectHitsPerPage = function connectHitsPerPage(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  checkRendering(renderFn, withUsage());\n  return function (widgetParams) {\n    var _ref = widgetParams || {},\n        userItems = _ref.items,\n        _ref$transformItems = _ref.transformItems,\n        transformItems = _ref$transformItems === void 0 ? function (items) {\n      return items;\n    } : _ref$transformItems;\n\n    var items = userItems;\n\n    if (!Array.isArray(items)) {\n      throw new Error(withUsage('The `items` option expects an array of objects.'));\n    }\n\n    var defaultItems = items.filter(function (item) {\n      return item.default === true;\n    });\n\n    if (defaultItems.length === 0) {\n      throw new Error(withUsage(\"A default value must be specified in `items`.\"));\n    }\n\n    if (defaultItems.length > 1) {\n      throw new Error(withUsage('More than one default value is specified in `items`.'));\n    }\n\n    var defaultItem = defaultItems[0];\n\n    var normalizeItems = function normalizeItems(_ref2) {\n      var hitsPerPage = _ref2.hitsPerPage;\n      return items.map(function (item) {\n        return _objectSpread({}, item, {\n          isRefined: Number(item.value) === Number(hitsPerPage)\n        });\n      });\n    };\n\n    var connectorState = {\n      getRefine: function getRefine(helper) {\n        return function (value) {\n          return !value && value !== 0 ? helper.setQueryParameter('hitsPerPage', undefined).search() : helper.setQueryParameter('hitsPerPage', value).search();\n        };\n      },\n      createURLFactory: function createURLFactory(_ref3) {\n        var state = _ref3.state,\n            createURL = _ref3.createURL;\n        return function (value) {\n          return createURL(state.setQueryParameter('hitsPerPage', !value && value !== 0 ? undefined : value));\n        };\n      }\n    };\n    return {\n      $$type: 'ais.hitsPerPage',\n      init: function init(initOptions) {\n        var state = initOptions.state,\n            instantSearchInstance = initOptions.instantSearchInstance;\n        var isCurrentInOptions = items.some(function (item) {\n          return Number(state.hitsPerPage) === Number(item.value);\n        });\n\n        if (!isCurrentInOptions) {\n          process.env.NODE_ENV === 'development' ? warning(state.hitsPerPage !== undefined, \"\\n`hitsPerPage` is not defined.\\nThe option `hitsPerPage` needs to be set using the `configure` widget.\\n\\nLearn more: https://www.algolia.com/doc/api-reference/widgets/hits-per-page/js/\\n            \") : void 0;\n          process.env.NODE_ENV === 'development' ? warning(false, \"\\nThe `items` option of `hitsPerPage` does not contain the \\\"hits per page\\\" value coming from the state: \".concat(state.hitsPerPage, \".\\n\\nYou may want to add another entry to the `items` option with this value.\")) : void 0;\n          items = [// The helper will convert the empty string to `undefined`.\n          {\n            value: '',\n            label: ''\n          }].concat(_toConsumableArray(items));\n        }\n\n        renderFn(_objectSpread({}, this.getWidgetRenderState(initOptions), {\n          instantSearchInstance: instantSearchInstance\n        }), true);\n      },\n      render: function render(initOptions) {\n        var instantSearchInstance = initOptions.instantSearchInstance;\n        renderFn(_objectSpread({}, this.getWidgetRenderState(initOptions), {\n          instantSearchInstance: instantSearchInstance\n        }), false);\n      },\n      dispose: function dispose(_ref4) {\n        var state = _ref4.state;\n        unmountFn();\n        return state.setQueryParameter('hitsPerPage', undefined);\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread({}, renderState, {\n          hitsPerPage: this.getWidgetRenderState(renderOptions)\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref5) {\n        var state = _ref5.state,\n            results = _ref5.results,\n            createURL = _ref5.createURL,\n            helper = _ref5.helper;\n        return {\n          items: transformItems(normalizeItems(state)),\n          refine: connectorState.getRefine(helper),\n          createURL: connectorState.createURLFactory({\n            state: state,\n            createURL: createURL\n          }),\n          hasNoResults: results ? results.nbHits === 0 : true,\n          widgetParams: widgetParams\n        };\n      },\n      getWidgetUiState: function getWidgetUiState(uiState, _ref6) {\n        var searchParameters = _ref6.searchParameters;\n        var hitsPerPage = searchParameters.hitsPerPage;\n\n        if (hitsPerPage === undefined || hitsPerPage === defaultItem.value) {\n          return uiState;\n        }\n\n        return _objectSpread({}, uiState, {\n          hitsPerPage: hitsPerPage\n        });\n      },\n      getWidgetSearchParameters: function getWidgetSearchParameters(searchParameters, _ref7) {\n        var uiState = _ref7.uiState;\n        return searchParameters.setQueryParameters({\n          hitsPerPage: uiState.hitsPerPage || defaultItem.value\n        });\n      }\n    };\n  };\n};\n\nexport default connectHitsPerPage;","<template>\n  <div\n    v-if=\"state\"\n    :class=\"suit()\"\n  >\n    <slot\n      :items=\"state.items\"\n      :refine=\"state.refine\"\n      :hasNoResults=\"state.hasNoResults\"\n    >\n      <select\n        :class=\"suit('select')\"\n        v-model=\"selected\"\n        @change=\"handleChange\"\n      >\n        <option\n          v-for=\"item in state.items\"\n          :key=\"item.value\"\n          :class=\"suit('option')\"\n          :value=\"item.value\"\n        >{{ item.label }}</option>\n      </select>\n    </slot>\n  </div>\n</template>\n\n<script>\nimport { connectHitsPerPage } from 'instantsearch.js/es/connectors';\nimport { createPanelConsumerMixin } from '../mixins/panel';\nimport { createWidgetMixin } from '../mixins/widget';\nimport { createSuitMixin } from '../mixins/suit';\n\nexport default {\n  name: 'AisHitsPerPage',\n  mixins: [\n    createSuitMixin({ name: 'HitsPerPage' }),\n    createWidgetMixin({ connector: connectHitsPerPage }),\n    createPanelConsumerMixin({\n      mapStateToCanRefine: state => state.hasNoResults === false,\n    }),\n  ],\n  props: {\n    items: {\n      type: Array,\n      required: true,\n      default: () => [],\n    },\n    transformItems: {\n      type: Function,\n      default(items) {\n        return items;\n      },\n    },\n  },\n  data() {\n    return {\n      selected: this.items.find(item => item.default === true).value,\n    };\n  },\n  computed: {\n    widgetParams() {\n      return {\n        items: this.items,\n        transformItems: this.transformItems,\n      };\n    },\n  },\n  methods: {\n    handleChange() {\n      this.state.refine(this.selected);\n    },\n  },\n};\n</script>\n","var resolveSearchParameters = function resolveSearchParameters(current) {\n  var parent = current.getParent();\n  var states = [current.getHelper().state];\n\n  while (parent !== null) {\n    states = [parent.getHelper().state].concat(states);\n    parent = parent.getParent();\n  }\n\n  return states;\n};\n\nexport default resolveSearchParameters;","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport algoliasearchHelper from 'algoliasearch-helper';\nimport { checkIndexUiState, createDocumentationMessageGenerator, resolveSearchParameters, mergeSearchParameters, warning } from '../../lib/utils';\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'index-widget'\n});\nexport function isIndexWidget(widget) {\n  return widget.$$type === 'ais.index';\n}\n/**\n * This is the same content as helper._change / setState, but allowing for extra\n * UiState to be synchronized.\n * see: https://github.com/algolia/algoliasearch-helper-js/blob/6b835ffd07742f2d6b314022cce6848f5cfecd4a/src/algoliasearch.helper.js#L1311-L1324\n */\n\nfunction privateHelperSetState(helper, _ref) {\n  var state = _ref.state,\n      isPageReset = _ref.isPageReset,\n      _uiState = _ref._uiState;\n\n  if (state !== helper.state) {\n    helper.state = state;\n    helper.emit('change', {\n      state: helper.state,\n      results: helper.lastResults,\n      isPageReset: isPageReset,\n      _uiState: _uiState\n    });\n  }\n}\n\nfunction getLocalWidgetsState(widgets, widgetStateOptions) {\n  var initialUiState = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  return widgets.filter(function (widget) {\n    return !isIndexWidget(widget);\n  }).reduce(function (uiState, widget) {\n    if (!widget.getWidgetUiState && !widget.getWidgetState) {\n      return uiState;\n    }\n\n    if (widget.getWidgetUiState) {\n      return widget.getWidgetUiState(uiState, widgetStateOptions);\n    }\n\n    return widget.getWidgetState(uiState, widgetStateOptions);\n  }, initialUiState);\n}\n\nfunction getLocalWidgetsSearchParameters(widgets, widgetSearchParametersOptions) {\n  var initialSearchParameters = widgetSearchParametersOptions.initialSearchParameters,\n      rest = _objectWithoutProperties(widgetSearchParametersOptions, [\"initialSearchParameters\"]);\n\n  return widgets.filter(function (widget) {\n    return !isIndexWidget(widget);\n  }).reduce(function (state, widget) {\n    if (!widget.getWidgetSearchParameters) {\n      return state;\n    }\n\n    return widget.getWidgetSearchParameters(state, rest);\n  }, initialSearchParameters);\n}\n\nfunction resetPageFromWidgets(widgets) {\n  var indexWidgets = widgets.filter(isIndexWidget);\n\n  if (indexWidgets.length === 0) {\n    return;\n  }\n\n  indexWidgets.forEach(function (widget) {\n    var widgetHelper = widget.getHelper();\n    privateHelperSetState(widgetHelper, {\n      state: widgetHelper.state.resetPage(),\n      isPageReset: true\n    });\n    resetPageFromWidgets(widget.getWidgets());\n  });\n}\n\nfunction resolveScopedResultsFromWidgets(widgets) {\n  var indexWidgets = widgets.filter(isIndexWidget);\n  return indexWidgets.reduce(function (scopedResults, current) {\n    return scopedResults.concat.apply(scopedResults, [{\n      indexId: current.getIndexId(),\n      results: current.getResults(),\n      helper: current.getHelper()\n    }].concat(_toConsumableArray(resolveScopedResultsFromWidgets(current.getWidgets()))));\n  }, []);\n}\n\nfunction resolveScopedResultsFromIndex(widget) {\n  var widgetParent = widget.getParent(); // If the widget is the root, we consider itself as the only sibling.\n\n  var widgetSiblings = widgetParent ? widgetParent.getWidgets() : [widget];\n  return resolveScopedResultsFromWidgets(widgetSiblings);\n}\n\nvar index = function index(props) {\n  if (props === undefined || props.indexName === undefined) {\n    throw new Error(withUsage('The `indexName` option is required.'));\n  }\n\n  var indexName = props.indexName,\n      _props$indexId = props.indexId,\n      indexId = _props$indexId === void 0 ? indexName : _props$indexId;\n  var localWidgets = [];\n  var localUiState = {};\n  var localInstantSearchInstance = null;\n  var localParent = null;\n  var helper = null;\n  var derivedHelper = null;\n\n  var createURL = function createURL(nextState) {\n    return localInstantSearchInstance._createURL(_defineProperty({}, indexId, getLocalWidgetsState(localWidgets, {\n      searchParameters: nextState,\n      helper: helper\n    })));\n  };\n\n  return {\n    $$type: 'ais.index',\n    getIndexName: function getIndexName() {\n      return indexName;\n    },\n    getIndexId: function getIndexId() {\n      return indexId;\n    },\n    getHelper: function getHelper() {\n      return helper;\n    },\n    getResults: function getResults() {\n      return derivedHelper && derivedHelper.lastResults;\n    },\n    getParent: function getParent() {\n      return localParent;\n    },\n    getWidgets: function getWidgets() {\n      return localWidgets;\n    },\n    addWidgets: function addWidgets(widgets) {\n      var _this = this;\n\n      if (!Array.isArray(widgets)) {\n        throw new Error(withUsage('The `addWidgets` method expects an array of widgets.'));\n      }\n\n      if (widgets.some(function (widget) {\n        return typeof widget.init !== 'function' && typeof widget.render !== 'function';\n      })) {\n        throw new Error(withUsage('The widget definition expects a `render` and/or an `init` method.'));\n      }\n\n      localWidgets = localWidgets.concat(widgets);\n\n      if (localInstantSearchInstance && Boolean(widgets.length)) {\n        privateHelperSetState(helper, {\n          state: getLocalWidgetsSearchParameters(localWidgets, {\n            uiState: localUiState,\n            initialSearchParameters: helper.state\n          }),\n          _uiState: localUiState\n        }); // We compute the render state before calling `init` in a separate loop\n        // to construct the whole render state object that is then passed to\n        // `init`.\n\n        widgets.forEach(function (widget) {\n          if (widget.getRenderState) {\n            var renderState = widget.getRenderState(localInstantSearchInstance.renderState[_this.getIndexId()] || {}, {\n              uiState: localInstantSearchInstance._initialUiState,\n              helper: _this.getHelper(),\n              parent: _this,\n              instantSearchInstance: localInstantSearchInstance,\n              state: helper.state,\n              renderState: localInstantSearchInstance.renderState,\n              templatesConfig: localInstantSearchInstance.templatesConfig,\n              createURL: createURL,\n              scopedResults: [],\n              searchMetadata: {\n                isSearchStalled: localInstantSearchInstance._isSearchStalled\n              }\n            });\n            storeRenderState({\n              renderState: renderState,\n              instantSearchInstance: localInstantSearchInstance,\n              parent: _this\n            });\n          }\n        });\n        widgets.forEach(function (widget) {\n          if (widget.init) {\n            widget.init({\n              helper: helper,\n              parent: _this,\n              uiState: localInstantSearchInstance._initialUiState,\n              instantSearchInstance: localInstantSearchInstance,\n              state: helper.state,\n              renderState: localInstantSearchInstance.renderState,\n              templatesConfig: localInstantSearchInstance.templatesConfig,\n              createURL: createURL,\n              scopedResults: [],\n              searchMetadata: {\n                isSearchStalled: localInstantSearchInstance._isSearchStalled\n              }\n            });\n          }\n        });\n        localInstantSearchInstance.scheduleSearch();\n      }\n\n      return this;\n    },\n    removeWidgets: function removeWidgets(widgets) {\n      if (!Array.isArray(widgets)) {\n        throw new Error(withUsage('The `removeWidgets` method expects an array of widgets.'));\n      }\n\n      if (widgets.some(function (widget) {\n        return typeof widget.dispose !== 'function';\n      })) {\n        throw new Error(withUsage('The widget definition expects a `dispose` method.'));\n      }\n\n      localWidgets = localWidgets.filter(function (widget) {\n        return widgets.indexOf(widget) === -1;\n      });\n\n      if (localInstantSearchInstance && Boolean(widgets.length)) {\n        var nextState = widgets.reduce(function (state, widget) {\n          // the `dispose` method exists at this point we already assert it\n          var next = widget.dispose({\n            helper: helper,\n            state: state\n          });\n          return next || state;\n        }, helper.state);\n        localUiState = getLocalWidgetsState(localWidgets, {\n          searchParameters: nextState,\n          helper: helper\n        });\n        helper.setState(getLocalWidgetsSearchParameters(localWidgets, {\n          uiState: localUiState,\n          initialSearchParameters: nextState\n        }));\n\n        if (localWidgets.length) {\n          localInstantSearchInstance.scheduleSearch();\n        }\n      }\n\n      return this;\n    },\n    init: function init(_ref2) {\n      var _this2 = this;\n\n      var instantSearchInstance = _ref2.instantSearchInstance,\n          parent = _ref2.parent,\n          uiState = _ref2.uiState;\n      localInstantSearchInstance = instantSearchInstance;\n      localParent = parent;\n      localUiState = uiState[indexId] || {}; // The `mainHelper` is already defined at this point. The instance is created\n      // inside InstantSearch at the `start` method, which occurs before the `init`\n      // step.\n\n      var mainHelper = instantSearchInstance.mainHelper;\n      var parameters = getLocalWidgetsSearchParameters(localWidgets, {\n        uiState: localUiState,\n        initialSearchParameters: new algoliasearchHelper.SearchParameters({\n          index: indexName\n        })\n      }); // This Helper is only used for state management we do not care about the\n      // `searchClient`. Only the \"main\" Helper created at the `InstantSearch`\n      // level is aware of the client.\n\n      helper = algoliasearchHelper({}, parameters.index, parameters); // We forward the call to `search` to the \"main\" instance of the Helper\n      // which is responsible for managing the queries (it's the only one that is\n      // aware of the `searchClient`).\n\n      helper.search = function () {\n        if (instantSearchInstance.onStateChange) {\n          instantSearchInstance.onStateChange({\n            uiState: instantSearchInstance.mainIndex.getWidgetUiState({}),\n            setUiState: instantSearchInstance.setUiState.bind(instantSearchInstance)\n          }); // We don't trigger a search when controlled because it becomes the\n          // responsibility of `setUiState`.\n\n          return mainHelper;\n        }\n\n        return mainHelper.search();\n      };\n\n      helper.searchWithoutTriggeringOnStateChange = function () {\n        return mainHelper.search();\n      }; // We use the same pattern for the `searchForFacetValues`.\n\n\n      helper.searchForFacetValues = function (facetName, facetValue, maxFacetHits, userState) {\n        var state = helper.state.setQueryParameters(userState);\n        return mainHelper.searchForFacetValues(facetName, facetValue, maxFacetHits, state);\n      };\n\n      derivedHelper = mainHelper.derive(function () {\n        return mergeSearchParameters.apply(void 0, _toConsumableArray(resolveSearchParameters(_this2)));\n      }); // Subscribe to the Helper state changes for the page before widgets\n      // are initialized. This behavior mimics the original one of the Helper.\n      // It makes sense to replicate it at the `init` step. We have another\n      // listener on `change` below, once `init` is done.\n\n      helper.on('change', function (_ref3) {\n        var isPageReset = _ref3.isPageReset;\n\n        if (isPageReset) {\n          resetPageFromWidgets(localWidgets);\n        }\n      });\n      derivedHelper.on('search', function () {\n        // The index does not manage the \"staleness\" of the search. This is the\n        // responsibility of the main instance. It does not make sense to manage\n        // it at the index level because it's either: all of them or none of them\n        // that are stalled. The queries are performed into a single network request.\n        instantSearchInstance.scheduleStalledRender();\n\n        if (process.env.NODE_ENV === 'development') {\n          checkIndexUiState({\n            index: _this2,\n            indexUiState: localUiState\n          });\n        }\n      });\n      derivedHelper.on('result', function (_ref4) {\n        var results = _ref4.results;\n        // The index does not render the results it schedules a new render\n        // to let all the other indices emit their own results. It allows us to\n        // run the render process in one pass.\n        instantSearchInstance.scheduleRender(); // the derived helper is the one which actually searches, but the helper\n        // which is exposed e.g. via instance.helper, doesn't search, and thus\n        // does not have access to lastResults, which it used to in pre-federated\n        // search behavior.\n\n        helper.lastResults = results;\n      }); // We compute the render state before calling `render` in a separate loop\n      // to construct the whole render state object that is then passed to\n      // `render`.\n\n      localWidgets.forEach(function (widget) {\n        if (widget.getRenderState) {\n          var renderState = widget.getRenderState(instantSearchInstance.renderState[_this2.getIndexId()] || {}, {\n            uiState: uiState,\n            helper: helper,\n            parent: _this2,\n            instantSearchInstance: instantSearchInstance,\n            state: helper.state,\n            renderState: instantSearchInstance.renderState,\n            templatesConfig: instantSearchInstance.templatesConfig,\n            createURL: createURL,\n            scopedResults: [],\n            searchMetadata: {\n              isSearchStalled: instantSearchInstance._isSearchStalled\n            }\n          });\n          storeRenderState({\n            renderState: renderState,\n            instantSearchInstance: instantSearchInstance,\n            parent: _this2\n          });\n        }\n      });\n      localWidgets.forEach(function (widget) {\n        process.env.NODE_ENV === 'development' ? warning(!widget.getWidgetState, 'The `getWidgetState` method is renamed `getWidgetUiState` and will no longer exist under that name in InstantSearch.js 5.x. Please use `getWidgetUiState` instead.') : void 0;\n\n        if (widget.init) {\n          widget.init({\n            uiState: uiState,\n            helper: helper,\n            parent: _this2,\n            instantSearchInstance: instantSearchInstance,\n            state: helper.state,\n            renderState: instantSearchInstance.renderState,\n            templatesConfig: instantSearchInstance.templatesConfig,\n            createURL: createURL,\n            scopedResults: [],\n            searchMetadata: {\n              isSearchStalled: instantSearchInstance._isSearchStalled\n            }\n          });\n        }\n      }); // Subscribe to the Helper state changes for the `uiState` once widgets\n      // are initialized. Until the first render, state changes are part of the\n      // configuration step. This is mainly for backward compatibility with custom\n      // widgets. When the subscription happens before the `init` step, the (static)\n      // configuration of the widget is pushed in the URL. That's what we want to avoid.\n      // https://github.com/algolia/instantsearch.js/pull/994/commits/4a672ae3fd78809e213de0368549ef12e9dc9454\n\n      helper.on('change', function (event) {\n        var state = event.state; // @ts-ignore _uiState comes from privateHelperSetState and thus isn't typed on the helper event\n\n        var _uiState = event._uiState;\n        localUiState = getLocalWidgetsState(localWidgets, {\n          searchParameters: state,\n          helper: helper\n        }, _uiState || {}); // We don't trigger an internal change when controlled because it\n        // becomes the responsibility of `setUiState`.\n\n        if (!instantSearchInstance.onStateChange) {\n          instantSearchInstance.onInternalStateChange();\n        }\n      });\n    },\n    render: function render(_ref5) {\n      var _this3 = this;\n\n      var instantSearchInstance = _ref5.instantSearchInstance;\n\n      if (!this.getResults()) {\n        return;\n      }\n\n      localWidgets.forEach(function (widget) {\n        if (widget.getRenderState) {\n          var renderState = widget.getRenderState(instantSearchInstance.renderState[_this3.getIndexId()] || {}, {\n            helper: _this3.getHelper(),\n            parent: _this3,\n            instantSearchInstance: instantSearchInstance,\n            results: _this3.getResults(),\n            scopedResults: resolveScopedResultsFromIndex(_this3),\n            state: _this3.getResults()._state,\n            renderState: instantSearchInstance.renderState,\n            templatesConfig: instantSearchInstance.templatesConfig,\n            createURL: createURL,\n            searchMetadata: {\n              isSearchStalled: instantSearchInstance._isSearchStalled\n            }\n          });\n          storeRenderState({\n            renderState: renderState,\n            instantSearchInstance: instantSearchInstance,\n            parent: _this3\n          });\n        }\n      });\n      localWidgets.forEach(function (widget) {\n        // At this point, all the variables used below are set. Both `helper`\n        // and `derivedHelper` have been created at the `init` step. The attribute\n        // `lastResults` might be `null` though. It's possible that a stalled render\n        // happens before the result e.g with a dynamically added index the request might\n        // be delayed. The render is triggered for the complete tree but some parts do\n        // not have results yet.\n        if (widget.render) {\n          widget.render({\n            helper: helper,\n            parent: _this3,\n            instantSearchInstance: instantSearchInstance,\n            results: _this3.getResults(),\n            scopedResults: resolveScopedResultsFromIndex(_this3),\n            state: _this3.getResults()._state,\n            renderState: instantSearchInstance.renderState,\n            templatesConfig: instantSearchInstance.templatesConfig,\n            createURL: createURL,\n            searchMetadata: {\n              isSearchStalled: instantSearchInstance._isSearchStalled\n            }\n          });\n        }\n      });\n    },\n    dispose: function dispose() {\n      localWidgets.forEach(function (widget) {\n        if (widget.dispose) {\n          // The dispose function is always called once the instance is started\n          // (it's an effect of `removeWidgets`). The index is initialized and\n          // the Helper is available. We don't care about the return value of\n          // `dispose` because the index is removed. We can't call `removeWidgets`\n          // because we want to keep the widgets on the instance, to allow idempotent\n          // operations on `add` & `remove`.\n          widget.dispose({\n            helper: helper,\n            state: helper.state\n          });\n        }\n      });\n      localInstantSearchInstance = null;\n      localParent = null;\n      helper.removeAllListeners();\n      helper = null;\n      derivedHelper.detach();\n      derivedHelper = null;\n    },\n    getWidgetUiState: function getWidgetUiState(uiState) {\n      return localWidgets.filter(isIndexWidget).reduce(function (previousUiState, innerIndex) {\n        return innerIndex.getWidgetUiState(previousUiState);\n      }, _objectSpread({}, uiState, _defineProperty({}, this.getIndexId(), localUiState)));\n    },\n    getWidgetState: function getWidgetState(uiState) {\n      process.env.NODE_ENV === 'development' ? warning(false, 'The `getWidgetState` method is renamed `getWidgetUiState` and will no longer exist under that name in InstantSearch.js 5.x. Please use `getWidgetUiState` instead.') : void 0;\n      return this.getWidgetUiState(uiState);\n    },\n    getWidgetSearchParameters: function getWidgetSearchParameters(searchParameters, _ref6) {\n      var uiState = _ref6.uiState;\n      return getLocalWidgetsSearchParameters(localWidgets, {\n        uiState: uiState,\n        initialSearchParameters: searchParameters\n      });\n    },\n    refreshUiState: function refreshUiState() {\n      localUiState = getLocalWidgetsState(localWidgets, {\n        searchParameters: this.getHelper().state,\n        helper: this.getHelper()\n      });\n    }\n  };\n};\n\nexport default index;\n\nfunction storeRenderState(_ref7) {\n  var renderState = _ref7.renderState,\n      instantSearchInstance = _ref7.instantSearchInstance,\n      parent = _ref7.parent;\n  var parentIndexName = parent ? parent.getIndexId() : instantSearchInstance.mainIndex.getIndexId();\n  instantSearchInstance.renderState = _objectSpread({}, instantSearchInstance.renderState, _defineProperty({}, parentIndexName, _objectSpread({}, instantSearchInstance.renderState[parentIndexName], {}, renderState)));\n}","import{createSuitMixin as e}from\"../mixins/suit.js\";import{createWidgetMixin as i}from\"../mixins/widget.js\";import n from\"instantsearch.js/es/widgets/index/index\";export default{name:\"AisIndex\",mixins:[e({name:\"Index\"}),i({connector:function(){return n}})],provide:function(){var e=this;return{$_ais_getParentIndex:function(){return e.widget}}},props:{indexName:{type:String,required:!0},indexId:{type:String,required:!1}},render:function(e){return e(\"div\",{},this.$slots.default)},computed:{widgetParams:function(){return{indexName:this.indexName,indexId:this.indexId}}}};\n//# sourceMappingURL=Index.js.map\n","export default '4.9.2';","var NAMESPACE = 'ais';\nexport var component = function component(componentName) {\n  return function () {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        descendantName = _ref.descendantName,\n        modifierName = _ref.modifierName;\n\n    var descendent = descendantName ? \"-\".concat(descendantName) : '';\n    var modifier = modifierName ? \"--\".concat(modifierName) : '';\n    return \"\".concat(NAMESPACE, \"-\").concat(componentName).concat(descendent).concat(modifier);\n  };\n};","import { getPropertyByPath } from '../lib/utils';\nimport { TAG_REPLACEMENT } from '../lib/escape-highlight';\nimport { component } from '../lib/suit';\nvar suit = component('Highlight');\nexport default function highlight(_ref) {\n  var attribute = _ref.attribute,\n      _ref$highlightedTagNa = _ref.highlightedTagName,\n      highlightedTagName = _ref$highlightedTagNa === void 0 ? 'mark' : _ref$highlightedTagNa,\n      hit = _ref.hit,\n      _ref$cssClasses = _ref.cssClasses,\n      cssClasses = _ref$cssClasses === void 0 ? {} : _ref$cssClasses;\n\n  var _ref2 = getPropertyByPath(hit._highlightResult, attribute) || {},\n      _ref2$value = _ref2.value,\n      attributeValue = _ref2$value === void 0 ? '' : _ref2$value; // cx is not used, since it would be bundled as a dependency for Vue & Angular\n\n\n  var className = suit({\n    descendantName: 'highlighted'\n  }) + (cssClasses.highlighted ? \" \".concat(cssClasses.highlighted) : '');\n  return attributeValue.replace(new RegExp(TAG_REPLACEMENT.highlightPreTag, 'g'), \"<\".concat(highlightedTagName, \" class=\\\"\").concat(className, \"\\\">\")).replace(new RegExp(TAG_REPLACEMENT.highlightPostTag, 'g'), \"</\".concat(highlightedTagName, \">\"));\n}","import { getPropertyByPath } from '../lib/utils';\nimport { TAG_REPLACEMENT } from '../lib/escape-highlight';\nimport { component } from '../lib/suit';\nvar suit = component('Snippet');\nexport default function snippet(_ref) {\n  var attribute = _ref.attribute,\n      _ref$highlightedTagNa = _ref.highlightedTagName,\n      highlightedTagName = _ref$highlightedTagNa === void 0 ? 'mark' : _ref$highlightedTagNa,\n      hit = _ref.hit,\n      _ref$cssClasses = _ref.cssClasses,\n      cssClasses = _ref$cssClasses === void 0 ? {} : _ref$cssClasses;\n\n  var _ref2 = getPropertyByPath(hit._snippetResult, attribute) || {},\n      _ref2$value = _ref2.value,\n      attributeValue = _ref2$value === void 0 ? '' : _ref2$value; // cx is not used, since it would be bundled as a dependency for Vue & Angular\n\n\n  var className = suit({\n    descendantName: 'highlighted'\n  }) + (cssClasses.highlighted ? \" \".concat(cssClasses.highlighted) : '');\n  return attributeValue.replace(new RegExp(TAG_REPLACEMENT.highlightPreTag, 'g'), \"<\".concat(highlightedTagName, \" class=\\\"\").concat(className, \"\\\">\")).replace(new RegExp(TAG_REPLACEMENT.highlightPostTag, 'g'), \"</\".concat(highlightedTagName, \">\"));\n}","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport { warning } from '../lib/utils';\nexport function readDataAttributes(domElement) {\n  var method = domElement.getAttribute('data-insights-method');\n  var serializedPayload = domElement.getAttribute('data-insights-payload');\n\n  if (typeof serializedPayload !== 'string') {\n    throw new Error('The insights helper expects `data-insights-payload` to be a base64-encoded JSON string.');\n  }\n\n  try {\n    var payload = JSON.parse(atob(serializedPayload));\n    return {\n      method: method,\n      payload: payload\n    };\n  } catch (error) {\n    throw new Error('The insights helper was unable to parse `data-insights-payload`.');\n  }\n}\nexport function hasDataAttributes(domElement) {\n  return domElement.hasAttribute('data-insights-method');\n}\nexport function writeDataAttributes(_ref) {\n  var method = _ref.method,\n      payload = _ref.payload;\n\n  if (_typeof(payload) !== 'object') {\n    throw new Error(\"The insights helper expects the payload to be an object.\");\n  }\n\n  var serializedPayload;\n\n  try {\n    serializedPayload = btoa(JSON.stringify(payload));\n  } catch (error) {\n    throw new Error(\"Could not JSON serialize the payload object.\");\n  }\n\n  return \"data-insights-method=\\\"\".concat(method, \"\\\" data-insights-payload=\\\"\").concat(serializedPayload, \"\\\"\");\n}\n/**\n * @deprecated This function will be still supported in 4.x releases, but not further. It is replaced by the `insights` middleware. For more information, visit https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/how-to/send-click-and-conversion-events-with-instantsearch/js/\n */\n\nexport default function insights(method, payload) {\n  process.env.NODE_ENV === 'development' ? warning(false, \"`insights` function has been deprecated. It is still supported in 4.x releases, but not further. It is replaced by the `insights` middleware.\\n\\nFor more information, visit https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/how-to/send-click-and-conversion-events-with-instantsearch/js/\") : void 0;\n  return writeDataAttributes({\n    method: method,\n    payload: payload\n  });\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { highlight as _highlight, snippet as _snippet, insights as _insights } from '../helpers';\nexport default function hoganHelpers(_ref) {\n  var numberLocale = _ref.numberLocale;\n  return {\n    formatNumber: function formatNumber(value, render) {\n      return Number(render(value)).toLocaleString(numberLocale);\n    },\n    highlight: function highlight(options, render) {\n      try {\n        var highlightOptions = JSON.parse(options);\n        return render(_highlight(_objectSpread({}, highlightOptions, {\n          hit: this\n        })));\n      } catch (error) {\n        throw new Error(\"\\nThe highlight helper expects a JSON object of the format:\\n{ \\\"attribute\\\": \\\"name\\\", \\\"highlightedTagName\\\": \\\"mark\\\" }\");\n      }\n    },\n    snippet: function snippet(options, render) {\n      try {\n        var snippetOptions = JSON.parse(options);\n        return render(_snippet(_objectSpread({}, snippetOptions, {\n          hit: this\n        })));\n      } catch (error) {\n        throw new Error(\"\\nThe snippet helper expects a JSON object of the format:\\n{ \\\"attribute\\\": \\\"name\\\", \\\"highlightedTagName\\\": \\\"mark\\\" }\");\n      }\n    },\n    insights: function insights(options, render) {\n      try {\n        var _JSON$parse = JSON.parse(options),\n            method = _JSON$parse.method,\n            payload = _JSON$parse.payload;\n\n        return render(_insights(method, _objectSpread({\n          objectIDs: [this.objectID]\n        }, payload)));\n      } catch (error) {\n        throw new Error(\"\\nThe insights helper expects a JSON object of the format:\\n{ \\\"method\\\": \\\"method-name\\\", \\\"payload\\\": { \\\"eventName\\\": \\\"name of the event\\\" } }\");\n      }\n    }\n  };\n}","var nextMicroTask = Promise.resolve();\n\nvar defer = function defer(callback) {\n  var progress = null;\n  var cancelled = false;\n\n  var fn = function fn() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    if (progress !== null) {\n      return;\n    }\n\n    progress = nextMicroTask.then(function () {\n      progress = null;\n\n      if (cancelled) {\n        cancelled = false;\n        return;\n      }\n\n      callback.apply(void 0, args);\n    });\n  };\n\n  fn.wait = function () {\n    if (progress === null) {\n      throw new Error('The deferred function should be called before calling `wait()`');\n    }\n\n    return progress;\n  };\n\n  fn.cancel = function () {\n    if (progress === null) {\n      return;\n    }\n\n    cancelled = true;\n  };\n\n  return fn;\n};\n\nexport default defer;","function isPrimitive(obj) {\n  return obj !== Object(obj);\n}\n\nfunction isEqual(first, second) {\n  if (first === second) {\n    return true;\n  }\n\n  if (isPrimitive(first) || isPrimitive(second) || typeof first === 'function' || typeof second === 'function') {\n    return first === second;\n  }\n\n  if (Object.keys(first).length !== Object.keys(second).length) {\n    return false;\n  }\n\n  for (var _i = 0, _Object$keys = Object.keys(first); _i < _Object$keys.length; _i++) {\n    var key = _Object$keys[_i];\n\n    if (!(key in second)) {\n      return false;\n    }\n\n    if (!isEqual(first[key], second[key])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexport default isEqual;","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport simpleStateMapping from '../lib/stateMappings/simple';\nimport historyRouter from '../lib/routers/history';\nimport { isEqual } from '../lib/utils';\nexport var createRouterMiddleware = function createRouterMiddleware() {\n  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _props$router = props.router,\n      router = _props$router === void 0 ? historyRouter() : _props$router,\n      _props$stateMapping = props.stateMapping,\n      stateMapping = _props$stateMapping === void 0 ? simpleStateMapping() : _props$stateMapping;\n  return function (_ref) {\n    var instantSearchInstance = _ref.instantSearchInstance;\n\n    function topLevelCreateURL(nextState) {\n      var uiState = Object.keys(nextState).reduce(function (acc, indexId) {\n        return _objectSpread({}, acc, _defineProperty({}, indexId, nextState[indexId]));\n      }, instantSearchInstance.mainIndex.getWidgetUiState({}));\n      var route = stateMapping.stateToRoute(uiState);\n      return router.createURL(route);\n    }\n\n    instantSearchInstance._createURL = topLevelCreateURL;\n    instantSearchInstance._initialUiState = _objectSpread({}, instantSearchInstance._initialUiState, {}, stateMapping.routeToState(router.read()));\n    var lastRouteState = undefined;\n    return {\n      onStateChange: function onStateChange(_ref2) {\n        var uiState = _ref2.uiState;\n        var routeState = stateMapping.stateToRoute(uiState);\n\n        if (lastRouteState === undefined || !isEqual(lastRouteState, routeState)) {\n          router.write(routeState);\n          lastRouteState = routeState;\n        }\n      },\n      subscribe: function subscribe() {\n        router.onUpdate(function (route) {\n          instantSearchInstance.setUiState(stateMapping.routeToState(route));\n        });\n      },\n      unsubscribe: function unsubscribe() {\n        router.dispose();\n      }\n    };\n  };\n};","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport algoliasearchHelper from 'algoliasearch-helper';\nimport EventEmitter from 'events';\nimport index, { isIndexWidget } from '../widgets/index/index';\nimport version from './version';\nimport createHelpers from './createHelpers';\nimport { createDocumentationMessageGenerator, createDocumentationLink, defer, noop, warning, checkIndexUiState } from './utils';\nimport { createRouterMiddleware } from '../middlewares/createRouterMiddleware';\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'instantsearch'\n});\n\nfunction defaultCreateURL() {\n  return '#';\n}\n/**\n * Global options for an InstantSearch instance.\n */\n\n\n/**\n * The actual implementation of the InstantSearch. This is\n * created using the `instantsearch` factory function.\n * It emits the 'render' event every time a search is done\n */\nvar InstantSearch =\n/*#__PURE__*/\nfunction (_EventEmitter) {\n  _inherits(InstantSearch, _EventEmitter);\n\n  function InstantSearch(options) {\n    var _this;\n\n    _classCallCheck(this, InstantSearch);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(InstantSearch).call(this));\n\n    _defineProperty(_assertThisInitialized(_this), \"client\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"indexName\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"insightsClient\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"onStateChange\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"helper\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"mainHelper\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"mainIndex\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"started\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"templatesConfig\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"renderState\", {});\n\n    _defineProperty(_assertThisInitialized(_this), \"_stalledSearchDelay\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_searchStalledTimer\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_isSearchStalled\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_initialUiState\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_createURL\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_searchFunction\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_mainHelperSearch\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"middleware\", []);\n\n    _defineProperty(_assertThisInitialized(_this), \"sendEventToInsights\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"scheduleSearch\", defer(function () {\n      if (_this.started) {\n        _this.mainHelper.search();\n      }\n    }));\n\n    _defineProperty(_assertThisInitialized(_this), \"scheduleRender\", defer(function () {\n      if (!_this.mainHelper.hasPendingRequests()) {\n        clearTimeout(_this._searchStalledTimer);\n        _this._searchStalledTimer = null;\n        _this._isSearchStalled = false;\n      }\n\n      _this.mainIndex.render({\n        instantSearchInstance: _assertThisInitialized(_this)\n      });\n\n      _this.emit('render');\n    }));\n\n    _defineProperty(_assertThisInitialized(_this), \"onInternalStateChange\", function () {\n      var nextUiState = _this.mainIndex.getWidgetUiState({});\n\n      _this.middleware.forEach(function (m) {\n        m.onStateChange({\n          uiState: nextUiState\n        });\n      });\n    });\n\n    var _options$indexName = options.indexName,\n        indexName = _options$indexName === void 0 ? null : _options$indexName,\n        numberLocale = options.numberLocale,\n        _options$initialUiSta = options.initialUiState,\n        initialUiState = _options$initialUiSta === void 0 ? {} : _options$initialUiSta,\n        _options$routing = options.routing,\n        routing = _options$routing === void 0 ? null : _options$routing,\n        searchFunction = options.searchFunction,\n        _options$stalledSearc = options.stalledSearchDelay,\n        stalledSearchDelay = _options$stalledSearc === void 0 ? 200 : _options$stalledSearc,\n        _options$searchClient = options.searchClient,\n        searchClient = _options$searchClient === void 0 ? null : _options$searchClient,\n        _options$insightsClie = options.insightsClient,\n        insightsClient = _options$insightsClie === void 0 ? null : _options$insightsClie,\n        _options$onStateChang = options.onStateChange,\n        onStateChange = _options$onStateChang === void 0 ? null : _options$onStateChang;\n\n    if (indexName === null) {\n      throw new Error(withUsage('The `indexName` option is required.'));\n    }\n\n    if (searchClient === null) {\n      throw new Error(withUsage('The `searchClient` option is required.'));\n    }\n\n    if (typeof searchClient.search !== 'function') {\n      throw new Error(\"The `searchClient` must implement a `search` method.\\n\\nSee: https://www.algolia.com/doc/guides/building-search-ui/going-further/backend-search/in-depth/backend-instantsearch/js/\");\n    }\n\n    if (typeof searchClient.addAlgoliaAgent === 'function') {\n      searchClient.addAlgoliaAgent(\"instantsearch.js (\".concat(version, \")\"));\n    }\n\n    process.env.NODE_ENV === 'development' ? warning(insightsClient === null, \"`insightsClient` property has been deprecated. It is still supported in 4.x releases, but not further. It is replaced by the `insights` middleware.\\n\\nFor more information, visit https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/how-to/send-click-and-conversion-events-with-instantsearch/js/\") : void 0;\n\n    if (insightsClient && typeof insightsClient !== 'function') {\n      throw new Error(withUsage('The `insightsClient` option should be a function.'));\n    }\n\n    process.env.NODE_ENV === 'development' ? warning(!options.searchParameters, \"The `searchParameters` option is deprecated and will not be supported in InstantSearch.js 4.x.\\n\\nYou can replace it with the `configure` widget:\\n\\n```\\nsearch.addWidgets([\\n  configure(\".concat(JSON.stringify(options.searchParameters, null, 2), \")\\n]);\\n```\\n\\nSee \").concat(createDocumentationLink({\n      name: 'configure'\n    }))) : void 0;\n    _this.client = searchClient;\n    _this.insightsClient = insightsClient;\n    _this.indexName = indexName;\n    _this.helper = null;\n    _this.mainHelper = null;\n    _this.mainIndex = index({\n      indexName: indexName\n    });\n    _this.onStateChange = onStateChange;\n    _this.started = false;\n    _this.templatesConfig = {\n      helpers: createHelpers({\n        numberLocale: numberLocale\n      }),\n      compileOptions: {}\n    };\n    _this._stalledSearchDelay = stalledSearchDelay;\n    _this._searchStalledTimer = null;\n    _this._isSearchStalled = false;\n    _this._createURL = defaultCreateURL;\n    _this._initialUiState = initialUiState;\n\n    if (searchFunction) {\n      _this._searchFunction = searchFunction;\n    }\n\n    _this.sendEventToInsights = noop;\n\n    if (routing) {\n      var routerOptions = typeof routing === 'boolean' ? undefined : routing;\n\n      _this.use(createRouterMiddleware(routerOptions));\n    }\n\n    return _this;\n  }\n  /**\n   * Hooks a middleware into the InstantSearch lifecycle.\n   *\n   * This method is considered as experimental and is subject to change in\n   * minor versions.\n   */\n\n\n  _createClass(InstantSearch, [{\n    key: \"use\",\n    value: function use() {\n      var _this2 = this;\n\n      for (var _len = arguments.length, middleware = new Array(_len), _key = 0; _key < _len; _key++) {\n        middleware[_key] = arguments[_key];\n      }\n\n      var newMiddlewareList = middleware.map(function (fn) {\n        var newMiddleware = fn({\n          instantSearchInstance: _this2\n        });\n\n        _this2.middleware.push(newMiddleware);\n\n        return newMiddleware;\n      }); // If the instance has already started, we directly subscribe the\n      // middleware so they're notified of changes.\n\n      if (this.started) {\n        newMiddlewareList.forEach(function (m) {\n          m.subscribe();\n        });\n      }\n\n      return this;\n    } // @major we shipped with EXPERIMENTAL_use, but have changed that to just `use` now\n\n  }, {\n    key: \"EXPERIMENTAL_use\",\n    value: function EXPERIMENTAL_use() {\n      process.env.NODE_ENV === 'development' ? warning(false, 'The middleware API is now considered stable, so we recommend replacing `EXPERIMENTAL_use` with `use` before upgrading to the next major version.') : void 0;\n      return this.use.apply(this, arguments);\n    }\n    /**\n     * Adds a widget to the search instance.\n     * A widget can be added either before or after InstantSearch has started.\n     * @param widget The widget to add to InstantSearch.\n     *\n     * @deprecated This method will still be supported in 4.x releases, but not further. It is replaced by `addWidgets([widget])`.\n     */\n\n  }, {\n    key: \"addWidget\",\n    value: function addWidget(widget) {\n      process.env.NODE_ENV === 'development' ? warning(false, 'addWidget will still be supported in 4.x releases, but not further. It is replaced by `addWidgets([widget])`') : void 0;\n      return this.addWidgets([widget]);\n    }\n    /**\n     * Adds multiple widgets to the search instance.\n     * Widgets can be added either before or after InstantSearch has started.\n     * @param widgets The array of widgets to add to InstantSearch.\n     */\n\n  }, {\n    key: \"addWidgets\",\n    value: function addWidgets(widgets) {\n      if (!Array.isArray(widgets)) {\n        throw new Error(withUsage('The `addWidgets` method expects an array of widgets. Please use `addWidget`.'));\n      }\n\n      if (widgets.some(function (widget) {\n        return typeof widget.init !== 'function' && typeof widget.render !== 'function';\n      })) {\n        throw new Error(withUsage('The widget definition expects a `render` and/or an `init` method.'));\n      }\n\n      this.mainIndex.addWidgets(widgets);\n      return this;\n    }\n    /**\n     * Removes a widget from the search instance.\n     * @deprecated This method will still be supported in 4.x releases, but not further. It is replaced by `removeWidgets([widget])`\n     * @param widget The widget instance to remove from InstantSearch.\n     *\n     * The widget must implement a `dispose()` method to clear its state.\n     */\n\n  }, {\n    key: \"removeWidget\",\n    value: function removeWidget(widget) {\n      process.env.NODE_ENV === 'development' ? warning(false, 'removeWidget will still be supported in 4.x releases, but not further. It is replaced by `removeWidgets([widget])`') : void 0;\n      return this.removeWidgets([widget]);\n    }\n    /**\n     * Removes multiple widgets from the search instance.\n     * @param widgets Array of widgets instances to remove from InstantSearch.\n     *\n     * The widgets must implement a `dispose()` method to clear their states.\n     */\n\n  }, {\n    key: \"removeWidgets\",\n    value: function removeWidgets(widgets) {\n      if (!Array.isArray(widgets)) {\n        throw new Error(withUsage('The `removeWidgets` method expects an array of widgets. Please use `removeWidget`.'));\n      }\n\n      if (widgets.some(function (widget) {\n        return typeof widget.dispose !== 'function';\n      })) {\n        throw new Error(withUsage('The widget definition expects a `dispose` method.'));\n      }\n\n      this.mainIndex.removeWidgets(widgets);\n      return this;\n    }\n    /**\n     * Ends the initialization of InstantSearch.js and triggers the\n     * first search. This method should be called after all widgets have been added\n     * to the instance of InstantSearch.js. InstantSearch.js also supports adding and removing\n     * widgets after the start as an **EXPERIMENTAL** feature.\n     */\n\n  }, {\n    key: \"start\",\n    value: function start() {\n      var _this3 = this;\n\n      if (this.started) {\n        throw new Error(withUsage('The `start` method has already been called once.'));\n      } // This Helper is used for the queries, we don't care about its state. The\n      // states are managed at the `index` level. We use this Helper to create\n      // DerivedHelper scoped into the `index` widgets.\n\n\n      var mainHelper = algoliasearchHelper(this.client, this.indexName);\n\n      mainHelper.search = function () {\n        // This solution allows us to keep the exact same API for the users but\n        // under the hood, we have a different implementation. It should be\n        // completely transparent for the rest of the codebase. Only this module\n        // is impacted.\n        return mainHelper.searchOnlyWithDerivedHelpers();\n      };\n\n      if (this._searchFunction) {\n        // this client isn't used to actually search, but required for the helper\n        // to not throw errors\n        var fakeClient = {\n          search: function search() {\n            return new Promise(noop);\n          }\n        };\n        this._mainHelperSearch = mainHelper.search.bind(mainHelper);\n\n        mainHelper.search = function () {\n          var mainIndexHelper = _this3.mainIndex.getHelper();\n\n          var searchFunctionHelper = algoliasearchHelper(fakeClient, mainIndexHelper.state.index, mainIndexHelper.state);\n          searchFunctionHelper.once('search', function (_ref) {\n            var state = _ref.state;\n            mainIndexHelper.overrideStateWithoutTriggeringChangeEvent(state);\n\n            _this3._mainHelperSearch();\n          }); // Forward state changes from `searchFunctionHelper` to `mainIndexHelper`\n\n          searchFunctionHelper.on('change', function (_ref2) {\n            var state = _ref2.state;\n            mainIndexHelper.setState(state);\n          });\n\n          _this3._searchFunction(searchFunctionHelper);\n\n          return mainHelper;\n        };\n      } // Only the \"main\" Helper emits the `error` event vs the one for `search`\n      // and `results` that are also emitted on the derived one.\n\n\n      mainHelper.on('error', function (_ref3) {\n        var error = _ref3.error;\n\n        _this3.emit('error', {\n          error: error\n        });\n      });\n      this.mainHelper = mainHelper;\n      this.mainIndex.init({\n        instantSearchInstance: this,\n        parent: null,\n        uiState: this._initialUiState\n      });\n      this.middleware.forEach(function (m) {\n        m.subscribe();\n      });\n      mainHelper.search(); // Keep the previous reference for legacy purpose, some pattern use\n      // the direct Helper access `search.helper` (e.g multi-index).\n\n      this.helper = this.mainIndex.getHelper(); // track we started the search if we add more widgets,\n      // to init them directly after add\n\n      this.started = true;\n    }\n    /**\n     * Removes all widgets without triggering a search afterwards. This is an **EXPERIMENTAL** feature,\n     * if you find an issue with it, please\n     * [open an issue](https://github.com/algolia/instantsearch.js/issues/new?title=Problem%20with%20dispose).\n     * @return {undefined} This method does not return anything\n     */\n\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      this.scheduleSearch.cancel();\n      this.scheduleRender.cancel();\n      clearTimeout(this._searchStalledTimer);\n      this.removeWidgets(this.mainIndex.getWidgets());\n      this.mainIndex.dispose(); // You can not start an instance two times, therefore a disposed instance\n      // needs to set started as false otherwise this can not be restarted at a\n      // later point.\n\n      this.started = false; // The helper needs to be reset to perform the next search from a fresh state.\n      // If not reset, it would use the state stored before calling `dispose()`.\n\n      this.removeAllListeners();\n      this.mainHelper.removeAllListeners();\n      this.mainHelper = null;\n      this.helper = null;\n      this.middleware.forEach(function (m) {\n        m.unsubscribe();\n      });\n    }\n  }, {\n    key: \"scheduleStalledRender\",\n    value: function scheduleStalledRender() {\n      var _this4 = this;\n\n      if (!this._searchStalledTimer) {\n        this._searchStalledTimer = setTimeout(function () {\n          _this4._isSearchStalled = true;\n\n          _this4.scheduleRender();\n        }, this._stalledSearchDelay);\n      }\n    }\n  }, {\n    key: \"setUiState\",\n    value: function setUiState(uiState) {\n      if (!this.mainHelper) {\n        throw new Error(withUsage('The `start` method needs to be called before `setUiState`.'));\n      } // We refresh the index UI state to update the local UI state that the\n      // main index passes to the function form of `setUiState`.\n\n\n      this.mainIndex.refreshUiState();\n      var nextUiState = typeof uiState === 'function' ? uiState(this.mainIndex.getWidgetUiState({})) : uiState;\n\n      var setIndexHelperState = function setIndexHelperState(indexWidget) {\n        if (process.env.NODE_ENV === 'development') {\n          checkIndexUiState({\n            index: indexWidget,\n            indexUiState: nextUiState[indexWidget.getIndexId()]\n          });\n        }\n\n        indexWidget.getHelper().overrideStateWithoutTriggeringChangeEvent(indexWidget.getWidgetSearchParameters(indexWidget.getHelper().state, {\n          uiState: nextUiState[indexWidget.getIndexId()]\n        }));\n        indexWidget.getWidgets().filter(isIndexWidget).forEach(setIndexHelperState);\n      };\n\n      setIndexHelperState(this.mainIndex);\n      this.scheduleSearch();\n      this.onInternalStateChange();\n    }\n  }, {\n    key: \"createURL\",\n    value: function createURL() {\n      var nextState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      if (!this.started) {\n        throw new Error(withUsage('The `start` method needs to be called before `createURL`.'));\n      }\n\n      return this._createURL(nextState);\n    }\n  }, {\n    key: \"refresh\",\n    value: function refresh() {\n      if (!this.mainHelper) {\n        throw new Error(withUsage('The `start` method needs to be called before `refresh`.'));\n      }\n\n      this.mainHelper.clearCache().search();\n    }\n  }]);\n\n  return InstantSearch;\n}(EventEmitter);\n\nexport default InstantSearch;","import { warning } from '../lib/utils';\nexport var ANONYMOUS_TOKEN_COOKIE_KEY = '_ALGOLIA';\n\nfunction getCookie(name) {\n  var prefix = \"\".concat(name, \"=\");\n  var cookies = document.cookie.split(';');\n\n  for (var i = 0; i < cookies.length; i++) {\n    var cookie = cookies[i];\n\n    while (cookie.charAt(0) === ' ') {\n      cookie = cookie.substring(1);\n    }\n\n    if (cookie.indexOf(prefix) === 0) {\n      return cookie.substring(prefix.length, cookie.length);\n    }\n  }\n\n  return undefined;\n}\n\nexport function getInsightsAnonymousUserTokenInternal() {\n  return getCookie(ANONYMOUS_TOKEN_COOKIE_KEY);\n}\n/**\n * @deprecated This function will be still supported in 4.x releases, but not further. It is replaced by the `insights` middleware. For more information, visit https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/how-to/send-click-and-conversion-events-with-instantsearch/js/\n */\n\nexport default function getInsightsAnonymousUserToken() {\n  process.env.NODE_ENV === 'development' ? warning(false, \"`getInsightsAnonymousUserToken` function has been deprecated. It is still supported in 4.x releases, but not further. It is replaced by the `insights` middleware.\\n\\nFor more information, visit https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/how-to/send-click-and-conversion-events-with-instantsearch/js/\") : void 0;\n  return getInsightsAnonymousUserTokenInternal();\n}","function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport { isEqual } from '../utils';\n\nfunction getStateWithoutPage(state) {\n  var _ref = state || {},\n      page = _ref.page,\n      rest = _objectWithoutProperties(_ref, [\"page\"]);\n\n  return rest;\n}\n\nvar KEY = 'ais.infiniteHits';\n\nfunction hasSessionStorage() {\n  return typeof window !== 'undefined' && typeof window.sessionStorage !== 'undefined';\n}\n\nexport default function createInfiniteHitsSessionStorageCache() {\n  return {\n    read: function read(_ref2) {\n      var state = _ref2.state;\n\n      if (!hasSessionStorage()) {\n        return null;\n      }\n\n      try {\n        var cache = JSON.parse( // @ts-ignore JSON.parse() requires a string, but it actually accepts null, too.\n        window.sessionStorage.getItem(KEY));\n        return cache && isEqual(cache.state, getStateWithoutPage(state)) ? cache.hits : null;\n      } catch (error) {\n        if (error instanceof SyntaxError) {\n          try {\n            window.sessionStorage.removeItem(KEY);\n          } catch (err) {// do nothing\n          }\n        }\n\n        return null;\n      }\n    },\n    write: function write(_ref3) {\n      var state = _ref3.state,\n          hits = _ref3.hits;\n\n      if (!hasSessionStorage()) {\n        return;\n      }\n\n      try {\n        window.sessionStorage.setItem(KEY, JSON.stringify({\n          state: getStateWithoutPage(state),\n          hits: hits\n        }));\n      } catch (error) {// do nothing\n      }\n    }\n  };\n}","import InstantSearch from './lib/InstantSearch';\nimport version from './lib/version';\nimport { snippet, highlight, insights, getInsightsAnonymousUserToken } from './helpers';\nimport { createInfiniteHitsSessionStorageCache } from './lib/infiniteHitsCache';\n\nvar instantsearch = function instantsearch(options) {\n  return new InstantSearch(options);\n};\n\ninstantsearch.version = version;\ninstantsearch.snippet = snippet;\ninstantsearch.highlight = highlight;\ninstantsearch.insights = insights;\ninstantsearch.getInsightsAnonymousUserToken = getInsightsAnonymousUserToken;\ninstantsearch.createInfiniteHitsSessionStorageCache = createInfiniteHitsSessionStorageCache;\nObject.defineProperty(instantsearch, 'widgets', {\n  get: function get() {\n    throw new ReferenceError(\"\\\"instantsearch.widgets\\\" are not available from the ES build.\\n\\nTo import the widgets:\\n\\nimport { searchBox } from 'instantsearch.js/es/widgets'\");\n  }\n});\nObject.defineProperty(instantsearch, 'connectors', {\n  get: function get() {\n    throw new ReferenceError(\"\\\"instantsearch.connectors\\\" are not available from the ES build.\\n\\nTo import the connectors:\\n\\nimport { connectSearchBox } from 'instantsearch.js/es/connectors'\");\n  }\n});\nexport default instantsearch;\n","var r=\"3.4.2\";export{r as version};\n//# sourceMappingURL=package.json.js.map\n","function e(e){for(var r=arguments,n=1;n<arguments.length;n++){var o=null!=r[n]?r[n]:{},c=Object.keys(o);\"function\"==typeof Object.getOwnPropertySymbols&&(c=c.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),c.forEach(function(r){t(e,r,o[r])})}return e}function t(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}export{e as _objectSpread};\n//# sourceMappingURL=polyfills.js.map\n","import{createSuitMixin as n}from\"../mixins/suit.js\";import t from\"vue\";import{version as e}from\"../../package.json.js\";import{_objectSpread as a}from\"./polyfills.js\";var i=function(i){return a({mixins:[n({name:\"InstantSearch\"})],provide:function(){return{$_ais_instantSearchInstance:this.instantSearchInstance}},watch:{searchClient:function(n){this.instantSearchInstance.helper.setClient(n).search()},indexName:function(n){this.instantSearchInstance.helper.setIndex(n).search()},stalledSearchDelay:function(n){this.instantSearchInstance._stalledSearchDelay=n},routing:function(){throw new Error(\"routing configuration can not be changed dynamically at this point.\\n\\nPlease open a new issue: https://github.com/algolia/vue-instantsearch/issues/new?template=feature.md\")},searchFunction:function(n){this.instantSearchInstance._searchFunction=n}},created:function(){var n=this.instantSearchInstance.client;\"function\"==typeof n.addAlgoliaAgent&&(n.addAlgoliaAgent(\"Vue (\"+t.version+\")\"),n.addAlgoliaAgent(\"Vue InstantSearch (\"+e+\")\"))},mounted:function(){var n=this;this.$nextTick(function(){n.instantSearchInstance.started||n.instantSearchInstance.start()})},beforeDestroy:function(){this.instantSearchInstance.started&&this.instantSearchInstance.dispose(),this.instantSearchInstance.__initialSearchResults=void 0}},i)};export{i as createInstantSearchComponent};\n//# sourceMappingURL=createInstantSearchComponent.js.map\n","import{warn as e}from\"../util/warn.js\";import t from\"instantsearch.js/es\";import{createInstantSearchComponent as i}from\"../util/createInstantSearchComponent.js\";var n=\"Vue InstantSearch: You used the prop api-key or app-id.\\nThese have been replaced by search-client.\\n\\nSee more info here: https://www.algolia.com/doc/api-reference/widgets/instantsearch/vue/#widget-param-search-client\";export default i({name:\"AisInstantSearch\",props:{searchClient:{type:Object,required:!0},insightsClient:{type:Function,required:!1},indexName:{type:String,required:!0},routing:{default:null,validator:function(t){return!(\"boolean\"==typeof t||!t.router&&!t.stateMapping)||(e(\"The `routing` option expects an object with `router` and/or `stateMapping`.\\n\\nSee https://www.algolia.com/doc/api-reference/widgets/instantsearch/vue/#widget-param-routing\"),!1)}},stalledSearchDelay:{type:Number,default:200},searchFunction:{type:Function,default:null},initialUiState:{type:Object,required:!1},apiKey:{type:String,default:null,validator:function(t){return t&&e(n),!1}},appId:{type:String,default:null,validator:function(t){return t&&e(n),!1}}},data:function(){return{instantSearchInstance:t({searchClient:this.searchClient,insightsClient:this.insightsClient,indexName:this.indexName,routing:this.routing,stalledSearchDelay:this.stalledSearchDelay,searchFunction:this.searchFunction,initialUiState:this.initialUiState})}},render:function(e){var t;return e(\"div\",{class:(t={},t[this.suit()]=!0,t[this.suit(\"\",\"ssr\")]=!1,t)},this.$slots.default)}});\n//# sourceMappingURL=InstantSearch.js.map\n","import{createInstantSearchComponent as t}from\"../util/createInstantSearchComponent.js\";export default t({name:\"AisInstantSearchSsr\",inject:{$_ais_ssrInstantSearchInstance:{default:function(){throw new Error(\"`createServerRootMixin` is required when using SSR.\")}}},data:function(){return{instantSearchInstance:this.$_ais_ssrInstantSearchInstance}},render:function(t){var n;return t(\"div\",{class:(n={},n[this.suit()]=!0,n[this.suit(\"\",\"ssr\")]=!0,n)},this.$slots.default)}});\n//# sourceMappingURL=InstantSearchSsr.js.map\n","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport escapeHits, { TAG_PLACEHOLDER } from '../../lib/escape-highlight';\nimport { checkRendering, createDocumentationMessageGenerator, isEqual, addAbsolutePosition, addQueryID, noop, createSendEventForHits, createBindEventForHits } from '../../lib/utils';\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'infinite-hits',\n  connector: true\n});\n\nfunction getStateWithoutPage(state) {\n  var _ref = state || {},\n      page = _ref.page,\n      rest = _objectWithoutProperties(_ref, [\"page\"]);\n\n  return rest;\n}\n\nfunction getInMemoryCache() {\n  var cachedHits = null;\n  var cachedState = undefined;\n  return {\n    read: function read(_ref2) {\n      var state = _ref2.state;\n      return isEqual(cachedState, getStateWithoutPage(state)) ? cachedHits : null;\n    },\n    write: function write(_ref3) {\n      var state = _ref3.state,\n          hits = _ref3.hits;\n      cachedState = getStateWithoutPage(state);\n      cachedHits = hits;\n    }\n  };\n}\n\nfunction extractHitsFromCachedHits(cachedHits) {\n  return Object.keys(cachedHits).map(Number).sort(function (a, b) {\n    return a - b;\n  }).reduce(function (acc, page) {\n    return acc.concat(cachedHits[page]);\n  }, []);\n}\n\nvar connectInfiniteHits = function connectInfiniteHits(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  checkRendering(renderFn, withUsage());\n  return function (widgetParams) {\n    var _ref4 = widgetParams || {},\n        _ref4$escapeHTML = _ref4.escapeHTML,\n        escapeHTML = _ref4$escapeHTML === void 0 ? true : _ref4$escapeHTML,\n        _ref4$transformItems = _ref4.transformItems,\n        transformItems = _ref4$transformItems === void 0 ? function (items) {\n      return items;\n    } : _ref4$transformItems,\n        _ref4$cache = _ref4.cache,\n        cache = _ref4$cache === void 0 ? getInMemoryCache() : _ref4$cache;\n\n    var showPrevious;\n    var showMore;\n    var sendEvent;\n    var bindEvent;\n\n    var getFirstReceivedPage = function getFirstReceivedPage(state, cachedHits) {\n      var _state$page = state.page,\n          page = _state$page === void 0 ? 0 : _state$page;\n      var pages = Object.keys(cachedHits).map(Number);\n\n      if (pages.length === 0) {\n        return page;\n      } else {\n        return Math.min.apply(Math, [page].concat(_toConsumableArray(pages)));\n      }\n    };\n\n    var getLastReceivedPage = function getLastReceivedPage(state, cachedHits) {\n      var _state$page2 = state.page,\n          page = _state$page2 === void 0 ? 0 : _state$page2;\n      var pages = Object.keys(cachedHits).map(Number);\n\n      if (pages.length === 0) {\n        return page;\n      } else {\n        return Math.max.apply(Math, [page].concat(_toConsumableArray(pages)));\n      }\n    };\n\n    var getShowPrevious = function getShowPrevious(helper, cachedHits) {\n      return function () {\n        // Using the helper's `overrideStateWithoutTriggeringChangeEvent` method\n        // avoid updating the browser URL when the user displays the previous page.\n        helper.overrideStateWithoutTriggeringChangeEvent(_objectSpread({}, helper.state, {\n          page: getFirstReceivedPage(helper.state, cachedHits) - 1\n        })).searchWithoutTriggeringOnStateChange();\n      };\n    };\n\n    var getShowMore = function getShowMore(helper, cachedHits) {\n      return function () {\n        helper.setPage(getLastReceivedPage(helper.state, cachedHits) + 1).search();\n      };\n    };\n\n    return {\n      $$type: 'ais.infiniteHits',\n      init: function init(initOptions) {\n        renderFn(_objectSpread({}, this.getWidgetRenderState(initOptions), {\n          instantSearchInstance: initOptions.instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        var instantSearchInstance = renderOptions.instantSearchInstance;\n        var widgetRenderState = this.getWidgetRenderState(renderOptions);\n        sendEvent('view', widgetRenderState.currentPageHits);\n        renderFn(_objectSpread({}, widgetRenderState, {\n          instantSearchInstance: instantSearchInstance\n        }), false);\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread({}, renderState, {\n          infiniteHits: this.getWidgetRenderState(renderOptions)\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref5) {\n        var results = _ref5.results,\n            helper = _ref5.helper,\n            state = _ref5.state,\n            instantSearchInstance = _ref5.instantSearchInstance;\n        var isFirstPage;\n        var currentPageHits = [];\n        var cachedHits = cache.read({\n          state: state\n        }) || {};\n\n        if (!results) {\n          showPrevious = getShowPrevious(helper, cachedHits);\n          showMore = getShowMore(helper, cachedHits);\n          sendEvent = createSendEventForHits({\n            instantSearchInstance: instantSearchInstance,\n            index: helper.getIndex(),\n            widgetType: this.$$type\n          });\n          bindEvent = createBindEventForHits({\n            index: helper.getIndex(),\n            widgetType: this.$$type\n          });\n          isFirstPage = helper.state.page === undefined || getFirstReceivedPage(helper.state, cachedHits) === 0;\n        } else {\n          var _state$page3 = state.page,\n              _page = _state$page3 === void 0 ? 0 : _state$page3;\n\n          if (escapeHTML && results.hits.length > 0) {\n            results.hits = escapeHits(results.hits);\n          }\n\n          var initialEscaped = results.hits.__escaped;\n          results.hits = addAbsolutePosition(results.hits, results.page, results.hitsPerPage);\n          results.hits = addQueryID(results.hits, results.queryID);\n          results.hits = transformItems(results.hits); // Make sure the escaped tag stays after mapping over the hits.\n          // This prevents the hits from being double-escaped if there are multiple\n          // hits widgets mounted on the page.\n\n          results.hits.__escaped = initialEscaped;\n\n          if (cachedHits[_page] === undefined) {\n            cachedHits[_page] = results.hits;\n            cache.write({\n              state: state,\n              hits: cachedHits\n            });\n          }\n\n          currentPageHits = results.hits;\n          isFirstPage = getFirstReceivedPage(state, cachedHits) === 0;\n        }\n\n        var hits = extractHitsFromCachedHits(cachedHits);\n        var isLastPage = results ? results.nbPages <= getLastReceivedPage(state, cachedHits) + 1 : true;\n        return {\n          hits: hits,\n          currentPageHits: currentPageHits,\n          sendEvent: sendEvent,\n          bindEvent: bindEvent,\n          results: results,\n          showPrevious: showPrevious,\n          showMore: showMore,\n          isFirstPage: isFirstPage,\n          isLastPage: isLastPage,\n          widgetParams: widgetParams\n        };\n      },\n      dispose: function dispose(_ref6) {\n        var state = _ref6.state;\n        unmountFn();\n        var stateWithoutPage = state.setQueryParameter('page', undefined);\n\n        if (!escapeHTML) {\n          return stateWithoutPage;\n        }\n\n        return stateWithoutPage.setQueryParameters(Object.keys(TAG_PLACEHOLDER).reduce(function (acc, key) {\n          return _objectSpread({}, acc, _defineProperty({}, key, undefined));\n        }, {}));\n      },\n      getWidgetUiState: function getWidgetUiState(uiState, _ref7) {\n        var searchParameters = _ref7.searchParameters;\n        var page = searchParameters.page || 0;\n\n        if (!page) {\n          // return without adding `page` to uiState\n          // because we don't want `page=1` in the URL\n          return uiState;\n        }\n\n        return _objectSpread({}, uiState, {\n          // The page in the UI state is incremented by one\n          // to expose the user value (not `0`).\n          page: page + 1\n        });\n      },\n      getWidgetSearchParameters: function getWidgetSearchParameters(searchParameters, _ref8) {\n        var uiState = _ref8.uiState;\n        var widgetSearchParameters = searchParameters;\n\n        if (escapeHTML) {\n          widgetSearchParameters = searchParameters.setQueryParameters(TAG_PLACEHOLDER);\n        } // The page in the search parameters is decremented by one\n        // to get to the actual parameter value from the UI state.\n\n\n        var page = uiState.page ? uiState.page - 1 : 0;\n        return widgetSearchParameters.setQueryParameter('page', page);\n      }\n    };\n  };\n};\n\nexport default connectInfiniteHits;","import { withInsights } from '../../lib/insights';\nimport connectInfiniteHits from './connectInfiniteHits';\nvar connectInfiniteHitsWithInsights = withInsights(connectInfiniteHits);\nexport default connectInfiniteHitsWithInsights;","<template>\n  <div\n    v-if=\"state\"\n    :class=\"suit()\"\n  >\n\n    <slot\n      v-if=\"showPrevious\"\n      name=\"loadPrevious\"\n      :refine-previous=\"refinePrevious\"\n      :page=\"state.results.page\"\n      :is-first-page=\"state.isFirstPage\"\n    >\n      <button\n        :class=\"[suit('loadPrevious'), state.isFirstPage && suit('loadPrevious', 'disabled')]\"\n        :disabled=\"state.isFirstPage\"\n        @click=\"refinePrevious()\"\n      >Show previous results</button>\n    </slot>\n\n    <slot\n      :items=\"items\"\n      :results=\"state.results\"\n      :is-last-page=\"state.isLastPage\"\n      :refine-previous=\"refinePrevious\"\n      :refine-next=\"refineNext\"\n      :refine=\"refineNext\"\n      :insights=\"state.insights\"\n    >\n      <ol :class=\"suit('list')\">\n        <li\n          v-for=\"(item, index) in items\"\n          :class=\"suit('item')\"\n          :key=\"item.objectID\"\n        >\n          <slot\n            name=\"item\"\n            :item=\"item\"\n            :index=\"index\"\n            :insights=\"state.insights\"\n          >objectID: {{ item.objectID }}, index: {{ index }}</slot>\n        </li>\n      </ol>\n\n      <slot\n        name=\"loadMore\"\n        :refine-next=\"refineNext\"\n        :refine=\"refineNext\"\n        :page=\"state.results.page\"\n        :is-last-page=\"state.isLastPage\"\n      >\n        <button\n          :class=\"[suit('loadMore'), state.isLastPage && suit('loadMore', 'disabled')]\"\n          :disabled=\"state.isLastPage\"\n          @click=\"refineNext()\"\n        >Show more results</button>\n      </slot>\n    </slot>\n  </div>\n</template>\n\n<script>\nimport { createWidgetMixin } from '../mixins/widget';\nimport { connectInfiniteHitsWithInsights } from 'instantsearch.js/es/connectors';\nimport { createSuitMixin } from '../mixins/suit';\n\nexport default {\n  name: 'AisInfiniteHits',\n  mixins: [\n    createWidgetMixin({ connector: connectInfiniteHitsWithInsights }),\n    createSuitMixin({ name: 'InfiniteHits' }),\n  ],\n  props: {\n    showPrevious: {\n      type: Boolean,\n      default: false,\n    },\n    escapeHTML: {\n      type: Boolean,\n      default: true,\n    },\n    transformItems: {\n      type: Function,\n      default(items) {\n        return items;\n      },\n    },\n    cache: {\n      type: Object,\n      default: undefined,\n    },\n  },\n  computed: {\n    widgetParams() {\n      return {\n        showPrevious: this.showPrevious,\n        escapeHTML: this.escapeHTML,\n        transformItems: this.transformItems,\n        cache: this.cache,\n      };\n    },\n    items() {\n      // Fixes InstantSearch.js connectors API: every list\n      // of things must be called `items`\n      return this.state.hits;\n    },\n  },\n  methods: {\n    refinePrevious() {\n      this.state.showPrevious();\n    },\n    refineNext() {\n      this.state.showMore();\n    },\n  },\n};\n</script>\n","function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { checkRendering, createDocumentationMessageGenerator, createSendEventForFacet, noop } from '../../lib/utils';\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'menu',\n  connector: true\n});\n/**\n * @typedef {Object} MenuItem\n * @property {string} value The value of the menu item.\n * @property {string} label Human-readable value of the menu item.\n * @property {number} count Number of results matched after refinement is applied.\n * @property {boolean} isRefined Indicates if the refinement is applied.\n */\n\n/**\n * @typedef {Object} CustomMenuWidgetOptions\n * @property {string} attribute Name of the attribute for faceting (eg. \"free_shipping\").\n * @property {number} [limit = 10] How many facets values to retrieve.\n * @property {boolean} [showMore = false] Whether to display a button that expands the number of items.\n * @property {number} [showMoreLimit = 20] How many facets values to retrieve when `toggleShowMore` is called, this value is meant to be greater than `limit` option.\n * @property {string[]|function} [sortBy = ['isRefined', 'name:asc']] How to sort refinements. Possible values: `count|isRefined|name:asc|name:desc`.\n *\n * You can also use a sort function that behaves like the standard Javascript [compareFunction](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort#Syntax).\n * @property {function(object[]):object[]} [transformItems] Function to transform the items passed to the templates.\n */\n\n/**\n * @typedef {Object} MenuRenderingOptions\n * @property {MenuItem[]} items The elements that can be refined for the current search results.\n * @property {function(item.value): string} createURL Creates the URL for a single item name in the list.\n * @property {function(item.value)} refine Filter the search to item value.\n * @property {boolean} canRefine True if refinement can be applied.\n * @property {Object} widgetParams All original `CustomMenuWidgetOptions` forwarded to the `renderFn`.\n * @property {boolean} isShowingMore True if the menu is displaying all the menu items.\n * @property {function} toggleShowMore Toggles the number of values displayed between `limit` and `showMore.limit`.\n * @property {boolean} canToggleShowMore `true` if the toggleShowMore button can be activated (enough items to display more or\n * already displaying more than `limit` items)\n */\n\n/**\n * **Menu** connector provides the logic to build a widget that will give the user the ability to choose a single value for a specific facet. The typical usage of menu is for navigation in categories.\n *\n * This connector provides a `toggleShowMore()` function to display more or less items and a `refine()`\n * function to select an item. While selecting a new element, the `refine` will also unselect the\n * one that is currently selected.\n *\n * **Requirement:** the attribute passed as `attribute` must be present in \"attributes for faceting\" on the Algolia dashboard or configured as attributesForFaceting via a set settings call to the Algolia API.\n * @type {Connector}\n * @param {function(MenuRenderingOptions, boolean)} renderFn Rendering function for the custom **Menu** widget. widget.\n * @param {function} unmountFn Unmount function called when the widget is disposed.\n * @return {function(CustomMenuWidgetOptions)} Re-usable widget factory for a custom **Menu** widget.\n * @example\n * // custom `renderFn` to render the custom Menu widget\n * function renderFn(MenuRenderingOptions, isFirstRendering) {\n *   if (isFirstRendering) {\n *     MenuRenderingOptions.widgetParams.containerNode\n *       .html('<select></select');\n *\n *     MenuRenderingOptions.widgetParams.containerNode\n *       .find('select')\n *       .on('change', function(event) {\n *         MenuRenderingOptions.refine(event.target.value);\n *       });\n *   }\n *\n *   var options = MenuRenderingOptions.items.map(function(item) {\n *     return item.isRefined\n *       ? '<option value=\"' + item.value + '\" selected>' + item.label + '</option>'\n *       : '<option value=\"' + item.value + '\">' + item.label + '</option>';\n *   });\n *\n *   MenuRenderingOptions.widgetParams.containerNode\n *     .find('select')\n *     .html(options);\n * }\n *\n * // connect `renderFn` to Menu logic\n * var customMenu = instantsearch.connectors.connectMenu(renderFn);\n *\n * // mount widget on the page\n * search.addWidgets([\n *   customMenu({\n *     containerNode: $('#custom-menu-container'),\n *     attribute: 'categories',\n *     limit: 10,\n *   })\n * ]);\n */\n\nexport default function connectMenu(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  checkRendering(renderFn, withUsage());\n  return function () {\n    var widgetParams = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var attribute = widgetParams.attribute,\n        _widgetParams$limit = widgetParams.limit,\n        limit = _widgetParams$limit === void 0 ? 10 : _widgetParams$limit,\n        _widgetParams$showMor = widgetParams.showMore,\n        showMore = _widgetParams$showMor === void 0 ? false : _widgetParams$showMor,\n        _widgetParams$showMor2 = widgetParams.showMoreLimit,\n        showMoreLimit = _widgetParams$showMor2 === void 0 ? 20 : _widgetParams$showMor2,\n        _widgetParams$sortBy = widgetParams.sortBy,\n        sortBy = _widgetParams$sortBy === void 0 ? ['isRefined', 'name:asc'] : _widgetParams$sortBy,\n        _widgetParams$transfo = widgetParams.transformItems,\n        transformItems = _widgetParams$transfo === void 0 ? function (items) {\n      return items;\n    } : _widgetParams$transfo;\n\n    if (!attribute) {\n      throw new Error(withUsage('The `attribute` option is required.'));\n    }\n\n    if (showMore === true && showMoreLimit <= limit) {\n      throw new Error(withUsage('The `showMoreLimit` option must be greater than `limit`.'));\n    }\n\n    var sendEvent; // Provide the same function to the `renderFn` so that way the user\n    // has to only bind it once when `isFirstRendering` for instance\n\n    var toggleShowMore = function toggleShowMore() {};\n\n    function cachedToggleShowMore() {\n      toggleShowMore();\n    }\n\n    return {\n      $$type: 'ais.menu',\n      isShowingMore: false,\n      createToggleShowMore: function createToggleShowMore(_ref) {\n        var _this = this;\n\n        var results = _ref.results,\n            instantSearchInstance = _ref.instantSearchInstance;\n        return function () {\n          _this.isShowingMore = !_this.isShowingMore;\n\n          _this.render({\n            results: results,\n            instantSearchInstance: instantSearchInstance\n          });\n        };\n      },\n      getLimit: function getLimit() {\n        return this.isShowingMore ? showMoreLimit : limit;\n      },\n      init: function init(initOptions) {\n        var instantSearchInstance = initOptions.instantSearchInstance;\n        renderFn(_objectSpread({}, this.getWidgetRenderState(initOptions), {\n          instantSearchInstance: instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        var instantSearchInstance = renderOptions.instantSearchInstance;\n        renderFn(_objectSpread({}, this.getWidgetRenderState(renderOptions), {\n          instantSearchInstance: instantSearchInstance\n        }), false);\n      },\n      dispose: function dispose(_ref2) {\n        var state = _ref2.state;\n        unmountFn();\n        return state.removeHierarchicalFacet(attribute).setQueryParameter('maxValuesPerFacet', undefined);\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread({}, renderState, {\n          menu: this.getWidgetRenderState(renderOptions)\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref3) {\n        var results = _ref3.results,\n            createURL = _ref3.createURL,\n            instantSearchInstance = _ref3.instantSearchInstance,\n            helper = _ref3.helper;\n        var items = [];\n        var canToggleShowMore = false;\n\n        if (!sendEvent) {\n          sendEvent = createSendEventForFacet({\n            instantSearchInstance: instantSearchInstance,\n            helper: helper,\n            attribute: attribute,\n            widgetType: this.$$type\n          });\n        }\n\n        if (!this._createURL) {\n          this._createURL = function (facetValue) {\n            return createURL(helper.state.toggleRefinement(attribute, facetValue));\n          };\n        }\n\n        if (!this._refine) {\n          this._refine = function (facetValue) {\n            var _helper$getHierarchic = helper.getHierarchicalFacetBreadcrumb(attribute),\n                _helper$getHierarchic2 = _slicedToArray(_helper$getHierarchic, 1),\n                refinedItem = _helper$getHierarchic2[0];\n\n            sendEvent('click', facetValue ? facetValue : refinedItem);\n            helper.toggleRefinement(attribute, facetValue ? facetValue : refinedItem).search();\n          };\n        }\n\n        toggleShowMore = this.createToggleShowMore({\n          results: results,\n          instantSearchInstance: instantSearchInstance\n        });\n\n        if (results) {\n          var facetValues = results.getFacetValues(attribute, {\n            sortBy: sortBy\n          });\n          var facetItems = facetValues && facetValues.data ? facetValues.data : [];\n          canToggleShowMore = showMore && (this.isShowingMore || facetItems.length > this.getLimit());\n          items = transformItems(facetItems.slice(0, this.getLimit()).map(function (_ref4) {\n            var label = _ref4.name,\n                value = _ref4.path,\n                item = _objectWithoutProperties(_ref4, [\"name\", \"path\"]);\n\n            return _objectSpread({}, item, {\n              label: label,\n              value: value\n            });\n          }));\n        }\n\n        return {\n          items: items,\n          createURL: this._createURL,\n          refine: this._refine,\n          sendEvent: sendEvent,\n          canRefine: items.length > 0,\n          widgetParams: widgetParams,\n          isShowingMore: this.isShowingMore,\n          toggleShowMore: cachedToggleShowMore,\n          canToggleShowMore: canToggleShowMore\n        };\n      },\n      getWidgetUiState: function getWidgetUiState(uiState, _ref5) {\n        var searchParameters = _ref5.searchParameters;\n\n        var _searchParameters$get = searchParameters.getHierarchicalFacetBreadcrumb(attribute),\n            _searchParameters$get2 = _slicedToArray(_searchParameters$get, 1),\n            value = _searchParameters$get2[0];\n\n        if (!value) {\n          return uiState;\n        }\n\n        return _objectSpread({}, uiState, {\n          menu: _objectSpread({}, uiState.menu, _defineProperty({}, attribute, value))\n        });\n      },\n      getWidgetSearchParameters: function getWidgetSearchParameters(searchParameters, _ref6) {\n        var uiState = _ref6.uiState;\n        var value = uiState.menu && uiState.menu[attribute];\n        var withFacetConfiguration = searchParameters.removeHierarchicalFacet(attribute).addHierarchicalFacet({\n          name: attribute,\n          attributes: [attribute]\n        });\n        var currentMaxValuesPerFacet = withFacetConfiguration.maxValuesPerFacet || 0;\n        var nextMaxValuesPerFacet = Math.max(currentMaxValuesPerFacet, showMore ? showMoreLimit : limit);\n        var withMaxValuesPerFacet = withFacetConfiguration.setQueryParameter('maxValuesPerFacet', nextMaxValuesPerFacet);\n\n        if (!value) {\n          return withMaxValuesPerFacet.setQueryParameters({\n            hierarchicalFacetsRefinements: _objectSpread({}, withMaxValuesPerFacet.hierarchicalFacetsRefinements, _defineProperty({}, attribute, []))\n          });\n        }\n\n        return withMaxValuesPerFacet.addHierarchicalFacetRefinement(attribute, value);\n      }\n    };\n  };\n}","<template>\n  <div\n    v-if=\"state\"\n    :class=\"[suit(), !state.canRefine && suit('', 'noRefinement')]\"\n  >\n    <slot\n      :items=\"state.items\"\n      :can-refine=\"state.canRefine\"\n      :can-toggle-show-more=\"state.canToggleShowMore\"\n      :is-showing-more=\"state.isShowingMore\"\n      :refine=\"state.refine\"\n      :createURL=\"state.createURL\"\n      :toggle-show-more=\"state.toggleShowMore\"\n    >\n      <ul :class=\"suit('list')\">\n        <li\n          v-for=\"item in state.items\"\n          :key=\"item.value\"\n          :class=\"[suit('item'), item.isRefined && suit('item', 'selected')]\"\n        >\n          <a\n            :href=\"state.createURL(item.value)\"\n            :class=\"suit('link')\"\n            @click.prevent=\"state.refine(item.value)\"\n          >\n            <span :class=\"suit('label')\">{{ item.label }}</span>\n            <span :class=\"suit('count')\">{{ item.count }}</span>\n          </a>\n        </li>\n      </ul>\n\n      <button\n        v-if=\"showShowMoreButton\"\n        :class=\"[suit('showMore'), !state.canToggleShowMore && suit('showMore', 'disabled')]\"\n        :disabled=\"!state.canToggleShowMore\"\n        @click.prevent=\"state.toggleShowMore()\"\n      >\n        <slot\n          name=\"showMoreLabel\"\n          :is-showing-more=\"state.isShowingMore\"\n        >{{ state.isShowingMore ? 'Show less' : 'Show more' }}</slot>\n      </button>\n    </slot>\n  </div>\n</template>\n\n<script>\nimport { connectMenu } from 'instantsearch.js/es/connectors';\nimport { createPanelConsumerMixin } from '../mixins/panel';\nimport { createWidgetMixin } from '../mixins/widget';\nimport { createSuitMixin } from '../mixins/suit';\n\nexport default {\n  name: 'AisMenu',\n  mixins: [\n    createSuitMixin({ name: 'Menu' }),\n    createWidgetMixin({ connector: connectMenu }),\n    createPanelConsumerMixin({\n      mapStateToCanRefine: state => Boolean(state.canRefine),\n    }),\n  ],\n  props: {\n    attribute: {\n      type: String,\n      required: true,\n    },\n    // TODO: implement searchable in connector\n    // searchable: {\n    //   type: Boolean,\n    //   default: false,\n    // },\n    limit: {\n      type: Number,\n      default: 10,\n    },\n    showMoreLimit: {\n      type: Number,\n      default: 20,\n    },\n    showMore: {\n      type: Boolean,\n      default: false,\n    },\n    sortBy: {\n      type: [Array, Function],\n      default() {\n        return ['count:desc', 'name:asc'];\n      },\n    },\n    transformItems: {\n      type: Function,\n      default(items) {\n        return items;\n      },\n    },\n  },\n  computed: {\n    widgetParams() {\n      return {\n        attribute: this.attribute,\n        limit: this.limit,\n        showMore: this.showMore,\n        showMoreLimit: this.showMoreLimit,\n        sortBy: this.sortBy,\n        transformItems: this.transformItems,\n      };\n    },\n    showShowMoreButton() {\n      return this.state.canRefine && this.showMore;\n    },\n  },\n};\n</script>\n","<template>\n  <div\n    :class=\"[suit(), !state.canRefine && suit('', 'noRefinement')]\"\n    v-if=\"state\"\n  >\n    <slot\n      :items=\"state.items\"\n      :can-refine=\"state.canRefine\"\n      :refine=\"refine\"\n      :createURL=\"state.createURL\"\n    >\n      <select\n        :class=\"suit('select')\"\n        @change=\"refine($event.currentTarget.value)\"\n      >\n        <option\n          :class=\"suit('option')\"\n          value=\"\"\n        >\n          <slot name=\"defaultOption\">See all</slot>\n        </option>\n        <option\n          v-for=\"item in state.items\"\n          :key=\"item.value\"\n          :class=\"suit('option')\"\n          :value=\"item.value\"\n          :selected=\"item.isRefined\"\n        >\n          <slot\n            name=\"item\"\n            :item=\"item\"\n          >{{ item.label }} ({{ item.count }})</slot>\n        </option>\n      </select>\n    </slot>\n  </div>\n</template>\n\n<script>\nimport { connectMenu } from 'instantsearch.js/es/connectors';\nimport { createPanelConsumerMixin } from '../mixins/panel';\nimport { createWidgetMixin } from '../mixins/widget';\nimport { createSuitMixin } from '../mixins/suit';\n\nexport default {\n  name: 'AisMenuSelect',\n  mixins: [\n    createSuitMixin({ name: 'MenuSelect' }),\n    createWidgetMixin({ connector: connectMenu }),\n    createPanelConsumerMixin({\n      mapStateToCanRefine: state => Boolean(state.canRefine),\n    }),\n  ],\n  props: {\n    attribute: {\n      type: String,\n      required: true,\n    },\n    limit: {\n      type: Number,\n      default: 10,\n    },\n    sortBy: {\n      type: [Array, Function],\n      default() {\n        return ['name:asc'];\n      },\n    },\n    transformItems: {\n      type: Function,\n      default(items) {\n        return items;\n      },\n    },\n  },\n  computed: {\n    widgetParams() {\n      return {\n        attribute: this.attribute,\n        limit: this.limit,\n        sortBy: this.sortBy,\n        transformItems: this.transformItems,\n      };\n    },\n  },\n  methods: {\n    refine(value) {\n      this.state.refine(value);\n    },\n  },\n};\n</script>\n","export function convertNumericRefinementsToFilters(state, attribute) {\n  if (!state) {\n    return null;\n  }\n\n  var filtersObj = state.numericRefinements[attribute];\n  /*\n    filtersObj === {\n      \"<=\": [10],\n      \"=\": [],\n      \">=\": [5]\n    }\n  */\n\n  var filters = [];\n  Object.keys(filtersObj).filter(function (operator) {\n    return Array.isArray(filtersObj[operator]) && filtersObj[operator].length > 0;\n  }).forEach(function (operator) {\n    filtersObj[operator].forEach(function (value) {\n      filters.push(\"\".concat(attribute).concat(operator).concat(value));\n    });\n  });\n  return filters;\n}","// This is the `Number.isFinite()` polyfill recommended by MDN.\n// We do not provide any tests for this function.\n// See: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isFinite#Polyfill\nfunction isFiniteNumber(value) {\n  return typeof value === 'number' && isFinite(value);\n}\n\nexport default isFiniteNumber;","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { checkRendering, createDocumentationMessageGenerator, isFiniteNumber, convertNumericRefinementsToFilters, noop } from '../../lib/utils';\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'numeric-menu',\n  connector: true\n});\nvar $$type = 'ais.numericMenu';\n\nvar createSendEvent = function createSendEvent(_ref) {\n  var instantSearchInstance = _ref.instantSearchInstance,\n      helper = _ref.helper,\n      attribute = _ref.attribute;\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    if (args.length === 1) {\n      instantSearchInstance.sendEventToInsights(args[0]);\n      return;\n    }\n\n    var eventType = args[0],\n        facetValue = args[1],\n        _args$ = args[2],\n        eventName = _args$ === void 0 ? 'Filter Applied' : _args$;\n\n    if (eventType !== 'click') {\n      return;\n    } // facetValue === \"%7B%22start%22:5,%22end%22:10%7D\"\n\n\n    var filters = convertNumericRefinementsToFilters(getRefinedState(helper.state, attribute, facetValue), attribute);\n\n    if (filters && filters.length > 0) {\n      /*\n          filters === [\"price<=10\", \"price>=5\"]\n        */\n      instantSearchInstance.sendEventToInsights({\n        insightsMethod: 'clickedFilters',\n        widgetType: $$type,\n        eventType: eventType,\n        payload: {\n          eventName: eventName,\n          index: helper.getIndex(),\n          filters: filters\n        }\n      });\n    }\n  };\n};\n\nvar connectNumericMenu = function connectNumericMenu(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  checkRendering(renderFn, withUsage());\n  return function (widgetParams) {\n    var _ref2 = widgetParams || {},\n        _ref2$attribute = _ref2.attribute,\n        attribute = _ref2$attribute === void 0 ? '' : _ref2$attribute,\n        _ref2$items = _ref2.items,\n        items = _ref2$items === void 0 ? [] : _ref2$items,\n        _ref2$transformItems = _ref2.transformItems,\n        transformItems = _ref2$transformItems === void 0 ? function (x) {\n      return x;\n    } : _ref2$transformItems;\n\n    if (attribute === '') {\n      throw new Error(withUsage('The `attribute` option is required.'));\n    }\n\n    if (!items || items.length === 0) {\n      throw new Error(withUsage('The `items` option expects an array of objects.'));\n    }\n\n    var prepareItems = function prepareItems(state) {\n      return items.map(function (_ref3) {\n        var start = _ref3.start,\n            end = _ref3.end,\n            label = _ref3.label;\n        return {\n          label: label,\n          value: window.encodeURI(JSON.stringify({\n            start: start,\n            end: end\n          })),\n          isRefined: isRefined(state, attribute, {\n            start: start,\n            end: end,\n            label: label\n          })\n        };\n      });\n    };\n\n    var connectorState = {};\n    return {\n      $$type: $$type,\n      init: function init(initOptions) {\n        var instantSearchInstance = initOptions.instantSearchInstance;\n        renderFn(_objectSpread({}, this.getWidgetRenderState(initOptions), {\n          instantSearchInstance: instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        var instantSearchInstance = renderOptions.instantSearchInstance;\n        renderFn(_objectSpread({}, this.getWidgetRenderState(renderOptions), {\n          instantSearchInstance: instantSearchInstance\n        }), false);\n      },\n      dispose: function dispose(_ref4) {\n        var state = _ref4.state;\n        unmountFn();\n        return state.clearRefinements(attribute);\n      },\n      getWidgetUiState: function getWidgetUiState(uiState, _ref5) {\n        var searchParameters = _ref5.searchParameters;\n        var values = searchParameters.getNumericRefinements(attribute);\n        var equal = values['='] && values['='][0];\n\n        if (equal || equal === 0) {\n          return _objectSpread({}, uiState, {\n            numericMenu: _objectSpread({}, uiState.numericMenu, _defineProperty({}, attribute, \"\".concat(values['='])))\n          });\n        }\n\n        var min = values['>='] && values['>='][0] || '';\n        var max = values['<='] && values['<='][0] || '';\n\n        if (min === '' && max === '') {\n          return uiState;\n        }\n\n        return _objectSpread({}, uiState, {\n          numericMenu: _objectSpread({}, uiState.numericMenu, _defineProperty({}, attribute, \"\".concat(min, \":\").concat(max)))\n        });\n      },\n      getWidgetSearchParameters: function getWidgetSearchParameters(searchParameters, _ref6) {\n        var uiState = _ref6.uiState;\n        var value = uiState.numericMenu && uiState.numericMenu[attribute];\n        var withoutRefinements = searchParameters.clearRefinements(attribute);\n\n        if (!value) {\n          return withoutRefinements.setQueryParameters({\n            numericRefinements: _objectSpread({}, withoutRefinements.numericRefinements, _defineProperty({}, attribute, {}))\n          });\n        }\n\n        var isExact = value.indexOf(':') === -1;\n\n        if (isExact) {\n          return withoutRefinements.addNumericRefinement(attribute, '=', Number(value));\n        }\n\n        var _value$split$map = value.split(':').map(parseFloat),\n            _value$split$map2 = _slicedToArray(_value$split$map, 2),\n            min = _value$split$map2[0],\n            max = _value$split$map2[1];\n\n        var withMinRefinement = isFiniteNumber(min) ? withoutRefinements.addNumericRefinement(attribute, '>=', min) : withoutRefinements;\n        var withMaxRefinement = isFiniteNumber(max) ? withMinRefinement.addNumericRefinement(attribute, '<=', max) : withMinRefinement;\n        return withMaxRefinement;\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread({}, renderState, {\n          numericMenu: _objectSpread({}, renderState.numericMenu, _defineProperty({}, attribute, this.getWidgetRenderState(renderOptions)))\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref7) {\n        var results = _ref7.results,\n            state = _ref7.state,\n            instantSearchInstance = _ref7.instantSearchInstance,\n            helper = _ref7.helper,\n            createURL = _ref7.createURL;\n\n        if (!connectorState.refine) {\n          connectorState.refine = function (facetValue) {\n            var refinedState = getRefinedState(helper.state, attribute, facetValue);\n            connectorState.sendEvent('click', facetValue);\n            helper.setState(refinedState).search();\n          };\n        }\n\n        if (!connectorState.createURL) {\n          connectorState.createURL = function (newState) {\n            return function (facetValue) {\n              return createURL(getRefinedState(newState, attribute, facetValue));\n            };\n          };\n        }\n\n        if (!connectorState.sendEvent) {\n          connectorState.sendEvent = createSendEvent({\n            instantSearchInstance: instantSearchInstance,\n            helper: helper,\n            attribute: attribute\n          });\n        }\n\n        return {\n          createURL: connectorState.createURL(state),\n          items: transformItems(prepareItems(state)),\n          hasNoResults: results ? results.nbHits === 0 : true,\n          refine: connectorState.refine,\n          sendEvent: connectorState.sendEvent,\n          widgetParams: widgetParams\n        };\n      }\n    };\n  };\n};\n\nfunction isRefined(state, attribute, option) {\n  // @TODO: same as another spot, why is this mixing arrays & elements?\n  var currentRefinements = state.getNumericRefinements(attribute);\n\n  if (option.start !== undefined && option.end !== undefined) {\n    if (option.start === option.end) {\n      return hasNumericRefinement(currentRefinements, '=', option.start);\n    }\n  }\n\n  if (option.start !== undefined) {\n    return hasNumericRefinement(currentRefinements, '>=', option.start);\n  }\n\n  if (option.end !== undefined) {\n    return hasNumericRefinement(currentRefinements, '<=', option.end);\n  }\n\n  if (option.start === undefined && option.end === undefined) {\n    return Object.keys(currentRefinements).every(function (operator) {\n      return (currentRefinements[operator] || []).length === 0;\n    });\n  }\n\n  return false;\n}\n\nfunction getRefinedState(state, attribute, facetValue) {\n  var resolvedState = state;\n  var refinedOption = JSON.parse(window.decodeURI(facetValue)); // @TODO: why is array / element mixed here & hasRefinements; seems wrong?\n\n  var currentRefinements = resolvedState.getNumericRefinements(attribute);\n\n  if (refinedOption.start === undefined && refinedOption.end === undefined) {\n    return resolvedState.removeNumericRefinement(attribute);\n  }\n\n  if (!isRefined(resolvedState, attribute, refinedOption)) {\n    resolvedState = resolvedState.removeNumericRefinement(attribute);\n  }\n\n  if (refinedOption.start !== undefined && refinedOption.end !== undefined) {\n    if (refinedOption.start > refinedOption.end) {\n      throw new Error('option.start should be > to option.end');\n    }\n\n    if (refinedOption.start === refinedOption.end) {\n      if (hasNumericRefinement(currentRefinements, '=', refinedOption.start)) {\n        resolvedState = resolvedState.removeNumericRefinement(attribute, '=', refinedOption.start);\n      } else {\n        resolvedState = resolvedState.addNumericRefinement(attribute, '=', refinedOption.start);\n      }\n\n      return resolvedState;\n    }\n  }\n\n  if (refinedOption.start !== undefined) {\n    if (hasNumericRefinement(currentRefinements, '>=', refinedOption.start)) {\n      resolvedState = resolvedState.removeNumericRefinement(attribute, '>=', refinedOption.start);\n    } else {\n      resolvedState = resolvedState.addNumericRefinement(attribute, '>=', refinedOption.start);\n    }\n  }\n\n  if (refinedOption.end !== undefined) {\n    if (hasNumericRefinement(currentRefinements, '<=', refinedOption.end)) {\n      resolvedState = resolvedState.removeNumericRefinement(attribute, '<=', refinedOption.end);\n    } else {\n      resolvedState = resolvedState.addNumericRefinement(attribute, '<=', refinedOption.end);\n    }\n  }\n\n  if (typeof resolvedState.page === 'number') {\n    resolvedState.page = 0;\n  }\n\n  return resolvedState;\n}\n\nfunction hasNumericRefinement(currentRefinements, operator, value) {\n  return currentRefinements[operator] !== undefined && currentRefinements[operator].includes(value);\n}\n\nexport default connectNumericMenu;","<template>\n  <div\n    v-if=\"state\"\n    :class=\"[suit(), !canRefine && suit('', 'noRefinement')]\"\n  >\n    <slot\n      :items=\"state.items\"\n      :can-refine=\"canRefine\"\n      :refine=\"state.refine\"\n      :createURL=\"state.createURL\"\n    >\n      <ul :class=\"[suit('list')]\">\n        <li\n          v-for=\"item in state.items\"\n          :key=\"item.label\"\n          :class=\"[suit('item'), item.isRefined && suit('item', 'selected')]\"\n        >\n          <label :class=\"suit('label')\">\n            <input\n              type=\"radio\"\n              :class=\"suit('radio')\"\n              :name=\"attribute\"\n              :value=\"item.value\"\n              :checked=\"item.isRefined\"\n              @change=\"state.refine($event.target.value)\"\n            >\n            <span :class=\"suit('labelText')\">{{ item.label }}</span>\n          </label>\n        </li>\n      </ul>\n    </slot>\n  </div>\n</template>\n\n<script>\nimport { connectNumericMenu } from 'instantsearch.js/es/connectors';\nimport { createPanelConsumerMixin } from '../mixins/panel';\nimport { createWidgetMixin } from '../mixins/widget';\nimport { createSuitMixin } from '../mixins/suit';\n\nexport default {\n  name: 'AisNumericMenu',\n  mixins: [\n    createWidgetMixin({ connector: connectNumericMenu }),\n    createSuitMixin({ name: 'NumericMenu' }),\n    createPanelConsumerMixin({\n      mapStateToCanRefine: state => state.hasNoResults === false,\n    }),\n  ],\n  props: {\n    attribute: {\n      type: String,\n      required: true,\n    },\n    items: {\n      type: Array,\n      required: true,\n    },\n    transformItems: {\n      type: Function,\n      default(items) {\n        return items;\n      },\n    },\n  },\n  computed: {\n    widgetParams() {\n      return {\n        attribute: this.attribute,\n        transformItems: this.transformItems,\n        items: this.items,\n      };\n    },\n    canRefine() {\n      return !this.state.hasNoResults;\n    },\n  },\n};\n</script>\n","function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction range(_ref) {\n  var _ref$start = _ref.start,\n      start = _ref$start === void 0 ? 0 : _ref$start,\n      end = _ref.end,\n      _ref$step = _ref.step,\n      step = _ref$step === void 0 ? 1 : _ref$step;\n  // We can't divide by 0 so we re-assign the step to 1 if it happens.\n  var limitStep = step === 0 ? 1 : step; // In some cases the array to create has a decimal length.\n  // We therefore need to round the value.\n  // Example:\n  //   { start: 1, end: 5000, step: 500 }\n  //   => Array length = (5000 - 1) / 500 = 9.998\n\n  var arrayLength = Math.round((end - start) / limitStep);\n  return _toConsumableArray(Array(arrayLength)).map(function (_, current) {\n    return start + current * limitStep;\n  });\n}\n\nexport default range;","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { range } from '../../lib/utils';\n\nvar Paginator =\n/*#__PURE__*/\nfunction () {\n  function Paginator(params) {\n    _classCallCheck(this, Paginator);\n\n    _defineProperty(this, \"currentPage\", void 0);\n\n    _defineProperty(this, \"total\", void 0);\n\n    _defineProperty(this, \"padding\", void 0);\n\n    this.currentPage = params.currentPage;\n    this.total = params.total;\n    this.padding = params.padding;\n  }\n\n  _createClass(Paginator, [{\n    key: \"pages\",\n    value: function pages() {\n      var total = this.total,\n          currentPage = this.currentPage,\n          padding = this.padding;\n      if (total === 0) return [0];\n      var totalDisplayedPages = this.nbPagesDisplayed(padding, total);\n\n      if (totalDisplayedPages === total) {\n        return range({\n          end: total\n        });\n      }\n\n      var paddingLeft = this.calculatePaddingLeft(currentPage, padding, total, totalDisplayedPages);\n      var paddingRight = totalDisplayedPages - paddingLeft;\n      var first = currentPage - paddingLeft;\n      var last = currentPage + paddingRight;\n      return range({\n        start: first,\n        end: last\n      });\n    }\n  }, {\n    key: \"nbPagesDisplayed\",\n    value: function nbPagesDisplayed(padding, total) {\n      return Math.min(2 * padding + 1, total);\n    }\n  }, {\n    key: \"calculatePaddingLeft\",\n    value: function calculatePaddingLeft(current, padding, total, totalDisplayedPages) {\n      if (current <= padding) {\n        return current;\n      }\n\n      if (current >= total - padding) {\n        return totalDisplayedPages - (total - current);\n      }\n\n      return padding;\n    }\n  }, {\n    key: \"isLastPage\",\n    value: function isLastPage() {\n      return this.currentPage === this.total - 1 || this.total === 0;\n    }\n  }, {\n    key: \"isFirstPage\",\n    value: function isFirstPage() {\n      return this.currentPage === 0;\n    }\n  }]);\n\n  return Paginator;\n}();\n\nexport default Paginator;","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { checkRendering, createDocumentationMessageGenerator, noop } from '../../lib/utils';\nimport Paginator from './Paginator';\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'pagination',\n  connector: true\n});\n\n/**\n * **Pagination** connector provides the logic to build a widget that will let the user\n * choose the current page of the results.\n *\n * When using the pagination with Algolia, you should be aware that the engine won't provide you pages\n * beyond the 1000th hits by default. You can find more information on the [Algolia documentation](https://www.algolia.com/doc/guides/searching/pagination/#pagination-limitations).\n */\nvar connectPagination = function connectPagination(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  checkRendering(renderFn, withUsage());\n  return function (widgetParams) {\n    var _ref = widgetParams || {},\n        totalPages = _ref.totalPages,\n        _ref$padding = _ref.padding,\n        padding = _ref$padding === void 0 ? 3 : _ref$padding;\n\n    var pager = new Paginator({\n      currentPage: 0,\n      total: 0,\n      padding: padding\n    });\n    var connectorState = {};\n\n    function getMaxPage(_ref2) {\n      var nbPages = _ref2.nbPages;\n      return totalPages !== undefined ? Math.min(totalPages, nbPages) : nbPages;\n    }\n\n    return {\n      $$type: 'ais.pagination',\n      init: function init(initOptions) {\n        var instantSearchInstance = initOptions.instantSearchInstance;\n        renderFn(_objectSpread({}, this.getWidgetRenderState(initOptions), {\n          instantSearchInstance: instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        var instantSearchInstance = renderOptions.instantSearchInstance;\n        renderFn(_objectSpread({}, this.getWidgetRenderState(renderOptions), {\n          instantSearchInstance: instantSearchInstance\n        }), false);\n      },\n      dispose: function dispose(_ref3) {\n        var state = _ref3.state;\n        unmountFn();\n        return state.setQueryParameter('page', undefined);\n      },\n      getWidgetUiState: function getWidgetUiState(uiState, _ref4) {\n        var searchParameters = _ref4.searchParameters;\n        var page = searchParameters.page || 0;\n\n        if (!page) {\n          return uiState;\n        }\n\n        return _objectSpread({}, uiState, {\n          page: page + 1\n        });\n      },\n      getWidgetSearchParameters: function getWidgetSearchParameters(searchParameters, _ref5) {\n        var uiState = _ref5.uiState;\n        var page = uiState.page ? uiState.page - 1 : 0;\n        return searchParameters.setQueryParameter('page', page);\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref6) {\n        var results = _ref6.results,\n            helper = _ref6.helper,\n            createURL = _ref6.createURL;\n\n        if (!connectorState.refine) {\n          connectorState.refine = function (page) {\n            helper.setPage(page);\n            helper.search();\n          };\n        }\n\n        if (!connectorState.createURL) {\n          connectorState.createURL = function (state) {\n            return function (page) {\n              return createURL(state.setPage(page));\n            };\n          };\n        }\n\n        var state = helper.state;\n        var page = state.page || 0;\n        var nbPages = getMaxPage(results || {\n          nbPages: 0\n        });\n        pager.currentPage = page;\n        pager.total = nbPages;\n        return {\n          createURL: connectorState.createURL(state),\n          refine: connectorState.refine,\n          currentRefinement: page,\n          nbHits: (results === null || results === void 0 ? void 0 : results.nbHits) || 0,\n          nbPages: nbPages,\n          pages: results ? pager.pages() : [],\n          isFirstPage: pager.isFirstPage(),\n          isLastPage: pager.isLastPage(),\n          widgetParams: widgetParams\n        };\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread({}, renderState, {\n          pagination: this.getWidgetRenderState(renderOptions)\n        });\n      }\n    };\n  };\n};\n\nexport default connectPagination;","<template>\n  <div\n    v-if=\"state\"\n    :class=\"suit()\"\n  >\n    <slot\n      :refine=\"refine\"\n      :createURL=\"state.createURL\"\n      :current-refinement=\"state.currentRefinement\"\n      :nb-hits=\"state.nbHits\"\n      :nb-pages=\"state.nbPages\"\n      :pages=\"state.pages\"\n      :is-first-page=\"state.isFirstPage\"\n      :is-last-page=\"state.isLastPage\"\n    >\n      <ul :class=\"suit('list')\">\n        <li\n          :class=\"{\n            [suit('item')]: true,\n            [suit('item', 'firstPage')]: true,\n            [suit('item', 'disabled')]: state.isFirstPage,\n          }\"\n          v-if=\"showFirst\"\n        >\n          <slot\n            name=\"first\"\n            :createURL=\"() => state.createURL(0)\"\n            :is-first-page=\"state.isFirstPage\"\n            :refine=\"() => refine(0)\"\n          >\n            <template v-if=\"!state.isFirstPage\">\n              <a\n                :class=\"suit('link')\"\n                aria-label=\"First\"\n                :href=\"state.createURL(0)\"\n                @click.prevent=\"refine(0)\"\n              >‹‹</a>\n            </template>\n            <template v-else>\n              <span\n                :class=\"suit('link')\"\n                aria-label=\"First\"\n              >‹‹</span>\n            </template>\n          </slot>\n        </li>\n        <li\n          :class=\"{\n            [suit('item')]: true,\n            [suit('item', 'previousPage')]: true,\n            [suit('item', 'disabled')]: state.isFirstPage,\n          }\"\n          v-if=\"showPrevious\"\n        >\n          <slot\n            name=\"previous\"\n            :createURL=\"() => state.createURL(state.currentRefinement - 1)\"\n            :is-first-page=\"state.isFirstPage\"\n            :refine=\"() => refine(state.currentRefinement - 1)\"\n          >\n            <template v-if=\"!state.isFirstPage\">\n              <a\n                :class=\"suit('link')\"\n                aria-label=\"Previous\"\n                :href=\"state.createURL(state.currentRefinement - 1)\"\n                @click.prevent=\"refine(state.currentRefinement - 1)\"\n              >‹</a>\n            </template>\n            <template v-else>\n              <span\n                :class=\"suit('link')\"\n                aria-label=\"Previous\"\n              >‹</span>\n            </template>\n          </slot>\n        </li>\n\n        <li\n          :class=\"{\n            [suit('item')]: true,\n            [suit('item', 'selected')]: state.currentRefinement === page\n          }\"\n          v-for=\"page in state.pages\"\n          :key=\"page\"\n        >\n          <slot\n            name=\"item\"\n            :page=\"page\"\n            :createURL=\"() => state.createURL(page)\"\n            :is-first-page=\"state.isFirstPage\"\n            :is-last-page=\"state.isLastPage\"\n            :refine=\"() => refine(page)\"\n          >\n            <a\n              :class=\"suit('link')\"\n              :href=\"state.createURL(page)\"\n              @click.prevent=\"refine(page)\"\n            >{{ page + 1 }}</a>\n          </slot>\n        </li>\n\n        <li\n          :class=\"{\n            [suit('item')]: true,\n            [suit('item','nextPage')]: true,\n            [suit('item','disabled')]: state.isLastPage\n          }\"\n          v-if=\"showNext\"\n        >\n          <slot\n            name=\"next\"\n            :createURL=\"() => state.createURL(state.currentRefinement + 1)\"\n            :is-last-page=\"state.isLastPage\"\n            :refine=\"() => refine(state.currentRefinement + 1)\"\n          >\n            <template v-if=\"!state.isLastPage\">\n              <a\n                :class=\"suit('link')\"\n                aria-label=\"Next\"\n                :href=\"state.createURL(state.currentRefinement + 1)\"\n                @click.prevent=\"refine(state.currentRefinement + 1)\"\n              >›</a>\n            </template>\n            <template v-else>\n              <span\n                :class=\"suit('link')\"\n                aria-label=\"Next\"\n              >›</span>\n            </template>\n          </slot>\n        </li>\n        <li\n          :class=\"{\n            [suit('item')]: true,\n            [suit('item','lastPage')]: true,\n            [suit('item','disabled')]: state.isLastPage,\n          }\"\n          v-if=\"showLast\"\n        >\n          <slot\n            name=\"last\"\n            :createURL=\"() => state.createURL(state.nbPages - 1)\"\n            :is-last-page=\"state.isLastPage\"\n            :refine=\"() => refine(state.nbPages - 1)\"\n          >\n            <template v-if=\"!state.isLastPage\">\n              <a\n                :class=\"suit('link')\"\n                aria-label=\"Last\"\n                :href=\"state.createURL(state.nbPages - 1)\"\n                @click.prevent=\"refine(state.nbPages - 1)\"\n              >››</a>\n            </template>\n            <template v-else>\n              <span\n                :class=\"suit('link')\"\n                aria-label=\"Last\"\n              >››</span>\n            </template>\n          </slot>\n        </li>\n      </ul>\n    </slot>\n  </div>\n</template>\n\n<script>\nimport { connectPagination } from 'instantsearch.js/es/connectors';\nimport { createPanelConsumerMixin } from '../mixins/panel';\nimport { createWidgetMixin } from '../mixins/widget';\nimport { createSuitMixin } from '../mixins/suit';\n\nexport default {\n  name: 'AisPagination',\n  mixins: [\n    createSuitMixin({ name: 'Pagination' }),\n    createWidgetMixin({ connector: connectPagination }),\n    createPanelConsumerMixin({\n      mapStateToCanRefine: state => state.nbPages > 1,\n    }),\n  ],\n  props: {\n    padding: {\n      type: Number,\n      default: 3,\n      validator(value) {\n        return value > 0;\n      },\n    },\n    totalPages: {\n      type: Number,\n      default: undefined,\n      validator(value) {\n        return value > 0;\n      },\n    },\n    showFirst: {\n      type: Boolean,\n      default: true,\n    },\n    showLast: {\n      type: Boolean,\n      default: true,\n    },\n    showNext: {\n      type: Boolean,\n      default: true,\n    },\n    showPrevious: {\n      type: Boolean,\n      default: true,\n    },\n  },\n  computed: {\n    widgetParams() {\n      return {\n        padding: this.padding,\n        totalPages: this.totalPages,\n      };\n    },\n  },\n  methods: {\n    refine(page) {\n      const p = Math.min(Math.max(page, 0), this.state.nbPages - 1);\n      this.state.refine(p);\n      // TODO: do this in a general way\n      this.$emit('page-change', p);\n    },\n  },\n};\n</script>\n","<template>\n  <div :class=\"[suit(), !canRefine && suit('', 'noRefinement')]\">\n    <div\n      v-if=\"$slots.header || $scopedSlots.header\"\n      :class=\"suit('header')\"\n    >\n      <slot\n        name=\"header\"\n        :has-refinements=\"canRefine\"\n      />\n    </div>\n    <div :class=\"suit('body')\">\n      <slot :has-refinements=\"canRefine\" />\n    </div>\n    <div\n      v-if=\"$slots.footer || $scopedSlots.footer\"\n      :class=\"suit('footer')\"\n    >\n      <slot\n        name=\"footer\"\n        :has-refinements=\"canRefine\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport { createPanelProviderMixin } from '../mixins/panel';\nimport { createSuitMixin } from '../mixins/suit';\n\nexport default {\n  name: 'AisPanel',\n  mixins: [createSuitMixin({ name: 'Panel' }), createPanelProviderMixin()],\n};\n</script>\n","<template>\n  <div :class=\"suit()\">\n    <a\n      :class=\"suit('link')\"\n      :href=\"algoliaUrl\"\n      target=\"_blank\"\n      rel=\"noopener\"\n      aria-label=\"search by Algolia\"\n    >\n      <svg\n        style=\"height: 1.2em; width: auto\"\n        :class=\"[suit('logo'), suit('', theme)]\"\n        viewBox=\"0 0 168 24\"\n      >\n        <path\n          :fill=\"theme === 'dark' ? '#FFF': '#5D6494'\"\n          d=\"M6.97 6.68V8.3a4.47 4.47 0 0 0-2.42-.67 2.2 2.2 0 0 0-1.38.4c-.34.26-.5.6-.5 1.02 0 .43.16.77.49 1.03.33.25.83.53 1.51.83a7.04 7.04 0 0 1 1.9 1.08c.34.24.58.54.73.89.15.34.23.74.23 1.18 0 .95-.33 1.7-1 2.24a4 4 0 0 1-2.6.81 5.71 5.71 0 0 1-2.94-.68v-1.71c.84.63 1.81.94 2.92.94.58 0 1.05-.14 1.39-.4.34-.28.5-.65.5-1.13 0-.29-.1-.55-.3-.8a2.2 2.2 0 0 0-.65-.53 23.03 23.03 0 0 0-1.64-.78 13.67 13.67 0 0 1-1.11-.64c-.12-.1-.28-.22-.46-.4a1.72 1.72 0 0 1-.39-.5 4.46 4.46 0 0 1-.22-.6c-.07-.23-.1-.48-.1-.75 0-.91.33-1.63 1-2.17a4 4 0 0 1 2.57-.8c.97 0 1.8.18 2.47.52zm7.47 5.7v-.3a2.26 2.26 0 0 0-.5-1.44c-.3-.35-.74-.53-1.32-.53-.53 0-.99.2-1.37.58-.38.39-.62.95-.72 1.68h3.91zm1 2.79v1.4c-.6.34-1.38.51-2.36.51a4.02 4.02 0 0 1-3-1.13 4.04 4.04 0 0 1-1.11-2.97c0-1.3.34-2.32 1.02-3.06a3.38 3.38 0 0 1 2.6-1.1c1.03 0 1.85.32 2.46.96.6.64.9 1.57.9 2.78 0 .33-.03.68-.09 1.04h-5.31c.1.7.4 1.24.89 1.61.49.38 1.1.56 1.85.56.86 0 1.58-.2 2.15-.6zm6.61-1.78h-1.21c-.6 0-1.05.12-1.35.36-.3.23-.46.53-.46.89 0 .37.12.66.36.88.23.2.57.32 1.02.32.5 0 .9-.15 1.2-.43.3-.28.44-.65.44-1.1v-.92zm-4.07-2.55V9.33a4.96 4.96 0 0 1 2.5-.55c2.1 0 3.17 1.03 3.17 3.08V17H22.1v-.96c-.42.68-1.15 1.02-2.19 1.02-.76 0-1.38-.22-1.84-.66-.46-.44-.7-1-.7-1.68 0-.78.3-1.38.88-1.81.59-.43 1.4-.65 2.46-.65h1.34v-.46c0-.55-.13-.97-.4-1.25-.26-.29-.7-.43-1.32-.43-.86 0-1.65.24-2.35.72zm9.34-1.93v1.42c.39-1 1.1-1.5 2.12-1.5.15 0 .31.02.5.05v1.53c-.23-.1-.48-.14-.76-.14-.54 0-.99.24-1.34.71a2.8 2.8 0 0 0-.52 1.71V17h-1.57V8.91h1.57zm5 4.09a3 3 0 0 0 .76 2.01c.47.53 1.14.8 2 .8.64 0 1.24-.18 1.8-.53v1.4c-.53.32-1.2.48-2 .48a3.98 3.98 0 0 1-4.17-4.18c0-1.16.38-2.15 1.14-2.98a4 4 0 0 1 3.1-1.23c.7 0 1.34.15 1.92.44v1.44a3.24 3.24 0 0 0-1.77-.5A2.65 2.65 0 0 0 32.33 13zm7.92-7.28v4.58c.46-1 1.3-1.5 2.5-1.5.8 0 1.42.24 1.9.73.48.5.72 1.17.72 2.05V17H43.8v-5.1c0-.56-.14-.99-.43-1.29-.28-.3-.65-.45-1.1-.45-.54 0-1 .2-1.42.6-.4.4-.61 1.02-.61 1.85V17h-1.56V5.72h1.56zM55.2 15.74c.6 0 1.1-.25 1.5-.76.4-.5.6-1.16.6-1.95 0-.92-.2-1.62-.6-2.12-.4-.5-.92-.74-1.55-.74-.56 0-1.05.22-1.5.67-.44.45-.66 1.13-.66 2.06 0 .96.22 1.67.64 2.14.43.47.95.7 1.57.7zM53 5.72v4.42a2.74 2.74 0 0 1 2.43-1.34c1.03 0 1.86.38 2.51 1.15.65.76.97 1.78.97 3.05 0 1.13-.3 2.1-.92 2.9-.62.81-1.47 1.21-2.54 1.21s-1.9-.45-2.46-1.34V17h-1.58V5.72H53zm9.9 11.1l-3.22-7.9h1.74l1 2.62 1.26 3.42c.1-.32.48-1.46 1.15-3.42l.91-2.63h1.66l-2.92 7.87c-.78 2.07-1.96 3.1-3.56 3.1-.28 0-.53-.02-.73-.07v-1.34c.17.04.35.06.54.06 1.03 0 1.76-.57 2.17-1.7z\"\n        />\n        <path\n          fill=\"#5468FF\"\n          d=\"M78.99.94h16.6a2.97 2.97 0 0 1 2.96 2.96v16.6a2.97 2.97 0 0 1-2.97 2.96h-16.6a2.97 2.97 0 0 1-2.96-2.96V3.9A2.96 2.96 0 0 1 79 .94\"\n        />\n        <path\n          fill=\"#FFF\"\n          d=\"M89.63 5.97v-.78a.98.98 0 0 0-.98-.97h-2.28a.98.98 0 0 0-.97.97V6c0 .09.08.15.17.13a7.13 7.13 0 0 1 3.9-.02c.08.02.16-.04.16-.13m-6.25 1L83 6.6a.98.98 0 0 0-1.38 0l-.46.46a.97.97 0 0 0 0 1.38l.38.39c.06.06.15.04.2-.02a7.49 7.49 0 0 1 1.63-1.62c.07-.04.08-.14.02-.2m4.16 2.45v3.34c0 .1.1.17.2.12l2.97-1.54c.06-.03.08-.12.05-.18a3.7 3.7 0 0 0-3.08-1.87c-.07 0-.14.06-.14.13m0 8.05a4.49 4.49 0 1 1 0-8.98 4.49 4.49 0 0 1 0 8.98m0-10.85a6.37 6.37 0 1 0 0 12.74 6.37 6.37 0 0 0 0-12.74\"\n        />\n        <path\n          :fill=\"theme === 'dark' ? '#FFF': '#5468FF'\"\n          d=\"M120.92 18.8c-4.38.02-4.38-3.54-4.38-4.1V1.36l2.67-.42v13.25c0 .32 0 2.36 1.71 2.37v2.24zm-10.84-2.18c.82 0 1.43-.04 1.85-.12v-2.72a5.48 5.48 0 0 0-1.57-.2c-.3 0-.6.02-.9.07-.3.04-.57.12-.81.24-.24.11-.44.28-.58.49a.93.93 0 0 0-.22.65c0 .63.22 1 .61 1.23.4.24.94.36 1.62.36zm-.23-9.7c.88 0 1.62.11 2.23.33.6.22 1.09.53 1.44.92.36.4.61.92.76 1.48.16.56.23 1.17.23 1.85v6.87c-.4.1-1.03.2-1.86.32-.84.12-1.78.18-2.82.18-.69 0-1.32-.07-1.9-.2a4 4 0 0 1-1.46-.63c-.4-.3-.72-.67-.96-1.13a4.3 4.3 0 0 1-.34-1.8c0-.66.13-1.08.39-1.53.26-.45.6-.82 1.04-1.1.45-.3.95-.5 1.54-.62a8.8 8.8 0 0 1 3.79.05v-.44c0-.3-.04-.6-.11-.87a1.78 1.78 0 0 0-1.1-1.22c-.31-.12-.7-.2-1.15-.2a9.75 9.75 0 0 0-2.95.46l-.33-2.19c.34-.12.84-.23 1.48-.35.65-.12 1.34-.18 2.08-.18zm52.84 9.63c.82 0 1.43-.05 1.85-.13V13.7a5.42 5.42 0 0 0-1.57-.2c-.3 0-.6.02-.9.07-.3.04-.57.12-.81.24-.24.12-.44.28-.58.5a.93.93 0 0 0-.22.65c0 .63.22.99.61 1.23.4.24.94.36 1.62.36zm-.23-9.7c.88 0 1.63.11 2.23.33.6.22 1.1.53 1.45.92.35.39.6.92.76 1.48.15.56.23 1.18.23 1.85v6.88c-.41.08-1.03.19-1.87.31-.83.12-1.77.18-2.81.18-.7 0-1.33-.06-1.9-.2a4 4 0 0 1-1.47-.63c-.4-.3-.72-.67-.95-1.13a4.3 4.3 0 0 1-.34-1.8c0-.66.13-1.08.38-1.53.26-.45.61-.82 1.05-1.1.44-.3.95-.5 1.53-.62a8.8 8.8 0 0 1 3.8.05v-.43c0-.31-.04-.6-.12-.88-.07-.28-.2-.52-.38-.73a1.78 1.78 0 0 0-.73-.5c-.3-.1-.68-.2-1.14-.2a9.85 9.85 0 0 0-2.95.47l-.32-2.19a11.63 11.63 0 0 1 3.55-.53zm-8.03-1.27a1.62 1.62 0 0 0 0-3.24 1.62 1.62 0 1 0 0 3.24zm1.35 13.22h-2.7V7.27l2.7-.42V18.8zm-4.72 0c-4.38.02-4.38-3.54-4.38-4.1l-.01-13.34 2.67-.42v13.25c0 .32 0 2.36 1.72 2.37v2.24zm-8.7-5.9a4.7 4.7 0 0 0-.74-2.79 2.4 2.4 0 0 0-2.07-1 2.4 2.4 0 0 0-2.06 1 4.7 4.7 0 0 0-.74 2.8c0 1.16.25 1.94.74 2.62a2.4 2.4 0 0 0 2.07 1.02c.88 0 1.57-.34 2.07-1.02.49-.68.73-1.46.73-2.63zm2.74 0a6.46 6.46 0 0 1-1.52 4.23c-.49.53-1.07.94-1.76 1.22-.68.29-1.73.45-2.26.45-.53 0-1.58-.15-2.25-.45a5.1 5.1 0 0 1-2.88-3.13 7.3 7.3 0 0 1-.01-4.84 5.13 5.13 0 0 1 2.9-3.1 5.67 5.67 0 0 1 2.22-.42c.81 0 1.56.14 2.24.42.69.29 1.28.69 1.75 1.22.49.52.87 1.15 1.14 1.89a7 7 0 0 1 .43 2.5zm-20.14 0c0 1.11.25 2.36.74 2.88.5.52 1.13.78 1.91.78a4.07 4.07 0 0 0 2.12-.6V9.33c-.19-.04-.99-.2-1.76-.23a2.67 2.67 0 0 0-2.23 1 4.73 4.73 0 0 0-.78 2.8zm7.44 5.27c0 1.82-.46 3.16-1.4 4-.94.85-2.37 1.27-4.3 1.27-.7 0-2.17-.13-3.34-.4l.43-2.11c.98.2 2.27.26 2.95.26 1.08 0 1.84-.22 2.3-.66.46-.43.68-1.08.68-1.94v-.44a5.2 5.2 0 0 1-2.54.6 5.6 5.6 0 0 1-2.01-.36 4.2 4.2 0 0 1-2.58-2.71 9.88 9.88 0 0 1 .02-5.35 4.92 4.92 0 0 1 2.93-2.96 6.6 6.6 0 0 1 2.43-.46 19.64 19.64 0 0 1 4.43.66v10.6z\"\n        />\n      </svg>\n    </a>\n  </div>\n</template>\n\n<script>\nimport { createSuitMixin } from '../mixins/suit';\n\nexport default {\n  name: 'AisPoweredBy',\n  mixins: [createSuitMixin({ name: 'PoweredBy' })],\n  props: {\n    theme: {\n      default: 'light',\n      validator(value) {\n        return ['light', 'dark'].indexOf(value) !== -1;\n      },\n    },\n  },\n  computed: {\n    algoliaUrl() {\n      return (\n        'https://www.algolia.com/?' +\n        'utm_source=vue-instantsearch&' +\n        'utm_medium=website&' +\n        `utm_content=${location ? location.hostname : ''}&` +\n        'utm_campaign=poweredby'\n      );\n    },\n  },\n};\n</script>\n","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nimport { checkRendering, createDocumentationMessageGenerator, warning, getRefinements, isEqual, noop } from '../../lib/utils';\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'query-rules',\n  connector: true\n});\n\nfunction hasStateRefinements(state) {\n  return [state.disjunctiveFacetsRefinements, state.facetsRefinements, state.hierarchicalFacetsRefinements, state.numericRefinements].some(function (refinement) {\n    return Boolean(refinement && Object.keys(refinement).length > 0);\n  });\n} // A context rule must consist only of alphanumeric characters, hyphens, and underscores.\n// See https://www.algolia.com/doc/guides/managing-results/refine-results/merchandising-and-promoting/in-depth/implementing-query-rules/#context\n\n\nfunction escapeRuleContext(ruleName) {\n  return ruleName.replace(/[^a-z0-9-_]+/gi, '_');\n}\n\nfunction getRuleContextsFromTrackedFilters(_ref) {\n  var helper = _ref.helper,\n      sharedHelperState = _ref.sharedHelperState,\n      trackedFilters = _ref.trackedFilters;\n  var ruleContexts = Object.keys(trackedFilters).reduce(function (facets, facetName) {\n    var facetRefinements = getRefinements( // An empty object is technically not a `SearchResults` but `getRefinements`\n    // only accesses properties, meaning it will not throw with an empty object.\n    helper.lastResults || {}, sharedHelperState).filter(function (refinement) {\n      return refinement.attribute === facetName;\n    }).map(function (refinement) {\n      return refinement.numericValue || refinement.name;\n    });\n    var getTrackedFacetValues = trackedFilters[facetName];\n    var trackedFacetValues = getTrackedFacetValues(facetRefinements);\n    return [].concat(_toConsumableArray(facets), _toConsumableArray(facetRefinements.filter(function (facetRefinement) {\n      return trackedFacetValues.includes(facetRefinement);\n    }).map(function (facetValue) {\n      return escapeRuleContext(\"ais-\".concat(facetName, \"-\").concat(facetValue));\n    })));\n  }, []);\n  return ruleContexts;\n}\n\nfunction applyRuleContexts(event) {\n  var helper = this.helper,\n      initialRuleContexts = this.initialRuleContexts,\n      trackedFilters = this.trackedFilters,\n      transformRuleContexts = this.transformRuleContexts;\n  var sharedHelperState = event.state;\n  var previousRuleContexts = sharedHelperState.ruleContexts || [];\n  var newRuleContexts = getRuleContextsFromTrackedFilters({\n    helper: helper,\n    sharedHelperState: sharedHelperState,\n    trackedFilters: trackedFilters\n  });\n  var nextRuleContexts = [].concat(_toConsumableArray(initialRuleContexts), _toConsumableArray(newRuleContexts));\n  process.env.NODE_ENV === 'development' ? warning(nextRuleContexts.length <= 10, \"\\nThe maximum number of `ruleContexts` is 10. They have been sliced to that limit.\\nConsider using `transformRuleContexts` to minimize the number of rules sent to Algolia.\\n\") : void 0;\n  var ruleContexts = transformRuleContexts(nextRuleContexts).slice(0, 10);\n\n  if (!isEqual(previousRuleContexts, ruleContexts)) {\n    helper.overrideStateWithoutTriggeringChangeEvent(_objectSpread({}, sharedHelperState, {\n      ruleContexts: ruleContexts\n    }));\n  }\n}\n\nvar connectQueryRules = function connectQueryRules(_render) {\n  var unmount = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  checkRendering(_render, withUsage());\n  return function (widgetParams) {\n    var _ref2 = widgetParams || {},\n        _ref2$trackedFilters = _ref2.trackedFilters,\n        trackedFilters = _ref2$trackedFilters === void 0 ? {} : _ref2$trackedFilters,\n        _ref2$transformRuleCo = _ref2.transformRuleContexts,\n        transformRuleContexts = _ref2$transformRuleCo === void 0 ? function (rules) {\n      return rules;\n    } : _ref2$transformRuleCo,\n        _ref2$transformItems = _ref2.transformItems,\n        transformItems = _ref2$transformItems === void 0 ? function (items) {\n      return items;\n    } : _ref2$transformItems;\n\n    Object.keys(trackedFilters).forEach(function (facetName) {\n      if (typeof trackedFilters[facetName] !== 'function') {\n        throw new Error(withUsage(\"'The \\\"\".concat(facetName, \"\\\" filter value in the `trackedFilters` option expects a function.\")));\n      }\n    });\n    var hasTrackedFilters = Object.keys(trackedFilters).length > 0; // We store the initial rule contexts applied before creating the widget\n    // so that we do not override them with the rules created from `trackedFilters`.\n\n    var initialRuleContexts = [];\n    var onHelperChange;\n    return {\n      $$type: 'ais.queryRules',\n      init: function init(initOptions) {\n        var helper = initOptions.helper,\n            state = initOptions.state,\n            instantSearchInstance = initOptions.instantSearchInstance;\n        initialRuleContexts = state.ruleContexts || [];\n        onHelperChange = applyRuleContexts.bind({\n          helper: helper,\n          initialRuleContexts: initialRuleContexts,\n          trackedFilters: trackedFilters,\n          transformRuleContexts: transformRuleContexts\n        });\n\n        if (hasTrackedFilters) {\n          // We need to apply the `ruleContexts` based on the `trackedFilters`\n          // before the helper changes state in some cases:\n          //   - Some filters are applied on the first load (e.g. using `configure`)\n          //   - The `transformRuleContexts` option sets initial `ruleContexts`.\n          if (hasStateRefinements(state) || Boolean(widgetParams.transformRuleContexts)) {\n            onHelperChange({\n              state: state\n            });\n          } // We track every change in the helper to override its state and add\n          // any `ruleContexts` needed based on the `trackedFilters`.\n\n\n          helper.on('change', onHelperChange);\n        }\n\n        _render(_objectSpread({}, this.getWidgetRenderState(initOptions), {\n          instantSearchInstance: instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        var instantSearchInstance = renderOptions.instantSearchInstance;\n\n        _render(_objectSpread({}, this.getWidgetRenderState(renderOptions), {\n          instantSearchInstance: instantSearchInstance\n        }), false);\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref3) {\n        var results = _ref3.results;\n\n        var _ref4 = results || {},\n            _ref4$userData = _ref4.userData,\n            userData = _ref4$userData === void 0 ? [] : _ref4$userData;\n\n        var items = transformItems(userData);\n        return {\n          items: items,\n          widgetParams: widgetParams\n        };\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread({}, renderState, {\n          queryRules: this.getWidgetRenderState(renderOptions)\n        });\n      },\n      dispose: function dispose(_ref5) {\n        var helper = _ref5.helper,\n            state = _ref5.state;\n        unmount();\n\n        if (hasTrackedFilters) {\n          helper.removeListener('change', onHelperChange);\n          return state.setQueryParameter('ruleContexts', initialRuleContexts);\n        }\n\n        return state;\n      }\n    };\n  };\n};\n\nexport default connectQueryRules;","import{createSuitMixin as t}from\"../mixins/suit.js\";import{createWidgetMixin as e}from\"../mixins/widget.js\";import{connectQueryRules as r}from\"instantsearch.js/es/connectors\";export default{name:\"AisQueryRuleContext\",mixins:[t({name:\"QueryRuleContext\"}),e({connector:r})],props:{trackedFilters:{type:Object,required:!0},transformRuleContexts:{type:Function,required:!1,default:function(t){return t}}},computed:{widgetParams:function(){return{trackedFilters:this.trackedFilters,transformRuleContexts:this.transformRuleContexts}}},render:function(){return null}};\n//# sourceMappingURL=QueryRuleContext.js.map\n","<template>\n  <div\n    v-if=\"state\"\n    :class=\"suit()\"\n  >\n    <slot :items=\"state.items\">\n      <div\n        v-for=\"(item, key) in state.items\"\n        :key=\"key\"\n      >\n        <slot\n          name=\"item\"\n          :item=\"item\"\n        >\n          <pre>{{ item }}</pre>\n        </slot>\n      </div>\n    </slot>\n  </div>\n</template>\n\n<script>\nimport { createSuitMixin } from '../mixins/suit';\nimport { createWidgetMixin } from '../mixins/widget';\nimport { connectQueryRules } from 'instantsearch.js/es/connectors';\n\nexport default {\n  name: 'AisQueryRuleCustomData',\n  mixins: [\n    createSuitMixin({ name: 'QueryRuleCustomData' }),\n    createWidgetMixin({\n      connector: connectQueryRules,\n    }),\n  ],\n  props: {\n    transformItems: {\n      type: Function,\n      required: false,\n      default: items => items,\n    },\n  },\n  computed: {\n    widgetParams() {\n      return {\n        transformItems: this.transformItems,\n      };\n    },\n  },\n};\n</script>\n","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { checkRendering, createDocumentationMessageGenerator, convertNumericRefinementsToFilters, isFiniteNumber, find, noop } from '../../lib/utils';\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'range-input',\n  connector: true\n}, {\n  name: 'range-slider',\n  connector: true\n});\nvar $$type = 'ais.range';\n\nfunction toPrecision(_ref) {\n  var min = _ref.min,\n      max = _ref.max,\n      precision = _ref.precision;\n  var pow = Math.pow(10, precision);\n  return {\n    min: min ? Math.floor(min * pow) / pow : min,\n    max: max ? Math.ceil(max * pow) / pow : max\n  };\n}\n/**\n * **Range** connector provides the logic to create custom widget that will let\n * the user refine results using a numeric range.\n *\n * This connectors provides a `refine()` function that accepts bounds. It will also provide\n * information about the min and max bounds for the current result set.\n */\n\n\nvar connectRange = function connectRange(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  checkRendering(renderFn, withUsage());\n  return function (widgetParams) {\n    var _ref2 = widgetParams || {},\n        attribute = _ref2.attribute,\n        minBound = _ref2.min,\n        maxBound = _ref2.max,\n        _ref2$precision = _ref2.precision,\n        precision = _ref2$precision === void 0 ? 0 : _ref2$precision;\n\n    if (!attribute) {\n      throw new Error(withUsage('The `attribute` option is required.'));\n    }\n\n    if (isFiniteNumber(minBound) && isFiniteNumber(maxBound) && minBound > maxBound) {\n      throw new Error(withUsage(\"The `max` option can't be lower than `min`.\"));\n    }\n\n    var formatToNumber = function formatToNumber(v) {\n      return Number(Number(v).toFixed(precision));\n    };\n\n    var rangeFormatter = {\n      from: function from(v) {\n        return v.toLocaleString();\n      },\n      to: function to(v) {\n        return formatToNumber(v).toLocaleString();\n      }\n    }; // eslint-disable-next-line complexity\n\n    var getRefinedState = function getRefinedState(helper, currentRange, nextMin, nextMax) {\n      var resolvedState = helper.state;\n      var currentRangeMin = currentRange.min,\n          currentRangeMax = currentRange.max;\n\n      var _ref3 = resolvedState.getNumericRefinement(attribute, '>=') || [],\n          _ref4 = _slicedToArray(_ref3, 1),\n          min = _ref4[0];\n\n      var _ref5 = resolvedState.getNumericRefinement(attribute, '<=') || [],\n          _ref6 = _slicedToArray(_ref5, 1),\n          max = _ref6[0];\n\n      var isResetMin = nextMin === undefined || nextMin === '';\n      var isResetMax = nextMax === undefined || nextMax === '';\n\n      var _toPrecision = toPrecision({\n        min: !isResetMin ? parseFloat(nextMin) : undefined,\n        max: !isResetMax ? parseFloat(nextMax) : undefined,\n        precision: precision\n      }),\n          nextMinAsNumber = _toPrecision.min,\n          nextMaxAsNumber = _toPrecision.max;\n\n      var newNextMin;\n\n      if (!isFiniteNumber(minBound) && currentRangeMin === nextMinAsNumber) {\n        newNextMin = undefined;\n      } else if (isFiniteNumber(minBound) && isResetMin) {\n        newNextMin = minBound;\n      } else {\n        newNextMin = nextMinAsNumber;\n      }\n\n      var newNextMax;\n\n      if (!isFiniteNumber(maxBound) && currentRangeMax === nextMaxAsNumber) {\n        newNextMax = undefined;\n      } else if (isFiniteNumber(maxBound) && isResetMax) {\n        newNextMax = maxBound;\n      } else {\n        newNextMax = nextMaxAsNumber;\n      }\n\n      var isResetNewNextMin = newNextMin === undefined;\n      var isGreaterThanCurrentRange = isFiniteNumber(currentRangeMin) && currentRangeMin <= newNextMin;\n      var isMinValid = isResetNewNextMin || isFiniteNumber(newNextMin) && (!isFiniteNumber(currentRangeMin) || isGreaterThanCurrentRange);\n      var isResetNewNextMax = newNextMax === undefined;\n      var isLowerThanRange = isFiniteNumber(newNextMax) && currentRangeMax >= newNextMax;\n      var isMaxValid = isResetNewNextMax || isFiniteNumber(newNextMax) && (!isFiniteNumber(currentRangeMax) || isLowerThanRange);\n      var hasMinChange = min !== newNextMin;\n      var hasMaxChange = max !== newNextMax;\n\n      if ((hasMinChange || hasMaxChange) && isMinValid && isMaxValid) {\n        resolvedState = resolvedState.removeNumericRefinement(attribute);\n\n        if (isFiniteNumber(newNextMin)) {\n          resolvedState = resolvedState.addNumericRefinement(attribute, '>=', newNextMin);\n        }\n\n        if (isFiniteNumber(newNextMax)) {\n          resolvedState = resolvedState.addNumericRefinement(attribute, '<=', newNextMax);\n        }\n\n        return resolvedState;\n      }\n\n      return null;\n    };\n\n    var sendEventWithRefinedState = function sendEventWithRefinedState(refinedState, instantSearchInstance, helper) {\n      var eventName = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'Filter Applied';\n      var filters = convertNumericRefinementsToFilters(refinedState, attribute);\n\n      if (filters && filters.length > 0) {\n        instantSearchInstance.sendEventToInsights({\n          insightsMethod: 'clickedFilters',\n          widgetType: $$type,\n          eventType: 'click',\n          payload: {\n            eventName: eventName,\n            index: helper.getIndex(),\n            filters: filters\n          }\n        });\n      }\n    };\n\n    var createSendEvent = function createSendEvent(instantSearchInstance, helper, currentRange) {\n      return function () {\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        if (args.length === 1) {\n          instantSearchInstance.sendEventToInsights(args[0]);\n          return;\n        }\n\n        var eventType = args[0],\n            facetValue = args[1],\n            eventName = args[2];\n\n        if (eventType !== 'click') {\n          return;\n        }\n\n        var _facetValue = _slicedToArray(facetValue, 2),\n            nextMin = _facetValue[0],\n            nextMax = _facetValue[1];\n\n        var refinedState = getRefinedState(helper, currentRange, nextMin, nextMax);\n        sendEventWithRefinedState(refinedState, instantSearchInstance, helper, eventName);\n      };\n    };\n\n    function _getCurrentRange(stats) {\n      var min;\n\n      if (isFiniteNumber(minBound)) {\n        min = minBound;\n      } else if (isFiniteNumber(stats.min)) {\n        min = stats.min;\n      } else {\n        min = 0;\n      }\n\n      var max;\n\n      if (isFiniteNumber(maxBound)) {\n        max = maxBound;\n      } else if (isFiniteNumber(stats.max)) {\n        max = stats.max;\n      } else {\n        max = 0;\n      }\n\n      return toPrecision({\n        min: min,\n        max: max,\n        precision: precision\n      });\n    }\n\n    function _getCurrentRefinement(helper) {\n      var _ref7 = helper.getNumericRefinement(attribute, '>=') || [],\n          _ref8 = _slicedToArray(_ref7, 1),\n          minValue = _ref8[0];\n\n      var _ref9 = helper.getNumericRefinement(attribute, '<=') || [],\n          _ref10 = _slicedToArray(_ref9, 1),\n          maxValue = _ref10[0];\n\n      var min = isFiniteNumber(minValue) ? minValue : -Infinity;\n      var max = isFiniteNumber(maxValue) ? maxValue : Infinity;\n      return [min, max];\n    }\n\n    function _refine(instantSearchInstance, helper, currentRange) {\n      return function () {\n        var _ref11 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [undefined, undefined],\n            _ref12 = _slicedToArray(_ref11, 2),\n            nextMin = _ref12[0],\n            nextMax = _ref12[1];\n\n        var refinedState = getRefinedState(helper, currentRange, nextMin, nextMax);\n\n        if (refinedState) {\n          sendEventWithRefinedState(refinedState, instantSearchInstance, helper);\n          helper.setState(refinedState).search();\n        }\n      };\n    }\n\n    return {\n      $$type: $$type,\n      init: function init(initOptions) {\n        renderFn(_objectSpread({}, this.getWidgetRenderState(initOptions), {\n          instantSearchInstance: initOptions.instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        renderFn(_objectSpread({}, this.getWidgetRenderState(renderOptions), {\n          instantSearchInstance: renderOptions.instantSearchInstance\n        }), false);\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread({}, renderState, {\n          range: _objectSpread({}, renderState.range, _defineProperty({}, attribute, this.getWidgetRenderState(renderOptions)))\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref13) {\n        var results = _ref13.results,\n            helper = _ref13.helper,\n            instantSearchInstance = _ref13.instantSearchInstance;\n        var facetsFromResults = results && results.disjunctiveFacets || [];\n        var facet = find(facetsFromResults, function (facetResult) {\n          return facetResult.name === attribute;\n        });\n        var stats = facet && facet.stats || {\n          min: undefined,\n          max: undefined\n        };\n\n        var currentRange = _getCurrentRange(stats);\n\n        var start = _getCurrentRefinement(helper);\n\n        var refine;\n\n        if (!results) {\n          // On first render pass an empty range\n          // to be able to bypass the validation\n          // related to it\n          refine = _refine(instantSearchInstance, helper, {\n            min: undefined,\n            max: undefined\n          });\n        } else {\n          refine = _refine(instantSearchInstance, helper, currentRange);\n        }\n\n        return {\n          refine: refine,\n          format: rangeFormatter,\n          range: currentRange,\n          sendEvent: createSendEvent(instantSearchInstance, helper, currentRange),\n          widgetParams: _objectSpread({}, widgetParams, {\n            precision: precision\n          }),\n          start: start\n        };\n      },\n      dispose: function dispose(_ref14) {\n        var state = _ref14.state;\n        unmountFn();\n        return state.removeDisjunctiveFacet(attribute).removeNumericRefinement(attribute);\n      },\n      getWidgetUiState: function getWidgetUiState(uiState, _ref15) {\n        var searchParameters = _ref15.searchParameters;\n\n        var _searchParameters$get = searchParameters.getNumericRefinements(attribute),\n            _searchParameters$get2 = _searchParameters$get['>='],\n            min = _searchParameters$get2 === void 0 ? [] : _searchParameters$get2,\n            _searchParameters$get3 = _searchParameters$get['<='],\n            max = _searchParameters$get3 === void 0 ? [] : _searchParameters$get3;\n\n        if (min.length === 0 && max.length === 0) {\n          return uiState;\n        }\n\n        return _objectSpread({}, uiState, {\n          range: _objectSpread({}, uiState.range, _defineProperty({}, attribute, \"\".concat(min, \":\").concat(max)))\n        });\n      },\n      getWidgetSearchParameters: function getWidgetSearchParameters(searchParameters, _ref16) {\n        var uiState = _ref16.uiState;\n        var widgetSearchParameters = searchParameters.addDisjunctiveFacet(attribute).setQueryParameters({\n          numericRefinements: _objectSpread({}, searchParameters.numericRefinements, _defineProperty({}, attribute, {}))\n        });\n\n        if (isFiniteNumber(minBound)) {\n          widgetSearchParameters = widgetSearchParameters.addNumericRefinement(attribute, '>=', minBound);\n        }\n\n        if (isFiniteNumber(maxBound)) {\n          widgetSearchParameters = widgetSearchParameters.addNumericRefinement(attribute, '<=', maxBound);\n        }\n\n        var value = uiState.range && uiState.range[attribute];\n\n        if (!value || value.indexOf(':') === -1) {\n          return widgetSearchParameters;\n        }\n\n        var _value$split$map = value.split(':').map(parseFloat),\n            _value$split$map2 = _slicedToArray(_value$split$map, 2),\n            lowerBound = _value$split$map2[0],\n            upperBound = _value$split$map2[1];\n\n        if (isFiniteNumber(lowerBound)) {\n          widgetSearchParameters = widgetSearchParameters.addNumericRefinement(attribute, '>=', lowerBound);\n        }\n\n        if (isFiniteNumber(upperBound)) {\n          widgetSearchParameters = widgetSearchParameters.addNumericRefinement(attribute, '<=', upperBound);\n        }\n\n        return widgetSearchParameters;\n      }\n    };\n  };\n};\n\nexport default connectRange;","<template>\n  <div\n    v-if=\"state\"\n    :class=\"[suit(), !canRefine && suit('', 'noRefinement')]\"\n  >\n    <slot\n      :current-refinement=\"values\"\n      :refine=\"refine\"\n      :can-refine=\"canRefine\"\n      :range=\"state.range\"\n    >\n      <form\n        :class=\"suit('form')\"\n        @submit.prevent=\"refine({ min: pick(minInput, values.min), max: pick(maxInput, values.max) })\"\n      >\n        <label :class=\"suit('label')\">\n          <slot name=\"minLabel\" />\n          <input\n            type=\"number\"\n            :class=\"[suit('input'), suit('input', 'min')]\"\n            :step=\"step\"\n            :min=\"state.range.min\"\n            :max=\"state.range.max\"\n            :placeholder=\"state.range.min\"\n            :value=\"values.min\"\n            @change=\"minInput = $event.currentTarget.value\"\n          >\n        </label>\n        <span :class=\"suit('separator')\">\n          <slot name=\"separator\">to</slot>\n        </span>\n        <label :class=\"suit('label')\">\n          <slot name=\"maxLabel\" />\n          <input\n            :class=\"[suit('input'), suit('input', 'max')]\"\n            type=\"number\"\n            :step=\"step\"\n            :min=\"state.range.min\"\n            :max=\"state.range.max\"\n            :placeholder=\"state.range.max\"\n            :value=\"values.max\"\n            @change=\"maxInput = $event.currentTarget.value\"\n          >\n        </label>\n        <button\n          :class=\"suit('submit')\"\n          type=\"submit\"\n        >\n          <slot name=\"submitLabel\">Go</slot>\n        </button>\n      </form>\n    </slot>\n  </div>\n</template>\n\n<script>\nimport { connectRange } from 'instantsearch.js/es/connectors';\nimport { createWidgetMixin } from '../mixins/widget';\nimport { createPanelConsumerMixin } from '../mixins/panel';\nimport { createSuitMixin } from '../mixins/suit';\n\nconst mapStateToCanRefine = state =>\n  state && Boolean(state.range) && state.range.min !== state.range.max;\n\nexport default {\n  name: 'AisRangeInput',\n  mixins: [\n    createSuitMixin({ name: 'RangeInput' }),\n    createWidgetMixin({ connector: connectRange }),\n    createPanelConsumerMixin({\n      mapStateToCanRefine,\n    }),\n  ],\n  props: {\n    attribute: {\n      type: String,\n      required: true,\n    },\n    min: {\n      type: Number,\n      required: false,\n      default: -Infinity,\n    },\n    max: {\n      type: Number,\n      required: false,\n      default: Infinity,\n    },\n    precision: {\n      type: Number,\n      required: false,\n      default: 0,\n    },\n  },\n  data() {\n    return {\n      minInput: undefined,\n      maxInput: undefined,\n    };\n  },\n  updated() {\n    this.minInput = undefined;\n    this.maxInput = undefined;\n  },\n  computed: {\n    widgetParams() {\n      return {\n        attribute: this.attribute,\n        min: this.min,\n        max: this.max,\n        precision: this.precision,\n      };\n    },\n    canRefine() {\n      return mapStateToCanRefine(this.state);\n    },\n    step() {\n      return 1 / Math.pow(10, this.precision);\n    },\n    values() {\n      const [minValue, maxValue] = this.state.start;\n      const { min: minRange, max: maxRange } = this.state.range;\n\n      return {\n        min:\n          minValue !== -Infinity && minValue !== minRange\n            ? minValue\n            : undefined,\n        max:\n          maxValue !== Infinity && maxValue !== maxRange ? maxValue : undefined,\n      };\n    },\n  },\n  methods: {\n    pick(first, second) {\n      if (first !== null && first !== undefined) {\n        return first;\n      } else {\n        return second;\n      }\n    },\n    refine({ min, max }) {\n      this.state.refine([min, max]);\n    },\n  },\n};\n</script>\n","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nimport { checkRendering, createDocumentationMessageGenerator, range, noop } from '../../lib/utils';\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'rating-menu',\n  connector: true\n});\nvar $$type = 'ais.ratingMenu';\n\nvar createSendEvent = function createSendEvent(_ref) {\n  var instantSearchInstance = _ref.instantSearchInstance,\n      helper = _ref.helper,\n      getRefinedStar = _ref.getRefinedStar,\n      attribute = _ref.attribute;\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    if (args.length === 1) {\n      instantSearchInstance.sendEventToInsights(args[0]);\n      return;\n    }\n\n    var eventType = args[0],\n        facetValue = args[1],\n        _args$ = args[2],\n        eventName = _args$ === void 0 ? 'Filter Applied' : _args$;\n\n    if (eventType !== 'click') {\n      return;\n    }\n\n    var isRefined = getRefinedStar() === Number(facetValue);\n\n    if (!isRefined) {\n      instantSearchInstance.sendEventToInsights({\n        insightsMethod: 'clickedFilters',\n        widgetType: $$type,\n        eventType: eventType,\n        payload: {\n          eventName: eventName,\n          index: helper.getIndex(),\n          filters: [\"\".concat(attribute, \">=\").concat(facetValue)]\n        }\n      });\n    }\n  };\n};\n/**\n * @typedef {Object} StarRatingItems\n * @property {string} name Name corresponding to the number of stars.\n * @property {string} value Number of stars as string.\n * @property {number} count Count of matched results corresponding to the number of stars.\n * @property {boolean[]} stars Array of length of maximum rating value with stars to display or not.\n * @property {boolean} isRefined Indicates if star rating refinement is applied.\n */\n\n/**\n * @typedef {Object} CustomStarRatingWidgetOptions\n * @property {string} attribute Name of the attribute for faceting (eg. \"free_shipping\").\n * @property {number} [max = 5] The maximum rating value.\n */\n\n/**\n * @typedef {Object} StarRatingRenderingOptions\n * @property {StarRatingItems[]} items Possible star ratings the user can apply.\n * @property {function(string): string} createURL Creates an URL for the next\n * state (takes the item value as parameter). Takes the value of an item as parameter.\n * @property {function(string)} refine Selects a rating to filter the results\n * (takes the filter value as parameter). Takes the value of an item as parameter.\n * @property {boolean} hasNoResults `true` if the last search contains no result.\n * @property {Object} widgetParams All original `CustomStarRatingWidgetOptions` forwarded to the `renderFn`.\n */\n\n/**\n * **StarRating** connector provides the logic to build a custom widget that will let\n * the user refine search results based on ratings.\n *\n * The connector provides to the rendering: `refine()` to select a value and\n * `items` that are the values that can be selected. `refine` should be used\n * with `items.value`.\n * @type {Connector}\n * @param {function(StarRatingRenderingOptions, boolean)} renderFn Rendering function for the custom **StarRating** widget.\n * @param {function} unmountFn Unmount function called when the widget is disposed.\n * @return {function(CustomStarRatingWidgetOptions)} Re-usable widget factory for a custom **StarRating** widget.\n * @example\n * // custom `renderFn` to render the custom StarRating widget\n * function renderFn(StarRatingRenderingOptions, isFirstRendering) {\n *   if (isFirstRendering) {\n *     StarRatingRenderingOptions.widgetParams.containerNode.html('<ul></ul>');\n *   }\n *\n *   StarRatingRenderingOptions.widgetParams.containerNode\n *     .find('li[data-refine-value]')\n *     .each(function() { $(this).off('click'); });\n *\n *   var listHTML = StarRatingRenderingOptions.items.map(function(item) {\n *     return '<li data-refine-value=\"' + item.value + '\">' +\n *       '<a href=\"' + StarRatingRenderingOptions.createURL(item.value) + '\">' +\n *       item.stars.map(function(star) { return star === false ? '☆' : '★'; }).join(' ') +\n *       '& up (' + item.count + ')' +\n *       '</a></li>';\n *   });\n *\n *   StarRatingRenderingOptions.widgetParams.containerNode\n *     .find('ul')\n *     .html(listHTML);\n *\n *   StarRatingRenderingOptions.widgetParams.containerNode\n *     .find('li[data-refine-value]')\n *     .each(function() {\n *       $(this).on('click', function(event) {\n *         event.preventDefault();\n *         event.stopPropagation();\n *\n *         StarRatingRenderingOptions.refine($(this).data('refine-value'));\n *       });\n *     });\n * }\n *\n * // connect `renderFn` to StarRating logic\n * var customStarRating = instantsearch.connectors.connectRatingMenu(renderFn);\n *\n * // mount widget on the page\n * search.addWidgets([\n *   customStarRating({\n *     containerNode: $('#custom-rating-menu-container'),\n *     attribute: 'rating',\n *     max: 5,\n *   })\n * ]);\n */\n\n\nexport default function connectRatingMenu(renderFn) {\n  var _this = this;\n\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  checkRendering(renderFn, withUsage());\n  return function () {\n    var widgetParams = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var attribute = widgetParams.attribute,\n        _widgetParams$max = widgetParams.max,\n        max = _widgetParams$max === void 0 ? 5 : _widgetParams$max;\n    var sendEvent;\n\n    if (!attribute) {\n      throw new Error(withUsage('The `attribute` option is required.'));\n    }\n\n    var _getRefinedStar = function getRefinedStar(state) {\n      var refinements = state.getDisjunctiveRefinements(attribute);\n\n      if (!refinements.length) {\n        return undefined;\n      }\n\n      return Math.min.apply(Math, _toConsumableArray(refinements.map(Number)));\n    };\n\n    var toggleRefinement = function toggleRefinement(helper, facetValue) {\n      sendEvent('click', facetValue);\n      var isRefined = _getRefinedStar(helper.state) === Number(facetValue);\n      helper.removeDisjunctiveFacetRefinement(attribute);\n\n      if (!isRefined) {\n        for (var val = Number(facetValue); val <= max; ++val) {\n          helper.addDisjunctiveFacetRefinement(attribute, val);\n        }\n      }\n\n      helper.search();\n    };\n\n    var connectorState = {\n      toggleRefinementFactory: function toggleRefinementFactory(helper) {\n        return toggleRefinement.bind(_this, helper);\n      },\n      createURLFactory: function createURLFactory(_ref2) {\n        var state = _ref2.state,\n            createURL = _ref2.createURL;\n        return function (value) {\n          return createURL(state.toggleRefinement(attribute, value));\n        };\n      }\n    };\n    return {\n      $$type: $$type,\n      init: function init(initOptions) {\n        var instantSearchInstance = initOptions.instantSearchInstance;\n        renderFn(_objectSpread({}, this.getWidgetRenderState(initOptions), {\n          instantSearchInstance: instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        var instantSearchInstance = renderOptions.instantSearchInstance;\n        renderFn(_objectSpread({}, this.getWidgetRenderState(renderOptions), {\n          instantSearchInstance: instantSearchInstance\n        }), false);\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread({}, renderState, {\n          ratingMenu: _objectSpread({}, renderState.ratingMenu, _defineProperty({}, attribute, this.getWidgetRenderState(renderOptions)))\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref3) {\n        var helper = _ref3.helper,\n            results = _ref3.results,\n            state = _ref3.state,\n            instantSearchInstance = _ref3.instantSearchInstance,\n            createURL = _ref3.createURL;\n        var facetValues = [];\n\n        if (!sendEvent) {\n          sendEvent = createSendEvent({\n            instantSearchInstance: instantSearchInstance,\n            helper: helper,\n            getRefinedStar: function getRefinedStar() {\n              return _getRefinedStar(helper.state);\n            },\n            attribute: attribute\n          });\n        }\n\n        if (results) {\n          var allValues = {};\n\n          for (var v = max; v >= 0; --v) {\n            allValues[v] = 0;\n          }\n\n          (results.getFacetValues(attribute) || []).forEach(function (facet) {\n            var val = Math.round(facet.name);\n\n            if (!val || val > max) {\n              return;\n            }\n\n            for (var _v = val; _v >= 1; --_v) {\n              allValues[_v] += facet.count;\n            }\n          });\n\n          var refinedStar = _getRefinedStar(state);\n\n          for (var star = max - 1; star >= 1; --star) {\n            var count = allValues[star];\n\n            if (refinedStar && star !== refinedStar && count === 0) {\n              // skip count==0 when at least 1 refinement is enabled\n              // eslint-disable-next-line no-continue\n              continue;\n            }\n\n            var stars = [];\n\n            for (var i = 1; i <= max; ++i) {\n              stars.push(i <= star);\n            }\n\n            facetValues.push({\n              stars: stars,\n              name: String(star),\n              value: String(star),\n              count: count,\n              isRefined: refinedStar === star\n            });\n          }\n        }\n\n        return {\n          items: facetValues,\n          hasNoResults: results ? results.nbHits === 0 : true,\n          refine: connectorState.toggleRefinementFactory(helper),\n          sendEvent: sendEvent,\n          createURL: connectorState.createURLFactory({\n            state: state,\n            createURL: createURL\n          }),\n          widgetParams: widgetParams\n        };\n      },\n      dispose: function dispose(_ref4) {\n        var state = _ref4.state;\n        unmountFn();\n        return state.removeDisjunctiveFacet(attribute);\n      },\n      getWidgetUiState: function getWidgetUiState(uiState, _ref5) {\n        var searchParameters = _ref5.searchParameters;\n\n        var value = _getRefinedStar(searchParameters);\n\n        if (typeof value !== 'number') {\n          return uiState;\n        }\n\n        return _objectSpread({}, uiState, {\n          ratingMenu: _objectSpread({}, uiState.ratingMenu, _defineProperty({}, attribute, value))\n        });\n      },\n      getWidgetSearchParameters: function getWidgetSearchParameters(searchParameters, _ref6) {\n        var uiState = _ref6.uiState;\n        var value = uiState.ratingMenu && uiState.ratingMenu[attribute];\n        var withoutRefinements = searchParameters.clearRefinements(attribute);\n        var withDisjunctiveFacet = withoutRefinements.addDisjunctiveFacet(attribute);\n\n        if (!value) {\n          return withDisjunctiveFacet.setQueryParameters({\n            disjunctiveFacetsRefinements: _objectSpread({}, withDisjunctiveFacet.disjunctiveFacetsRefinements, _defineProperty({}, attribute, []))\n          });\n        }\n\n        return range({\n          start: Number(value),\n          end: max + 1\n        }).reduce(function (parameters, number) {\n          return parameters.addDisjunctiveFacetRefinement(attribute, number);\n        }, withDisjunctiveFacet);\n      }\n    };\n  };\n}","<template>\n  <div\n    v-if=\"state\"\n    :class=\"suit()\"\n  >\n    <slot\n      :items=\"state.items\"\n      :refine=\"state.refine\"\n      :createURL=\"state.createURL\"\n    >\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        style=\"display: none;\"\n      >\n        <symbol\n          id=\"ais-RatingMenu-starSymbol\"\n          viewBox=\"0 0 24 24\"\n        >\n          <path d=\"M12 .288l2.833 8.718h9.167l-7.417 5.389 2.833 8.718-7.416-5.388-7.417 5.388 2.833-8.718-7.416-5.389h9.167z\" />\n        </symbol>\n        <symbol\n          id=\"ais-RatingMenu-starEmptySymbol\"\n          viewBox=\"0 0 24 24\"\n        >\n          <path d=\"M12 6.76l1.379 4.246h4.465l-3.612 2.625 1.379 4.246-3.611-2.625-3.612 2.625 1.379-4.246-3.612-2.625h4.465l1.38-4.246zm0-6.472l-2.833 8.718h-9.167l7.416 5.389-2.833 8.718 7.417-5.388 7.416 5.388-2.833-8.718 7.417-5.389h-9.167l-2.833-8.718z\" />\n        </symbol>\n      </svg>\n\n      <ul :class=\"suit('list')\">\n        <li\n          v-for=\"(item, key) in state.items\"\n          :key=\"key\"\n          :class=\"[suit('item'), item.isRefined && suit('item', 'selected')]\"\n        >\n          <a\n            :href=\"state.createURL(item)\"\n            :aria-label=\"`${item.value} & Up`\"\n            :class=\"suit('link')\"\n            @click.prevent=\"state.refine(item.value)\"\n          >\n            <template v-for=\"(full, n) in item.stars\">\n              <svg\n                v-if=\"full\"\n                aria-hidden=\"true\"\n                width=\"24\"\n                height=\"24\"\n                :class=\"[suit('starIcon'), suit('starIcon--full')]\"\n                :key=\"n + '-full'\"\n              >\n                <use xlink:href=\"#ais-RatingMenu-starSymbol\" />\n              </svg>\n\n              <svg\n                v-else\n                :class=\"[suit('starIcon'), suit('starIcon--empty')]\"\n                aria-hidden=\"true\"\n                width=\"24\"\n                height=\"24\"\n                :key=\"n + '-empty'\"\n              >\n                <use xlink:href=\"#ais-RatingMenu-starEmptySymbol\" />\n              </svg>\n            </template>\n\n            <span\n              :class=\"suit('label')\"\n              aria-hidden=\"true\"\n            >\n              <slot name=\"andUp\">&amp; Up</slot>\n            </span>\n            <span :class=\"suit('count')\">{{ item.count }}</span>\n          </a>\n        </li>\n      </ul>\n    </slot>\n  </div>\n</template>\n\n<script>\nimport { connectRatingMenu } from 'instantsearch.js/es/connectors';\nimport { createPanelConsumerMixin } from '../mixins/panel';\nimport { createWidgetMixin } from '../mixins/widget';\nimport { createSuitMixin } from '../mixins/suit';\n\nexport default {\n  name: 'AisRatingMenu',\n  mixins: [\n    createSuitMixin({ name: 'RatingMenu' }),\n    createWidgetMixin({ connector: connectRatingMenu }),\n    createPanelConsumerMixin({\n      mapStateToCanRefine: state => state.hasNoResults === false,\n    }),\n  ],\n  props: {\n    attribute: {\n      type: String,\n      required: true,\n    },\n    max: {\n      type: Number,\n      default: 5,\n    },\n  },\n  computed: {\n    widgetParams() {\n      return {\n        attribute: this.attribute,\n        max: this.max,\n      };\n    },\n  },\n};\n</script>\n","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport { checkRendering, createDocumentationMessageGenerator, createSendEventForFacet, noop } from '../../lib/utils';\nimport { escapeFacets, TAG_PLACEHOLDER, TAG_REPLACEMENT } from '../../lib/escape-highlight';\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'refinement-list',\n  connector: true\n});\n/**\n * @typedef {Object} RefinementListItem\n * @property {string} value The value of the refinement list item.\n * @property {string} label Human-readable value of the refinement list item.\n * @property {number} count Number of matched results after refinement is applied.\n * @property {boolean} isRefined Indicates if the list item is refined.\n */\n\n/**\n * @typedef {Object} CustomRefinementListWidgetOptions\n * @property {string} attribute The name of the attribute in the records.\n * @property {\"and\"|\"or\"} [operator = 'or'] How the filters are combined together.\n * @property {number} [limit = 10] The max number of items to display when\n * `showMoreLimit` is not set or if the widget is showing less value.\n * @property {boolean} [showMore = false] Whether to display a button that expands the number of items.\n * @property {number} [showMoreLimit = 20] The max number of items to display if the widget\n * is showing more items.\n * @property {string[]|function} [sortBy = ['isRefined', 'count:desc', 'name:asc']] How to sort refinements. Possible values: `count|isRefined|name:asc|name:desc`.\n * @property {boolean} [escapeFacetValues = true] Escapes the content of the facet values.\n * @property {function(object[]):object[]} [transformItems] Function to transform the items passed to the templates.\n */\n\n/**\n * @typedef {Object} RefinementListRenderingOptions\n * @property {RefinementListItem[]} items The list of filtering values returned from Algolia API.\n * @property {function(item.value): string} createURL Creates the next state url for a selected refinement.\n * @property {function(item.value)} refine Action to apply selected refinements.\n * @property {function} searchForItems Searches for values inside the list.\n * @property {boolean} isFromSearch `true` if the values are from an index search.\n * @property {boolean} canRefine `true` if a refinement can be applied.\n * @property {boolean} canToggleShowMore `true` if the toggleShowMore button can be activated (enough items to display more or\n * already displaying more than `limit` items)\n * @property {Object} widgetParams All original `CustomRefinementListWidgetOptions` forwarded to the `renderFn`.\n * @property {boolean} isShowingMore True if the menu is displaying all the menu items.\n * @property {function} toggleShowMore Toggles the number of values displayed between `limit` and `showMoreLimit`.\n */\n\n/**\n * **RefinementList** connector provides the logic to build a custom widget that will let the\n * user filter the results based on the values of a specific facet.\n *\n * This connector provides a `toggleShowMore()` function to display more or less items and a `refine()`\n * function to select an item.\n * @type {Connector}\n * @param {function(RefinementListRenderingOptions, boolean)} renderFn Rendering function for the custom **RefinementList** widget.\n * @param {function} unmountFn Unmount function called when the widget is disposed.\n * @return {function(CustomRefinementListWidgetOptions)} Re-usable widget factory for a custom **RefinementList** widget.\n * @example\n * // custom `renderFn` to render the custom RefinementList widget\n * function renderFn(RefinementListRenderingOptions, isFirstRendering) {\n *   if (isFirstRendering) {\n *     RefinementListRenderingOptions.widgetParams.containerNode\n *       .html('<ul></ul>')\n *   }\n *\n *     RefinementListRenderingOptions.widgetParams.containerNode\n *       .find('li[data-refine-value]')\n *       .each(function() { $(this).off('click'); });\n *\n *   if (RefinementListRenderingOptions.canRefine) {\n *     var list = RefinementListRenderingOptions.items.map(function(item) {\n *       return `\n *         <li data-refine-value=\"${item.value}\">\n *           <input type=\"checkbox\" value=\"${item.value}\" ${item.isRefined ? 'checked' : ''} />\n *           <a href=\"${RefinementListRenderingOptions.createURL(item.value)}\">\n *             ${item.label} (${item.count})\n *           </a>\n *         </li>\n *       `;\n *     });\n *\n *     RefinementListRenderingOptions.widgetParams.containerNode.find('ul').html(list);\n *     RefinementListRenderingOptions.widgetParams.containerNode\n *       .find('li[data-refine-value]')\n *       .each(function() {\n *         $(this).on('click', function(event) {\n *           event.stopPropagation();\n *           event.preventDefault();\n *\n *           RefinementListRenderingOptions.refine($(this).data('refine-value'));\n *         });\n *       });\n *   } else {\n *     RefinementListRenderingOptions.widgetParams.containerNode.find('ul').html('');\n *   }\n * }\n *\n * // connect `renderFn` to RefinementList logic\n * var customRefinementList = instantsearch.connectors.connectRefinementList(renderFn);\n *\n * // mount widget on the page\n * search.addWidgets([\n *   customRefinementList({\n *     containerNode: $('#custom-refinement-list-container'),\n *     attribute: 'categories',\n *     limit: 10,\n *   })\n * ]);\n */\n\nexport default function connectRefinementList(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  checkRendering(renderFn, withUsage());\n  return function () {\n    var widgetParams = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var attribute = widgetParams.attribute,\n        _widgetParams$operato = widgetParams.operator,\n        operator = _widgetParams$operato === void 0 ? 'or' : _widgetParams$operato,\n        _widgetParams$limit = widgetParams.limit,\n        limit = _widgetParams$limit === void 0 ? 10 : _widgetParams$limit,\n        _widgetParams$showMor = widgetParams.showMore,\n        showMore = _widgetParams$showMor === void 0 ? false : _widgetParams$showMor,\n        _widgetParams$showMor2 = widgetParams.showMoreLimit,\n        showMoreLimit = _widgetParams$showMor2 === void 0 ? 20 : _widgetParams$showMor2,\n        _widgetParams$sortBy = widgetParams.sortBy,\n        sortBy = _widgetParams$sortBy === void 0 ? ['isRefined', 'count:desc', 'name:asc'] : _widgetParams$sortBy,\n        _widgetParams$escapeF = widgetParams.escapeFacetValues,\n        escapeFacetValues = _widgetParams$escapeF === void 0 ? true : _widgetParams$escapeF,\n        _widgetParams$transfo = widgetParams.transformItems,\n        transformItems = _widgetParams$transfo === void 0 ? function (items) {\n      return items;\n    } : _widgetParams$transfo;\n\n    if (!attribute) {\n      throw new Error(withUsage('The `attribute` option is required.'));\n    }\n\n    if (!/^(and|or)$/.test(operator)) {\n      throw new Error(withUsage(\"The `operator` must one of: `\\\"and\\\"`, `\\\"or\\\"` (got \\\"\".concat(operator, \"\\\").\")));\n    }\n\n    if (showMore === true && showMoreLimit <= limit) {\n      throw new Error(withUsage('`showMoreLimit` should be greater than `limit`.'));\n    }\n\n    var formatItems = function formatItems(_ref) {\n      var label = _ref.name,\n          item = _objectWithoutProperties(_ref, [\"name\"]);\n\n      return _objectSpread({}, item, {\n        label: label,\n        value: label,\n        highlighted: label\n      });\n    };\n\n    var _getLimit = function getLimit(isShowingMore) {\n      return isShowingMore ? showMoreLimit : limit;\n    };\n\n    var lastResultsFromMainSearch;\n    var lastItemsFromMainSearch = [];\n    var hasExhaustiveItems = true;\n    var searchForFacetValues;\n    var triggerRefine;\n    var sendEvent;\n    var toggleShowMore;\n    /* eslint-disable max-params */\n\n    var createSearchForFacetValues = function createSearchForFacetValues(helper) {\n      var _this = this;\n\n      return function (renderOptions) {\n        return function (query) {\n          var instantSearchInstance = renderOptions.instantSearchInstance;\n\n          if (query === '' && lastItemsFromMainSearch) {\n            // render with previous data from the helper.\n            renderFn(_objectSpread({}, _this.getWidgetRenderState(_objectSpread({}, renderOptions, {\n              results: lastResultsFromMainSearch\n            })), {\n              instantSearchInstance: instantSearchInstance\n            }));\n          } else {\n            var tags = {\n              highlightPreTag: escapeFacetValues ? TAG_PLACEHOLDER.highlightPreTag : TAG_REPLACEMENT.highlightPreTag,\n              highlightPostTag: escapeFacetValues ? TAG_PLACEHOLDER.highlightPostTag : TAG_REPLACEMENT.highlightPostTag\n            };\n            helper.searchForFacetValues(attribute, query, // We cap the `maxFacetHits` value to 100 because the Algolia API\n            // doesn't support a greater number.\n            // See https://www.algolia.com/doc/api-reference/api-parameters/maxFacetHits/\n            Math.min(_getLimit(_this.isShowingMore), 100), tags).then(function (results) {\n              var facetValues = escapeFacetValues ? escapeFacets(results.facetHits) : results.facetHits;\n              var normalizedFacetValues = transformItems(facetValues.map(function (_ref2) {\n                var value = _ref2.value,\n                    item = _objectWithoutProperties(_ref2, [\"value\"]);\n\n                return _objectSpread({}, item, {\n                  value: value,\n                  label: value\n                });\n              }));\n              var canToggleShowMore = _this.isShowingMore && lastItemsFromMainSearch.length > limit;\n              renderFn(_objectSpread({}, _this.getWidgetRenderState(_objectSpread({}, renderOptions, {\n                results: lastResultsFromMainSearch\n              })), {\n                items: normalizedFacetValues,\n                canToggleShowMore: canToggleShowMore,\n                canRefine: true,\n                instantSearchInstance: instantSearchInstance,\n                isFromSearch: true\n              }));\n            });\n          }\n        };\n      };\n    };\n    /* eslint-enable max-params */\n\n\n    return {\n      $$type: 'ais.refinementList',\n      isShowingMore: false,\n      // Provide the same function to the `renderFn` so that way the user\n      // has to only bind it once when `isFirstRendering` for instance\n      toggleShowMore: function toggleShowMore() {},\n      cachedToggleShowMore: function cachedToggleShowMore() {\n        toggleShowMore();\n      },\n      createToggleShowMore: function createToggleShowMore(renderOptions) {\n        var _this2 = this;\n\n        return function () {\n          _this2.isShowingMore = !_this2.isShowingMore;\n\n          _this2.render(renderOptions);\n        };\n      },\n      getLimit: function getLimit() {\n        return _getLimit(this.isShowingMore);\n      },\n      init: function init(initOptions) {\n        renderFn(_objectSpread({}, this.getWidgetRenderState(initOptions), {\n          instantSearchInstance: initOptions.instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        renderFn(_objectSpread({}, this.getWidgetRenderState(renderOptions), {\n          instantSearchInstance: renderOptions.instantSearchInstance\n        }), false);\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread({}, renderState, {\n          refinementList: _objectSpread({}, renderState.refinementList, _defineProperty({}, attribute, this.getWidgetRenderState(renderOptions)))\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(renderOptions) {\n        var results = renderOptions.results,\n            state = renderOptions.state,\n            createURL = renderOptions.createURL,\n            instantSearchInstance = renderOptions.instantSearchInstance,\n            _renderOptions$isFrom = renderOptions.isFromSearch,\n            isFromSearch = _renderOptions$isFrom === void 0 ? false : _renderOptions$isFrom,\n            helper = renderOptions.helper;\n        var items = [];\n        var facetValues;\n\n        if (!sendEvent || !triggerRefine || !searchForFacetValues) {\n          sendEvent = createSendEventForFacet({\n            instantSearchInstance: instantSearchInstance,\n            helper: helper,\n            attribute: attribute,\n            widgetType: this.$$type\n          });\n\n          triggerRefine = function triggerRefine(facetValue) {\n            sendEvent('click', facetValue);\n            helper.toggleRefinement(attribute, facetValue).search();\n          };\n\n          searchForFacetValues = createSearchForFacetValues.call(this, helper);\n        }\n\n        if (results) {\n          if (!isFromSearch) {\n            facetValues = results.getFacetValues(attribute, {\n              sortBy: sortBy\n            }) || [];\n            items = transformItems(facetValues.slice(0, this.getLimit()).map(formatItems));\n          } else {\n            facetValues = escapeFacetValues ? escapeFacets(results.facetHits) : results.facetHits;\n            items = transformItems(facetValues.map(function (_ref3) {\n              var value = _ref3.value,\n                  item = _objectWithoutProperties(_ref3, [\"value\"]);\n\n              return _objectSpread({}, item, {\n                value: value,\n                label: value\n              });\n            }));\n          }\n\n          var maxValuesPerFacetConfig = state.maxValuesPerFacet;\n          var currentLimit = this.getLimit(); // If the limit is the max number of facet retrieved it is impossible to know\n          // if the facets are exhaustive. The only moment we are sure it is exhaustive\n          // is when it is strictly under the number requested unless we know that another\n          // widget has requested more values (maxValuesPerFacet > getLimit()).\n          // Because this is used for making the search of facets unable or not, it is important\n          // to be conservative here.\n\n          hasExhaustiveItems = maxValuesPerFacetConfig > currentLimit ? facetValues.length <= currentLimit : facetValues.length < currentLimit;\n          lastResultsFromMainSearch = results;\n          lastItemsFromMainSearch = items;\n          toggleShowMore = this.createToggleShowMore(renderOptions);\n        } // Compute a specific createURL method able to link to any facet value state change\n\n\n        var _createURL = function _createURL(facetValue) {\n          return createURL(state.toggleRefinement(attribute, facetValue));\n        }; // Do not mistake searchForFacetValues and searchFacetValues which is the actual search\n        // function\n\n\n        var searchFacetValues = searchForFacetValues && searchForFacetValues(renderOptions);\n        var canShowLess = this.isShowingMore && lastItemsFromMainSearch.length > limit;\n        var canShowMore = showMore && !isFromSearch && !hasExhaustiveItems;\n        var canToggleShowMore = canShowLess || canShowMore;\n        return {\n          createURL: _createURL,\n          items: items,\n          refine: triggerRefine,\n          searchForItems: searchFacetValues,\n          isFromSearch: isFromSearch,\n          canRefine: isFromSearch || items.length > 0,\n          widgetParams: widgetParams,\n          isShowingMore: this.isShowingMore,\n          canToggleShowMore: canToggleShowMore,\n          toggleShowMore: this.cachedToggleShowMore,\n          sendEvent: sendEvent,\n          hasExhaustiveItems: hasExhaustiveItems\n        };\n      },\n      dispose: function dispose(_ref4) {\n        var state = _ref4.state;\n        unmountFn();\n        var withoutMaxValuesPerFacet = state.setQueryParameter('maxValuesPerFacet', undefined);\n\n        if (operator === 'and') {\n          return withoutMaxValuesPerFacet.removeFacet(attribute);\n        }\n\n        return withoutMaxValuesPerFacet.removeDisjunctiveFacet(attribute);\n      },\n      getWidgetUiState: function getWidgetUiState(uiState, _ref5) {\n        var searchParameters = _ref5.searchParameters;\n        var values = operator === 'or' ? searchParameters.getDisjunctiveRefinements(attribute) : searchParameters.getConjunctiveRefinements(attribute);\n\n        if (!values.length) {\n          return uiState;\n        }\n\n        return _objectSpread({}, uiState, {\n          refinementList: _objectSpread({}, uiState.refinementList, _defineProperty({}, attribute, values))\n        });\n      },\n      getWidgetSearchParameters: function getWidgetSearchParameters(searchParameters, _ref6) {\n        var uiState = _ref6.uiState;\n        var isDisjunctive = operator === 'or';\n        var values = uiState.refinementList && uiState.refinementList[attribute];\n        var withoutRefinements = searchParameters.clearRefinements(attribute);\n        var withFacetConfiguration = isDisjunctive ? withoutRefinements.addDisjunctiveFacet(attribute) : withoutRefinements.addFacet(attribute);\n        var currentMaxValuesPerFacet = withFacetConfiguration.maxValuesPerFacet || 0;\n        var nextMaxValuesPerFacet = Math.max(currentMaxValuesPerFacet, showMore ? showMoreLimit : limit);\n        var withMaxValuesPerFacet = withFacetConfiguration.setQueryParameter('maxValuesPerFacet', nextMaxValuesPerFacet);\n\n        if (!values) {\n          var key = isDisjunctive ? 'disjunctiveFacetsRefinements' : 'facetsRefinements';\n          return withMaxValuesPerFacet.setQueryParameters(_defineProperty({}, key, _objectSpread({}, withMaxValuesPerFacet[key], _defineProperty({}, attribute, []))));\n        }\n\n        return values.reduce(function (parameters, value) {\n          return isDisjunctive ? parameters.addDisjunctiveFacetRefinement(attribute, value) : parameters.addFacetRefinement(attribute, value);\n        }, withMaxValuesPerFacet);\n      }\n    };\n  };\n}","<template>\n  <form\n    action=\"\"\n    role=\"search\"\n    novalidate\n    :class=\"suit('form')\"\n    @submit.prevent=\"onFormSubmit\"\n    @reset.prevent=\"onFormReset\"\n  >\n    <!-- :value/@input allows us to pass v-model to the component -->\n    <input\n      type=\"search\"\n      autocorrect=\"off\"\n      autocapitalize=\"off\"\n      autocomplete=\"off\"\n      spellcheck=\"false\"\n      required\n      maxlength=\"512\"\n      aria-label=\"Search\"\n      :placeholder=\"placeholder\"\n      :autofocus=\"autofocus\"\n      :class=\"suit('input')\"\n      :value=\"value\"\n      @focus=\"$emit('focus', $event)\"\n      @blur=\"$emit('blur', $event)\"\n      @input=\"$emit('input', $event.target.value)\"\n      ref=\"input\"\n    >\n    <button\n      type=\"submit\"\n      :title=\"submitTitle\"\n      :class=\"suit('submit')\"\n      :hidden=\"showLoadingIndicator && shouldShowLoadingIndicator\"\n    >\n      <slot name=\"submit-icon\">\n        <svg\n          role=\"img\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          width=\"10\"\n          height=\"10\"\n          viewBox=\"0 0 40 40\"\n          :class=\"suit('submitIcon')\"\n        >\n          <path\n            d=\"M26.804 29.01c-2.832 2.34-6.465 3.746-10.426 3.746C7.333 32.756 0 25.424 0 16.378 0 7.333 7.333 0 16.378 0c9.046 0 16.378 7.333 16.378 16.378 0 3.96-1.406 7.594-3.746 10.426l10.534 10.534c.607.607.61 1.59-.004 2.202-.61.61-1.597.61-2.202.004L26.804 29.01zm-10.426.627c7.323 0 13.26-5.936 13.26-13.26 0-7.32-5.937-13.257-13.26-13.257C9.056 3.12 3.12 9.056 3.12 16.378c0 7.323 5.936 13.26 13.258 13.26z\"\n            fillRule=\"evenodd\"\n          />\n        </svg>\n      </slot>\n    </button>\n\n    <button\n      type=\"reset\"\n      :title=\"resetTitle\"\n      :class=\"suit('reset')\"\n      :hidden=\"!value || (showLoadingIndicator && shouldShowLoadingIndicator)\"\n    >\n      <slot name=\"reset-icon\">\n        <svg\n          role=\"img\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          width=\"1em\"\n          height=\"1em\"\n          viewBox=\"0 0 20 20\"\n          :class=\"suit('resetIcon')\"\n        >\n          <path\n            d=\"M8.114 10L.944 2.83 0 1.885 1.886 0l.943.943L10 8.113l7.17-7.17.944-.943L20 1.886l-.943.943-7.17 7.17 7.17 7.17.943.944L18.114 20l-.943-.943-7.17-7.17-7.17 7.17-.944.943L0 18.114l.943-.943L8.113 10z\"\n            fillRule=\"evenodd\"\n          />\n        </svg>\n      </slot>\n    </button>\n\n    <span\n      v-if=\"showLoadingIndicator\"\n      :hidden=\"!shouldShowLoadingIndicator\"\n      :class=\"suit('loadingIndicator')\"\n    >\n      <slot name=\"loading-indicator\">\n        <svg\n          role=\"img\"\n          aria-label=\"Results are loading\"\n          width=\"16\"\n          height=\"16\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          stroke=\"#444\"\n          viewBox=\"0 0 38 38\"\n          :class=\"suit('loadingIcon')\"\n        >\n          <g\n            fill=\"none\"\n            fill-rule=\"evenodd\"\n          >\n            <g\n              transform=\"translate(1 1)\"\n              stroke-width=\"2\"\n            >\n              <circle\n                stroke-opacity=\".5\"\n                cx=\"18\"\n                cy=\"18\"\n                r=\"18\"\n              />\n              <path d=\"M36 18c0-9.94-8.06-18-18-18\">\n                <animateTransform\n                  attributeName=\"transform\"\n                  type=\"rotate\"\n                  from=\"0 18 18\"\n                  to=\"360 18 18\"\n                  dur=\"1s\"\n                  repeatCount=\"indefinite\"\n                />\n              </path>\n            </g>\n          </g>\n        </svg>\n      </slot>\n    </span>\n  </form>\n</template>\n\n<script>\nimport { createSuitMixin } from '../mixins/suit';\n\nexport default {\n  name: 'SearchInput',\n  mixins: [createSuitMixin({ name: 'SearchBox' })],\n  props: {\n    placeholder: {\n      type: String,\n      default: 'Search here…',\n    },\n    autofocus: {\n      type: Boolean,\n      default: false,\n    },\n    showLoadingIndicator: {\n      type: Boolean,\n      default: false,\n    },\n    shouldShowLoadingIndicator: {\n      type: Boolean,\n      default: false,\n    },\n    submitTitle: {\n      type: String,\n      default: 'Search',\n    },\n    resetTitle: {\n      type: String,\n      default: 'Clear',\n    },\n    value: {\n      type: String,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      query: '',\n    };\n  },\n  methods: {\n    onFormSubmit() {\n      const input = this.$refs.input;\n      input.blur();\n    },\n    onFormReset() {\n      this.$emit('input', '');\n      this.$emit('reset');\n    },\n  },\n};\n</script>\n","<template>\n  <div\n    :class=\"[\n      suit(),\n      !state.canRefine && suit('','noRefinement')\n    ]\"\n    v-if=\"state\"\n  >\n    <slot\n      :items=\"items\"\n      :refine=\"refine\"\n      :search-for-items=\"state.searchForItems\"\n      :search-for-items-query=\"searchForFacetValuesQuery\"\n      :toggle-show-more=\"toggleShowMore\"\n      :can-toggle-show-more=\"state.canToggleShowMore\"\n      :is-showing-more=\"state.isShowingMore\"\n      :createURL=\"state.createURL\"\n      :is-from-search=\"state.isFromSearch\"\n      :can-refine=\"state.canRefine\"\n    >\n      <div\n        :class=\"suit('searchBox')\"\n        v-if=\"searchable\"\n      >\n        <search-input\n          v-model=\"searchForFacetValues\"\n          :placeholder=\"searchablePlaceholder\"\n          :class-names=\"classNames\"\n        />\n      </div>\n      <slot\n        name=\"noResults\"\n        :query=\"searchForFacetValues\"\n        v-if=\"state.isFromSearch && items.length === 0\"\n      >\n        <div :class=\"suit('noResults')\">No results.</div>\n      </slot>\n      <ul :class=\"suit('list')\">\n        <li\n          :class=\"[\n          suit('item'), item.isRefined && suit('item', 'selected')]\"\n          v-for=\"item in items\"\n          :key=\"item.value\"\n        >\n          <slot\n            name=\"item\"\n            :item=\"item\"\n            :refine=\"refine\"\n            :createURL=\"state.createURL\"\n          >\n            <label :class=\"suit('label')\">\n              <input\n                :class=\"suit('checkbox')\"\n                type=\"checkbox\"\n                :value=\"item.value\"\n                :checked=\"item.isRefined\"\n                @change=\"refine(item.value)\"\n              >\n              <span\n                v-if=\"searchable\"\n                :class=\"suit('labelText')\"\n              >\n                <ais-highlight\n                  attribute=\"item\"\n                  :hit=\"item\"\n                />\n              </span>\n              <span\n                v-else\n                :class=\"suit('labelText')\"\n              >{{ item.label }}</span>\n              <span :class=\"suit('count')\">{{ item.count }}</span>\n            </label>\n          </slot>\n        </li>\n      </ul>\n      <button\n        :class=\"[\n          suit('showMore'),\n          {\n            [suit('showMore', 'disabled')]: !state.canToggleShowMore,\n          }\n        ]\"\n        @click=\"toggleShowMore\"\n        v-if=\"showMore\"\n        :disabled=\"!state.canToggleShowMore\"\n      >\n        <slot\n          name=\"showMoreLabel\"\n          :is-showing-more=\"state.isShowingMore\"\n        >Show {{ state.isShowingMore ? 'less' : 'more' }}</slot>\n      </button>\n    </slot>\n  </div>\n</template>\n\n<script>\nimport { createWidgetMixin } from '../mixins/widget';\nimport { createPanelConsumerMixin } from '../mixins/panel';\nimport { createSuitMixin } from '../mixins/suit';\nimport { connectRefinementList } from 'instantsearch.js/es/connectors';\nimport SearchInput from './SearchInput.vue';\nimport AisHighlight from './Highlight.vue';\n\nconst noop = () => {};\n\nexport default {\n  name: 'AisRefinementList',\n  components: { SearchInput, AisHighlight },\n  mixins: [\n    createSuitMixin({ name: 'RefinementList' }),\n    createWidgetMixin({ connector: connectRefinementList }),\n    createPanelConsumerMixin({\n      mapStateToCanRefine: state => Boolean(state.canRefine),\n    }),\n  ],\n  props: {\n    attribute: {\n      type: String,\n      required: true,\n    },\n    searchable: {\n      type: Boolean,\n      default: false,\n    },\n    searchablePlaceholder: {\n      default: 'Search here…',\n      type: String,\n      required: false,\n    },\n    operator: {\n      default: 'or',\n      validator(value) {\n        return value === 'and' || value === 'or';\n      },\n      required: false,\n    },\n    limit: {\n      type: Number,\n      default: 10,\n      required: false,\n    },\n    showMoreLimit: {\n      type: Number,\n      default: 20,\n      required: false,\n    },\n    showMore: {\n      type: Boolean,\n      default: false,\n      required: false,\n    },\n    sortBy: {\n      type: [Array, Function],\n      default: () => ['isRefined', 'count:desc', 'name:asc'],\n      required: false,\n    },\n    transformItems: {\n      type: Function,\n      default: items => items,\n      required: false,\n    },\n  },\n  data() {\n    return {\n      searchForFacetValuesQuery: '',\n    };\n  },\n  computed: {\n    searchForFacetValues: {\n      get() {\n        return this.searchForFacetValuesQuery;\n      },\n      set(value) {\n        this.state.searchForItems(value);\n        this.searchForFacetValuesQuery = value;\n      },\n    },\n    toggleShowMore() {\n      return this.state.toggleShowMore || noop;\n    },\n    items() {\n      return this.state.items.map(item =>\n        Object.assign({}, item, {\n          _highlightResult: {\n            item: {\n              value: item.highlighted,\n            },\n          },\n        })\n      );\n    },\n    widgetParams() {\n      return {\n        attribute: this.attribute,\n        operator: this.operator,\n        limit: this.limit,\n        showMore: this.showMore,\n        showMoreLimit: this.showMoreLimit,\n        sortBy: this.sortBy,\n        escapeFacetValues: true,\n        transformItems: this.transformItems,\n      };\n    },\n  },\n  methods: {\n    refine(value) {\n      this.state.refine(value);\n      this.searchForFacetValuesQuery = '';\n    },\n  },\n};\n</script>\n","import{_objectSpread as t}from\"../util/polyfills.js\";export default function(n,e){return void 0===e&&(e=function(){}),function(s){return void 0===s&&(s={}),{init:function(t){var e=t.instantSearchInstance;n({state:void 0,results:void 0,instantSearchInstance:e,widgetParams:s},!0)},render:function(e){var a=e.results,i=e.instantSearchInstance,r=e.state,o=t({},a),c=t({},r);n({results:o,state:c,instantSearchInstance:i,widgetParams:s},!1)},dispose:function(){e()}}}}\n//# sourceMappingURL=connectStateResults.js.map\n","<template>\n  <div\n    :class=\"suit()\"\n    v-if=\"state && state.state && state.results\"\n  >\n    <slot v-bind=\"stateResults\">\n      <p>\n        Use this component to have a different layout based on a certain state.\n      </p>\n      <p>\n        Fill in the slot, and get access to the following things on the\n        <code>slot-scope</code>:\n      </p>\n      <pre>results: {{ Object.keys(state.results) }}</pre>\n      <pre>state: {{ Object.keys(state.state) }}</pre>\n    </slot>\n  </div>\n</template>\n\n<script>\nimport { createSuitMixin } from '../mixins/suit';\nimport { createWidgetMixin } from '../mixins/widget';\nimport { _objectSpread } from '../util/polyfills';\nimport connectStateResults from '../connectors/connectStateResults';\n\nexport default {\n  name: 'AisStateResults',\n  mixins: [\n    createWidgetMixin({ connector: connectStateResults }),\n    createSuitMixin({ name: 'StateResults' }),\n  ],\n  computed: {\n    stateResults() {\n      // @MAJOR: replace v-bind=\"stateResults\" with :state=\"state.state\" :results=\"state.results\"\n      const { state, results } = this.state;\n      return _objectSpread({}, results, { results, state });\n    },\n  },\n};\n</script>\n","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { checkRendering, createDocumentationMessageGenerator, noop } from '../../lib/utils';\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'search-box',\n  connector: true\n});\n/**\n * @typedef {Object} CustomSearchBoxWidgetOptions\n * @property {function(string, function(string))} [queryHook = undefined] A function that will be called every time\n * a new value for the query is set. The first parameter is the query and the second is a\n * function to actually trigger the search. The function takes the query as the parameter.\n *\n * This queryHook can be used to debounce the number of searches done from the searchBox.\n */\n\n/**\n * @typedef {Object} SearchBoxRenderingOptions\n * @property {string} query The query from the last search.\n * @property {function(string)} refine Sets a new query and searches.\n * @property {function()} clear Remove the query and perform search.\n * @property {Object} widgetParams All original `CustomSearchBoxWidgetOptions` forwarded to the `renderFn`.\n * @property {boolean} isSearchStalled `true` if the search results takes more than a certain time to come back\n * from Algolia servers. This can be configured on the InstantSearch constructor with the attribute\n * `stalledSearchDelay` which is 200ms, by default.\n */\n\n/**\n * **SearchBox** connector provides the logic to build a widget that will let the user search for a query.\n *\n * The connector provides to the rendering: `refine()` to set the query. The behaviour of this function\n * may be impacted by the `queryHook` widget parameter.\n * @type {Connector}\n * @param {function(SearchBoxRenderingOptions, boolean)} renderFn Rendering function for the custom **SearchBox** widget.\n * @param {function} unmountFn Unmount function called when the widget is disposed.\n * @return {function(CustomSearchBoxWidgetOptions)} Re-usable widget factory for a custom **SearchBox** widget.\n * @example\n * // custom `renderFn` to render the custom SearchBox widget\n * function renderFn(SearchBoxRenderingOptions, isFirstRendering) {\n *   if (isFirstRendering) {\n *     SearchBoxRenderingOptions.widgetParams.containerNode.html('<input type=\"text\" />');\n *     SearchBoxRenderingOptions.widgetParams.containerNode\n *       .find('input')\n *       .on('keyup', function() {\n *         SearchBoxRenderingOptions.refine($(this).val());\n *       });\n *     SearchBoxRenderingOptions.widgetParams.containerNode\n *       .find('input')\n *       .val(SearchBoxRenderingOptions.query);\n *   }\n * }\n *\n * // connect `renderFn` to SearchBox logic\n * var customSearchBox = instantsearch.connectors.connectSearchBox(renderFn);\n *\n * // mount widget on the page\n * search.addWidgets([\n *   customSearchBox({\n *     containerNode: $('#custom-searchbox'),\n *   })\n * ]);\n */\n\nexport default function connectSearchBox(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  checkRendering(renderFn, withUsage());\n  return function () {\n    var widgetParams = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var queryHook = widgetParams.queryHook;\n\n    function clear(helper) {\n      return function () {\n        helper.setQuery('').search();\n      };\n    }\n\n    var _clear = function _clear() {};\n\n    function _cachedClear() {\n      _clear();\n    }\n\n    return {\n      $$type: 'ais.searchBox',\n      init: function init(initOptions) {\n        var instantSearchInstance = initOptions.instantSearchInstance;\n        renderFn(_objectSpread({}, this.getWidgetRenderState(initOptions), {\n          instantSearchInstance: instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        var instantSearchInstance = renderOptions.instantSearchInstance;\n        renderFn(_objectSpread({}, this.getWidgetRenderState(renderOptions), {\n          instantSearchInstance: instantSearchInstance\n        }), false);\n      },\n      dispose: function dispose(_ref) {\n        var state = _ref.state;\n        unmountFn();\n        return state.setQueryParameter('query', undefined);\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread({}, renderState, {\n          searchBox: this.getWidgetRenderState(renderOptions)\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref2) {\n        var helper = _ref2.helper,\n            searchMetadata = _ref2.searchMetadata;\n\n        if (!this._refine) {\n          var setQueryAndSearch = function setQueryAndSearch(query) {\n            if (query !== helper.state.query) {\n              helper.setQuery(query).search();\n            }\n          };\n\n          this._refine = function (query) {\n            if (queryHook) {\n              queryHook(query, setQueryAndSearch);\n              return;\n            }\n\n            setQueryAndSearch(query);\n          };\n        }\n\n        _clear = clear(helper);\n        return {\n          query: helper.state.query || '',\n          refine: this._refine,\n          clear: _cachedClear,\n          widgetParams: widgetParams,\n          isSearchStalled: searchMetadata.isSearchStalled\n        };\n      },\n      getWidgetUiState: function getWidgetUiState(uiState, _ref3) {\n        var searchParameters = _ref3.searchParameters;\n        var query = searchParameters.query || '';\n\n        if (query === '' || uiState && uiState.query === query) {\n          return uiState;\n        }\n\n        return _objectSpread({}, uiState, {\n          query: query\n        });\n      },\n      getWidgetSearchParameters: function getWidgetSearchParameters(searchParameters, _ref4) {\n        var uiState = _ref4.uiState;\n        return searchParameters.setQueryParameter('query', uiState.query || '');\n      }\n    };\n  };\n}","<template>\n  <div\n    v-if=\"state\"\n    :class=\"suit()\"\n  >\n    <slot\n      :current-refinement=\"currentRefinement\"\n      :is-search-stalled=\"state.isSearchStalled\"\n      :refine=\"state.refine\"\n    >\n      <search-input\n        @focus=\"$emit('focus', $event)\"\n        @blur=\"$emit('blur', $event)\"\n        @reset=\"$emit('reset')\"\n        :placeholder=\"placeholder\"\n        :autofocus=\"autofocus\"\n        :show-loading-indicator=\"showLoadingIndicator\"\n        :should-show-loading-indicator=\"state.isSearchStalled\"\n        :submit-title=\"submitTitle\"\n        :reset-title=\"resetTitle\"\n        :class-names=\"classNames\"\n        v-model=\"currentRefinement\"\n      >\n        <slot\n          name=\"loading-indicator\"\n          slot=\"loading-indicator\"\n        />\n        <slot\n          name=\"submit-icon\"\n          slot=\"submit-icon\"\n        />\n        <slot\n          name=\"reset-icon\"\n          slot=\"reset-icon\"\n        />\n      </search-input>\n    </slot>\n  </div>\n</template>\n\n<script>\nimport { connectSearchBox } from 'instantsearch.js/es/connectors';\nimport { createSuitMixin } from '../mixins/suit';\nimport { createWidgetMixin } from '../mixins/widget';\nimport SearchInput from './SearchInput.vue';\n\nexport default {\n  name: 'AisSearchBox',\n  mixins: [\n    createWidgetMixin({ connector: connectSearchBox }),\n    createSuitMixin({ name: 'SearchBox' }),\n  ],\n  components: {\n    SearchInput,\n  },\n  props: {\n    placeholder: {\n      type: String,\n      default: 'Search here…',\n    },\n    autofocus: {\n      type: Boolean,\n      default: false,\n    },\n    showLoadingIndicator: {\n      type: Boolean,\n      default: false,\n    },\n    submitTitle: {\n      type: String,\n      default: 'Search',\n    },\n    resetTitle: {\n      type: String,\n      default: 'Clear',\n    },\n    value: {\n      type: String,\n      default: undefined,\n    },\n  },\n  data() {\n    return {\n      localValue: '',\n    };\n  },\n  computed: {\n    isControlled() {\n      return typeof this.value !== 'undefined';\n    },\n    currentRefinement: {\n      get() {\n        // if the input is controlled, but not up to date\n        // this means it didn't search, and we should pretend it was `set`\n        if (this.isControlled && this.value !== this.localValue) {\n          // eslint-disable-next-line vue/no-side-effects-in-computed-properties\n          this.localValue = this.value;\n          this.$emit('input', this.value);\n          this.state.refine(this.value);\n        }\n        return this.value || this.state.query || '';\n      },\n      set(val) {\n        this.localValue = val;\n        this.state.refine(val);\n        if (this.isControlled) {\n          this.$emit('input', val);\n        }\n      },\n    },\n  },\n};\n</script>\n","<template>\n  <ais-highlighter\n    :hit=\"hit\"\n    :attribute=\"attribute\"\n    :highlighted-tag-name=\"highlightedTagName\"\n    :suit=\"suit\"\n    highlight-property=\"_snippetResult\"\n    pre-tag=\"<mark>\"\n    post-tag=\"</mark>\"\n  />\n</template>\n\n<script>\nimport { createSuitMixin } from '../mixins/suit';\nimport AisHighlighter from './Highlighter.vue';\n\nexport default {\n  name: 'AisSnippet',\n  mixins: [createSuitMixin({ name: 'Snippet' })],\n  components: { AisHighlighter },\n  props: {\n    hit: {\n      type: Object,\n      required: true,\n    },\n    attribute: {\n      type: String,\n      required: true,\n    },\n    highlightedTagName: {\n      type: String,\n      default: 'mark',\n    },\n  },\n};\n</script>\n","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { checkRendering, createDocumentationMessageGenerator, find, warning, noop } from '../../lib/utils';\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'sort-by',\n  connector: true\n});\n/**\n * @typedef {Object} SortByItem\n * @property {string} value The name of the index to target.\n * @property {string} label The label of the index to display.\n */\n\n/**\n * @typedef {Object} CustomSortByWidgetOptions\n * @property {SortByItem[]} items Array of objects defining the different indices to choose from.\n * @property {function(object[]):object[]} [transformItems] Function to transform the items passed to the templates.\n */\n\n/**\n * @typedef {Object} SortByRenderingOptions\n * @property {string} currentRefinement The currently selected index.\n * @property {SortByItem[]} options All the available indices\n * @property {function(string)} refine Switches indices and triggers a new search.\n * @property {boolean} hasNoResults `true` if the last search contains no result.\n * @property {Object} widgetParams All original `CustomSortByWidgetOptions` forwarded to the `renderFn`.\n */\n\n/**\n * The **SortBy** connector provides the logic to build a custom widget that will display a\n * list of indices. With Algolia, this is most commonly used for changing ranking strategy. This allows\n * a user to change how the hits are being sorted.\n *\n * This connector provides the `refine` function that allows to switch indices.\n * The connector provides to the rendering: `refine()` to switch the current index and\n * `options` that are the values that can be selected. `refine` should be used\n * with `options.value`.\n * @type {Connector}\n * @param {function(SortByRenderingOptions, boolean)} renderFn Rendering function for the custom **SortBy** widget.\n * @param {function} unmountFn Unmount function called when the widget is disposed.\n * @return {function(CustomSortByWidgetOptions)} Re-usable widget factory for a custom **SortBy** widget.\n * @example\n * // custom `renderFn` to render the custom SortBy widget\n * function renderFn(SortByRenderingOptions, isFirstRendering) {\n *   if (isFirstRendering) {\n *     SortByRenderingOptions.widgetParams.containerNode.html('<select></select>');\n *     SortByRenderingOptions.widgetParams.containerNode\n *       .find('select')\n *       .on('change', function(event) {\n *         SortByRenderingOptions.refine(event.target.value);\n *       });\n *   }\n *\n *   var optionsHTML = SortByRenderingOptions.options.map(function(option) {\n *     return `\n *       <option\n *         value=\"${option.value}\"\n *         ${SortByRenderingOptions.currentRefinement === option.value ? 'selected' : ''}\n *       >\n *         ${option.label}\n *       </option>\n *     `;\n *   });\n *\n *   SortByRenderingOptions.widgetParams.containerNode\n *     .find('select')\n *     .html(optionsHTML);\n * }\n *\n * // connect `renderFn` to SortBy logic\n * var customSortBy = instantsearch.connectors.connectSortBy(renderFn);\n *\n * // mount widget on the page\n * search.addWidgets([\n *   customSortBy({\n *     containerNode: $('#custom-sort-by-container'),\n *     items: [\n *       { value: 'instant_search', label: 'Most relevant' },\n *       { value: 'instant_search_price_asc', label: 'Lowest price' },\n *       { value: 'instant_search_price_desc', label: 'Highest price' },\n *     ],\n *   })\n * ]);\n */\n\nexport default function connectSortBy(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  checkRendering(renderFn, withUsage());\n  return function () {\n    var widgetParams = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var items = widgetParams.items,\n        _widgetParams$transfo = widgetParams.transformItems,\n        transformItems = _widgetParams$transfo === void 0 ? function (x) {\n      return x;\n    } : _widgetParams$transfo;\n\n    if (!Array.isArray(items)) {\n      throw new Error(withUsage('The `items` option expects an array of objects.'));\n    }\n\n    return {\n      $$type: 'ais.sortBy',\n      init: function init(initOptions) {\n        var instantSearchInstance = initOptions.instantSearchInstance;\n        var widgetRenderState = this.getWidgetRenderState(initOptions);\n        var currentIndex = widgetRenderState.currentRefinement;\n        var isCurrentIndexInItems = find(items, function (item) {\n          return item.value === currentIndex;\n        });\n        process.env.NODE_ENV === 'development' ? warning(isCurrentIndexInItems, \"The index named \\\"\".concat(currentIndex, \"\\\" is not listed in the `items` of `sortBy`.\")) : void 0;\n        renderFn(_objectSpread({}, widgetRenderState, {\n          instantSearchInstance: instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        var instantSearchInstance = renderOptions.instantSearchInstance;\n        renderFn(_objectSpread({}, this.getWidgetRenderState(renderOptions), {\n          instantSearchInstance: instantSearchInstance\n        }), false);\n      },\n      dispose: function dispose(_ref) {\n        var state = _ref.state;\n        unmountFn();\n        return state.setIndex(this.initialIndex);\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread({}, renderState, {\n          sortBy: this.getWidgetRenderState(renderOptions)\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref2) {\n        var results = _ref2.results,\n            helper = _ref2.helper,\n            parent = _ref2.parent;\n\n        if (!this.initialIndex) {\n          this.initialIndex = parent.getIndexName();\n        }\n\n        if (!this.setIndex) {\n          this.setIndex = function (indexName) {\n            helper.setIndex(indexName).search();\n          };\n        }\n\n        return {\n          currentRefinement: helper.state.index,\n          options: transformItems(items),\n          refine: this.setIndex,\n          hasNoResults: results ? results.nbHits === 0 : true,\n          widgetParams: widgetParams\n        };\n      },\n      getWidgetUiState: function getWidgetUiState(uiState, _ref3) {\n        var searchParameters = _ref3.searchParameters;\n        var currentIndex = searchParameters.index;\n        var isInitialIndex = currentIndex === this.initialIndex;\n\n        if (isInitialIndex) {\n          return uiState;\n        }\n\n        return _objectSpread({}, uiState, {\n          sortBy: currentIndex\n        });\n      },\n      getWidgetSearchParameters: function getWidgetSearchParameters(searchParameters, _ref4) {\n        var uiState = _ref4.uiState;\n        return searchParameters.setQueryParameter('index', uiState.sortBy || this.initialIndex || searchParameters.index);\n      }\n    };\n  };\n}","<template>\n  <div\n    :class=\"suit()\"\n    v-if=\"state\"\n  >\n    <slot\n      :items=\"state.options\"\n      :has-no-results=\"state.hasNoResults\"\n      :refine=\"state.refine\"\n      :current-refinement=\"state.currentRefinement\"\n    >\n      <select\n        :class=\"suit('select')\"\n        @change=\"state.refine($event.currentTarget.value)\"\n      >\n        <option\n          v-for=\"item in state.options\"\n          :key=\"item.value\"\n          :class=\"suit('option')\"\n          :value=\"item.value\"\n          :selected=\"item.value === state.currentRefinement\"\n        >{{ item.label }}</option>\n      </select>\n    </slot>\n  </div>\n</template>\n\n<script>\nimport { connectSortBy } from 'instantsearch.js/es/connectors';\nimport { createPanelConsumerMixin } from '../mixins/panel';\nimport { createSuitMixin } from '../mixins/suit';\nimport { createWidgetMixin } from '../mixins/widget';\n\nexport default {\n  name: 'AisSortBy',\n  mixins: [\n    createSuitMixin({ name: 'SortBy' }),\n    createWidgetMixin({ connector: connectSortBy }),\n\n    createPanelConsumerMixin({\n      mapStateToCanRefine: state => state.hasNoResults === false,\n    }),\n  ],\n  props: {\n    items: {\n      type: Array,\n      required: true,\n    },\n    transformItems: {\n      type: Function,\n      default(items) {\n        return items;\n      },\n    },\n  },\n  computed: {\n    widgetParams() {\n      return {\n        items: this.items,\n        transformItems: this.transformItems,\n      };\n    },\n  },\n};\n</script>\n","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { checkRendering, createDocumentationMessageGenerator, noop } from '../../lib/utils';\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'stats',\n  connector: true\n});\n/**\n * @typedef {Object} StatsRenderingOptions\n * @property {number} hitsPerPage The maximum number of hits per page returned by Algolia.\n * @property {number} nbHits The number of hits in the result set.\n * @property {number} nbPages The number of pages computed for the result set.\n * @property {number} page The current page.\n * @property {number} processingTimeMS The time taken to compute the results inside the Algolia engine.\n * @property {string} query The query used for the current search.\n * @property {object} widgetParams All original `CustomStatsWidgetOptions` forwarded to the `renderFn`.\n */\n\n/**\n * @typedef {Object} CustomStatsWidgetOptions\n */\n\n/**\n * **Stats** connector provides the logic to build a custom widget that will displays\n * search statistics (hits number and processing time).\n *\n * @type {Connector}\n * @param {function(StatsRenderingOptions, boolean)} renderFn Rendering function for the custom **Stats** widget.\n * @param {function} unmountFn Unmount function called when the widget is disposed.\n * @return {function(CustomStatsWidgetOptions)} Re-usable widget factory for a custom **Stats** widget.\n * @example\n * // custom `renderFn` to render the custom Stats widget\n * function renderFn(StatsRenderingOptions, isFirstRendering) {\n *   if (isFirstRendering) return;\n *\n *   StatsRenderingOptions.widgetParams.containerNode\n *     .html(StatsRenderingOptions.nbHits + ' results found in ' + StatsRenderingOptions.processingTimeMS);\n * }\n *\n * // connect `renderFn` to Stats logic\n * var customStatsWidget = instantsearch.connectors.connectStats(renderFn);\n *\n * // mount widget on the page\n * search.addWidgets([\n *   customStatsWidget({\n *     containerNode: $('#custom-stats-container'),\n *   })\n * ]);\n */\n\nexport default function connectStats(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  checkRendering(renderFn, withUsage());\n  return function () {\n    var widgetParams = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return {\n      $$type: 'ais.stats',\n      init: function init(initOptions) {\n        var instantSearchInstance = initOptions.instantSearchInstance;\n        renderFn(_objectSpread({}, this.getWidgetRenderState(initOptions), {\n          instantSearchInstance: instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        var instantSearchInstance = renderOptions.instantSearchInstance;\n        renderFn(_objectSpread({}, this.getWidgetRenderState(renderOptions), {\n          instantSearchInstance: instantSearchInstance\n        }), false);\n      },\n      dispose: function dispose() {\n        unmountFn();\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread({}, renderState, {\n          stats: this.getWidgetRenderState(renderOptions)\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref) {\n        var results = _ref.results,\n            helper = _ref.helper;\n\n        if (!results) {\n          return {\n            hitsPerPage: helper.state.hitsPerPage,\n            nbHits: 0,\n            nbPages: 0,\n            page: helper.state.page || 0,\n            processingTimeMS: -1,\n            query: helper.state.query || '',\n            widgetParams: widgetParams\n          };\n        }\n\n        return {\n          hitsPerPage: results.hitsPerPage,\n          nbHits: results.nbHits,\n          nbPages: results.nbPages,\n          page: results.page,\n          processingTimeMS: results.processingTimeMS,\n          query: results.query,\n          widgetParams: widgetParams\n        };\n      }\n    };\n  };\n}","<template>\n  <div\n    v-if=\"state\"\n    :class=\"suit()\"\n  >\n    <slot\n      v-bind=\"state\"\n      :results=\"state.instantSearchInstance.helper.lastResults\"\n    >\n      <span :class=\"suit('text')\">{{ state.nbHits.toLocaleString() }} results found in {{ state.processingTimeMS.toLocaleString() }}ms</span>\n    </slot>\n  </div>\n</template>\n\n<script>\nimport { createWidgetMixin } from '../mixins/widget';\nimport { connectStats } from 'instantsearch.js/es/connectors';\nimport { createSuitMixin } from '../mixins/suit';\n\nexport default {\n  name: 'AisStats',\n  mixins: [\n    createWidgetMixin({ connector: connectStats }),\n    createSuitMixin({ name: 'Stats' }),\n  ],\n  computed: {\n    widgetParams() {\n      return {};\n    },\n  },\n};\n</script>\n","function toArray(value) {\n  return Array.isArray(value) ? value : [value];\n}\n\nexport default toArray;","function escapeRefinement(value) {\n  if (typeof value === 'number' && value < 0) {\n    value = String(value).replace(/^-/, '\\\\-');\n  }\n\n  return value;\n}\n\nexport default escapeRefinement;","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { checkRendering, escapeRefinement, unescapeRefinement, createDocumentationMessageGenerator, find, noop, toArray } from '../../lib/utils';\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'toggle-refinement',\n  connector: true\n});\nvar $$type = 'ais.toggleRefinement';\n\nvar createSendEvent = function createSendEvent(_ref) {\n  var instantSearchInstance = _ref.instantSearchInstance,\n      attribute = _ref.attribute,\n      on = _ref.on,\n      helper = _ref.helper;\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    if (args.length === 1) {\n      instantSearchInstance.sendEventToInsights(args[0]);\n      return;\n    }\n\n    var eventType = args[0],\n        isRefined = args[1],\n        _args$ = args[2],\n        eventName = _args$ === void 0 ? 'Filter Applied' : _args$;\n\n    if (eventType !== 'click' || on === undefined) {\n      return;\n    } // Checking\n\n\n    if (!isRefined) {\n      instantSearchInstance.sendEventToInsights({\n        insightsMethod: 'clickedFilters',\n        widgetType: $$type,\n        eventType: eventType,\n        payload: {\n          eventName: eventName,\n          index: helper.getIndex(),\n          filters: on.map(function (value) {\n            return \"\".concat(attribute, \":\").concat(JSON.stringify(value));\n          })\n        }\n      });\n    }\n  };\n};\n/**\n * @typedef {Object} ToggleValue\n * @property {boolean} isRefined `true` if the toggle is on.\n * @property {number} count Number of results matched after applying the toggle refinement.\n * @property {Object} onFacetValue Value of the toggle when it's on.\n * @property {Object} offFacetValue Value of the toggle when it's off.\n */\n\n/**\n * @typedef {Object} CustomToggleWidgetOptions\n * @property {string} attribute Name of the attribute for faceting (eg. \"free_shipping\").\n * @property {Object} [on = true] Value to filter on when toggled.\n * @property {Object} [off] Value to filter on when not toggled.\n */\n\n/**\n * @typedef {Object} ToggleRenderingOptions\n * @property {ToggleValue} value The current toggle value.\n * @property {function():string} createURL Creates an URL for the next state.\n * @property {function(value)} refine Updates to the next state by applying the toggle refinement.\n * @property {Object} widgetParams All original `CustomToggleWidgetOptions` forwarded to the `renderFn`.\n */\n\n/**\n * **Toggle** connector provides the logic to build a custom widget that will provide\n * an on/off filtering feature based on an attribute value or values.\n *\n * Two modes are implemented in the custom widget:\n *  - with or without the value filtered\n *  - switch between two values.\n *\n * @type {Connector}\n * @param {function(ToggleRenderingOptions, boolean)} renderFn Rendering function for the custom **Toggle** widget.\n * @param {function} unmountFn Unmount function called when the widget is disposed.\n * @return {function(CustomToggleWidgetOptions)} Re-usable widget factory for a custom **Toggle** widget.\n * @example\n * // custom `renderFn` to render the custom ClearAll widget\n * function renderFn(ToggleRenderingOptions, isFirstRendering) {\n *   ToggleRenderingOptions.widgetParams.containerNode\n *     .find('a')\n *     .off('click');\n *\n *   var buttonHTML = `\n *     <a href=\"${ToggleRenderingOptions.createURL()}\">\n *       <input\n *         type=\"checkbox\"\n *         value=\"${ToggleRenderingOptions.value.name}\"\n *         ${ToggleRenderingOptions.value.isRefined ? 'checked' : ''}\n *       />\n *       ${ToggleRenderingOptions.value.name} (${ToggleRenderingOptions.value.count})\n *     </a>\n *   `;\n *\n *   ToggleRenderingOptions.widgetParams.containerNode.html(buttonHTML);\n *   ToggleRenderingOptions.widgetParams.containerNode\n *     .find('a')\n *     .on('click', function(event) {\n *       event.preventDefault();\n *       event.stopPropagation();\n *\n *       ToggleRenderingOptions.refine(ToggleRenderingOptions.value);\n *     });\n * }\n *\n * // connect `renderFn` to Toggle logic\n * var customToggle = instantsearch.connectors.connectToggleRefinement(renderFn);\n *\n * // mount widget on the page\n * search.addWidgets([\n *   customToggle({\n *     containerNode: $('#custom-toggle-container'),\n *     attribute: 'free_shipping',\n *   })\n * ]);\n */\n\n\nexport default function connectToggleRefinement(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  checkRendering(renderFn, withUsage());\n  return function () {\n    var widgetParams = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var attribute = widgetParams.attribute,\n        _widgetParams$on = widgetParams.on,\n        userOn = _widgetParams$on === void 0 ? true : _widgetParams$on,\n        userOff = widgetParams.off;\n\n    if (!attribute) {\n      throw new Error(withUsage('The `attribute` option is required.'));\n    }\n\n    var hasAnOffValue = userOff !== undefined;\n    var hasAnOnValue = userOn !== undefined;\n    var on = hasAnOnValue ? toArray(userOn).map(escapeRefinement) : undefined;\n    var off = hasAnOffValue ? toArray(userOff).map(escapeRefinement) : undefined;\n    var sendEvent;\n\n    var toggleRefinementFactory = function toggleRefinementFactory(helper) {\n      return function () {\n        var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n            isRefined = _ref2.isRefined;\n\n        // Checking\n        if (!isRefined) {\n          sendEvent('click', isRefined);\n\n          if (hasAnOffValue) {\n            off.forEach(function (v) {\n              return helper.removeDisjunctiveFacetRefinement(attribute, v);\n            });\n          }\n\n          on.forEach(function (v) {\n            return helper.addDisjunctiveFacetRefinement(attribute, v);\n          });\n        } else {\n          // Unchecking\n          on.forEach(function (v) {\n            return helper.removeDisjunctiveFacetRefinement(attribute, v);\n          });\n\n          if (hasAnOffValue) {\n            off.forEach(function (v) {\n              return helper.addDisjunctiveFacetRefinement(attribute, v);\n            });\n          }\n        }\n\n        helper.search();\n      };\n    };\n\n    var connectorState = {\n      createURLFactory: function createURLFactory(isRefined, _ref3) {\n        var state = _ref3.state,\n            createURL = _ref3.createURL;\n        return function () {\n          var valuesToRemove = isRefined ? on : off;\n\n          if (valuesToRemove) {\n            valuesToRemove.forEach(function (v) {\n              state.removeDisjunctiveFacetRefinement(attribute, v);\n            });\n          }\n\n          var valuesToAdd = isRefined ? off : on;\n\n          if (valuesToAdd) {\n            valuesToAdd.forEach(function (v) {\n              state.addDisjunctiveFacetRefinement(attribute, v);\n            });\n          }\n\n          return createURL(state);\n        };\n      }\n    };\n    return {\n      $$type: $$type,\n      init: function init(initOptions) {\n        var instantSearchInstance = initOptions.instantSearchInstance;\n        renderFn(_objectSpread({}, this.getWidgetRenderState(initOptions), {\n          instantSearchInstance: instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        var instantSearchInstance = renderOptions.instantSearchInstance;\n        renderFn(_objectSpread({}, this.getWidgetRenderState(renderOptions), {\n          instantSearchInstance: instantSearchInstance\n        }), false);\n      },\n      dispose: function dispose(_ref4) {\n        var state = _ref4.state;\n        unmountFn();\n        return state.removeDisjunctiveFacet(attribute);\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread({}, renderState, {\n          toggleRefinement: this.getWidgetRenderState(renderOptions)\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref5) {\n        var state = _ref5.state,\n            helper = _ref5.helper,\n            results = _ref5.results,\n            createURL = _ref5.createURL,\n            instantSearchInstance = _ref5.instantSearchInstance;\n        var isRefined = results ? on === null || on === void 0 ? void 0 : on.every(function (v) {\n          return helper.state.isDisjunctiveFacetRefined(attribute, v);\n        }) : on === null || on === void 0 ? void 0 : on.every(function (v) {\n          return state.isDisjunctiveFacetRefined(attribute, v);\n        });\n        var onFacetValue = {\n          isRefined: isRefined,\n          count: 0\n        };\n        var offFacetValue = {\n          isRefined: hasAnOffValue && !isRefined,\n          count: 0\n        };\n\n        if (results) {\n          var offValue = toArray(off || false);\n          var allFacetValues = results.getFacetValues(attribute) || [];\n          var onData = on === null || on === void 0 ? void 0 : on.map(function (v) {\n            return find(allFacetValues, function (_ref6) {\n              var name = _ref6.name;\n              return name === unescapeRefinement(v);\n            });\n          }).filter(function (v) {\n            return v !== undefined;\n          });\n          var offData = hasAnOffValue ? offValue.map(function (v) {\n            return find(allFacetValues, function (_ref7) {\n              var name = _ref7.name;\n              return name === unescapeRefinement(v);\n            });\n          }).filter(function (v) {\n            return v !== undefined;\n          }) : [];\n          onFacetValue = {\n            isRefined: onData.length ? onData.every(function (v) {\n              return v.isRefined;\n            }) : false,\n            count: onData.reduce(function (acc, v) {\n              return acc + v.count;\n            }, 0) || null\n          };\n          offFacetValue = {\n            isRefined: offData.length ? offData.every(function (v) {\n              return v.isRefined;\n            }) : false,\n            count: offData.reduce(function (acc, v) {\n              return acc + v.count;\n            }, 0) || allFacetValues.reduce(function (total, _ref8) {\n              var count = _ref8.count;\n              return total + count;\n            }, 0)\n          };\n        } else if (hasAnOffValue && !isRefined) {\n          if (off) {\n            off.forEach(function (v) {\n              return helper.addDisjunctiveFacetRefinement(attribute, v);\n            });\n          }\n\n          helper.setPage(helper.state.page);\n        }\n\n        if (!sendEvent) {\n          sendEvent = createSendEvent({\n            instantSearchInstance: instantSearchInstance,\n            attribute: attribute,\n            on: on,\n            helper: helper\n          });\n        }\n\n        var nextRefinement = isRefined ? offFacetValue : onFacetValue;\n        return {\n          value: {\n            name: attribute,\n            isRefined: isRefined,\n            count: results ? nextRefinement.count : null,\n            onFacetValue: onFacetValue,\n            offFacetValue: offFacetValue\n          },\n          state: state,\n          createURL: connectorState.createURLFactory(isRefined, {\n            state: state,\n            createURL: createURL\n          }),\n          sendEvent: sendEvent,\n          refine: toggleRefinementFactory(helper),\n          widgetParams: widgetParams\n        };\n      },\n      getWidgetUiState: function getWidgetUiState(uiState, _ref9) {\n        var searchParameters = _ref9.searchParameters;\n        var isRefined = on && on.every(function (v) {\n          return searchParameters.isDisjunctiveFacetRefined(attribute, v);\n        });\n\n        if (!isRefined) {\n          return uiState;\n        }\n\n        return _objectSpread({}, uiState, {\n          toggle: _objectSpread({}, uiState.toggle, _defineProperty({}, attribute, isRefined))\n        });\n      },\n      getWidgetSearchParameters: function getWidgetSearchParameters(searchParameters, _ref10) {\n        var uiState = _ref10.uiState;\n        var withFacetConfiguration = searchParameters.clearRefinements(attribute).addDisjunctiveFacet(attribute);\n        var isRefined = Boolean(uiState.toggle && uiState.toggle[attribute]);\n\n        if (isRefined) {\n          if (on) {\n            on.forEach(function (v) {\n              withFacetConfiguration = withFacetConfiguration.addDisjunctiveFacetRefinement(attribute, v);\n            });\n          }\n\n          return withFacetConfiguration;\n        } // It's not refined with an `off` value\n\n\n        if (hasAnOffValue) {\n          if (off) {\n            off.forEach(function (v) {\n              withFacetConfiguration = withFacetConfiguration.addDisjunctiveFacetRefinement(attribute, v);\n            });\n          }\n\n          return withFacetConfiguration;\n        } // It's not refined without an `off` value\n\n\n        return withFacetConfiguration.setQueryParameters({\n          disjunctiveFacetsRefinements: _objectSpread({}, searchParameters.disjunctiveFacetsRefinements, _defineProperty({}, attribute, []))\n        });\n      }\n    };\n  };\n}","<template>\n  <div\n    v-if=\"state\"\n    :class=\"[suit(), !canRefine && suit('', 'noRefinement')]\"\n  >\n    <slot\n      :value=\"state.value\"\n      :can-refine=\"canRefine\"\n      :refine=\"state.refine\"\n      :createURL=\"state.createURL\"\n    >\n      <label :class=\"suit('label')\">\n        <input\n          :class=\"suit('checkbox')\"\n          type=\"checkbox\"\n          :name=\"state.value.name\"\n          :value=\"on\"\n          :checked=\"state.value.isRefined\"\n          @change=\"state.refine(state.value)\"\n        >\n        <span :class=\"suit('labelText')\">{{ label }}</span>\n        <span\n          v-if=\"state.value.count !== null\"\n          :class=\"suit('count')\"\n        >{{ state.value.count.toLocaleString() }}</span>\n      </label>\n    </slot>\n  </div>\n</template>\n\n<script>\nimport { connectToggleRefinement } from 'instantsearch.js/es/connectors';\nimport { createWidgetMixin } from '../mixins/widget';\nimport { createPanelConsumerMixin } from '../mixins/panel';\nimport { createSuitMixin } from '../mixins/suit';\n\nconst mapStateToCanRefine = state => Boolean(state.value && state.value.count);\n\nexport default {\n  name: 'AisToggleRefinement',\n  mixins: [\n    createSuitMixin({ name: 'ToggleRefinement' }),\n    createWidgetMixin({ connector: connectToggleRefinement }),\n    createPanelConsumerMixin({\n      mapStateToCanRefine,\n    }),\n  ],\n  props: {\n    attribute: {\n      type: String,\n      required: true,\n    },\n    label: {\n      type: String,\n      required: true,\n    },\n    on: {\n      type: [String, Number, Boolean, Array],\n      required: false,\n      default: true,\n    },\n    off: {\n      type: [String, Number, Boolean, Array],\n      required: false,\n      // explicit otherwise Vue coerces the default value\n      // to false because of the `Boolean` prop type\n      default: undefined,\n    },\n  },\n  computed: {\n    widgetParams() {\n      return {\n        attribute: this.attribute,\n        label: this.label,\n        on: this.on,\n        off: this.off,\n      };\n    },\n    canRefine() {\n      return mapStateToCanRefine(this.state);\n    },\n  },\n};\n</script>\n","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar createVoiceSearchHelper = function createVoiceSearchHelper(_ref) {\n  var searchAsYouSpeak = _ref.searchAsYouSpeak,\n      language = _ref.language,\n      onQueryChange = _ref.onQueryChange,\n      onStateChange = _ref.onStateChange;\n  var SpeechRecognitionAPI = window.webkitSpeechRecognition || window.SpeechRecognition;\n\n  var getDefaultState = function getDefaultState(status) {\n    return {\n      status: status,\n      transcript: '',\n      isSpeechFinal: false,\n      errorCode: undefined\n    };\n  };\n\n  var state = getDefaultState('initial');\n  var recognition;\n\n  var isBrowserSupported = function isBrowserSupported() {\n    return Boolean(SpeechRecognitionAPI);\n  };\n\n  var isListening = function isListening() {\n    return state.status === 'askingPermission' || state.status === 'waiting' || state.status === 'recognizing';\n  };\n\n  var setState = function setState() {\n    var newState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    state = _objectSpread({}, state, {}, newState);\n    onStateChange();\n  };\n\n  var getState = function getState() {\n    return state;\n  };\n\n  var resetState = function resetState() {\n    var status = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'initial';\n    setState(getDefaultState(status));\n  };\n\n  var onStart = function onStart() {\n    setState({\n      status: 'waiting'\n    });\n  };\n\n  var onError = function onError(event) {\n    setState({\n      status: 'error',\n      errorCode: event.error\n    });\n  };\n\n  var onResult = function onResult(event) {\n    setState({\n      status: 'recognizing',\n      transcript: event.results[0] && event.results[0][0] && event.results[0][0].transcript || '',\n      isSpeechFinal: event.results[0] && event.results[0].isFinal\n    });\n\n    if (searchAsYouSpeak && state.transcript) {\n      onQueryChange(state.transcript);\n    }\n  };\n\n  var onEnd = function onEnd() {\n    if (!state.errorCode && state.transcript && !searchAsYouSpeak) {\n      onQueryChange(state.transcript);\n    }\n\n    if (state.status !== 'error') {\n      setState({\n        status: 'finished'\n      });\n    }\n  };\n\n  var startListening = function startListening() {\n    recognition = new SpeechRecognitionAPI();\n\n    if (!recognition) {\n      return;\n    }\n\n    resetState('askingPermission');\n    recognition.interimResults = true;\n\n    if (language) {\n      recognition.lang = language;\n    }\n\n    recognition.addEventListener('start', onStart);\n    recognition.addEventListener('error', onError);\n    recognition.addEventListener('result', onResult);\n    recognition.addEventListener('end', onEnd);\n    recognition.start();\n  };\n\n  var dispose = function dispose() {\n    if (!recognition) {\n      return;\n    }\n\n    recognition.stop();\n    recognition.removeEventListener('start', onStart);\n    recognition.removeEventListener('error', onError);\n    recognition.removeEventListener('result', onResult);\n    recognition.removeEventListener('end', onEnd);\n    recognition = undefined;\n  };\n\n  var stopListening = function stopListening() {\n    dispose(); // Because `dispose` removes event listeners, `end` listener is not called.\n    // So we're setting the `status` as `finished` here.\n    // If we don't do it, it will be still `waiting` or `recognizing`.\n\n    resetState('finished');\n  };\n\n  return {\n    getState: getState,\n    isBrowserSupported: isBrowserSupported,\n    isListening: isListening,\n    startListening: startListening,\n    stopListening: stopListening,\n    dispose: dispose\n  };\n};\n\nexport default createVoiceSearchHelper;","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { checkRendering, createDocumentationMessageGenerator, noop } from '../../lib/utils';\nimport builtInCreateVoiceSearchHelper from '../../lib/voiceSearchHelper';\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'voice-search',\n  connector: true\n});\n\nvar connectVoiceSearch = function connectVoiceSearch(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  checkRendering(renderFn, withUsage());\n  return function (widgetParams) {\n    var _widgetParams$searchA = widgetParams.searchAsYouSpeak,\n        searchAsYouSpeak = _widgetParams$searchA === void 0 ? false : _widgetParams$searchA,\n        language = widgetParams.language,\n        additionalQueryParameters = widgetParams.additionalQueryParameters,\n        _widgetParams$createV = widgetParams.createVoiceSearchHelper,\n        createVoiceSearchHelper = _widgetParams$createV === void 0 ? builtInCreateVoiceSearchHelper : _widgetParams$createV;\n    return {\n      $$type: 'ais.voiceSearch',\n      init: function init(initOptions) {\n        var instantSearchInstance = initOptions.instantSearchInstance;\n        renderFn(_objectSpread({}, this.getWidgetRenderState(initOptions), {\n          instantSearchInstance: instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        var instantSearchInstance = renderOptions.instantSearchInstance;\n        renderFn(_objectSpread({}, this.getWidgetRenderState(renderOptions), {\n          instantSearchInstance: instantSearchInstance\n        }), false);\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread({}, renderState, {\n          voiceSearch: this.getWidgetRenderState(renderOptions)\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(renderOptions) {\n        var _this = this;\n\n        var helper = renderOptions.helper,\n            instantSearchInstance = renderOptions.instantSearchInstance;\n\n        if (!this._refine) {\n          this._refine = function (query) {\n            if (query !== helper.state.query) {\n              var queryLanguages = language ? [language.split('-')[0]] : undefined;\n              helper.setQueryParameter('queryLanguages', queryLanguages);\n\n              if (typeof additionalQueryParameters === 'function') {\n                helper.setState(helper.state.setQueryParameters(_objectSpread({\n                  ignorePlurals: true,\n                  removeStopWords: true,\n                  // @ts-ignore (optionalWords only allows array, while string is also valid)\n                  optionalWords: query\n                }, additionalQueryParameters({\n                  query: query\n                }))));\n              }\n\n              helper.setQuery(query).search();\n            }\n          };\n        }\n\n        if (!this._voiceSearchHelper) {\n          this._voiceSearchHelper = createVoiceSearchHelper({\n            searchAsYouSpeak: searchAsYouSpeak,\n            language: language,\n            onQueryChange: function onQueryChange(query) {\n              return _this._refine(query);\n            },\n            onStateChange: function onStateChange() {\n              renderFn(_objectSpread({}, _this.getWidgetRenderState(renderOptions), {\n                instantSearchInstance: instantSearchInstance\n              }), false);\n            }\n          });\n        }\n\n        var _voiceSearchHelper = this._voiceSearchHelper,\n            isBrowserSupported = _voiceSearchHelper.isBrowserSupported,\n            isListening = _voiceSearchHelper.isListening,\n            startListening = _voiceSearchHelper.startListening,\n            stopListening = _voiceSearchHelper.stopListening,\n            getState = _voiceSearchHelper.getState;\n        return {\n          isBrowserSupported: isBrowserSupported(),\n          isListening: isListening(),\n          toggleListening: function toggleListening() {\n            if (!isBrowserSupported()) {\n              return;\n            }\n\n            if (isListening()) {\n              stopListening();\n            } else {\n              startListening();\n            }\n          },\n          voiceListeningState: getState(),\n          widgetParams: widgetParams\n        };\n      },\n      dispose: function dispose(_ref) {\n        var state = _ref.state;\n\n        this._voiceSearchHelper.dispose();\n\n        unmountFn();\n        var newState = state;\n\n        if (typeof additionalQueryParameters === 'function') {\n          var additional = additionalQueryParameters({\n            query: ''\n          });\n          var toReset = additional ? Object.keys(additional).reduce(function (acc, current) {\n            acc[current] = undefined;\n            return acc;\n          }, {}) : {};\n          newState = state.setQueryParameters(_objectSpread({\n            // @ts-ignore (queryLanguages is not yet added to algoliasearch)\n            queryLanguages: undefined,\n            ignorePlurals: undefined,\n            removeStopWords: undefined,\n            optionalWords: undefined\n          }, toReset));\n        }\n\n        return newState.setQueryParameter('query', undefined);\n      },\n      getWidgetUiState: function getWidgetUiState(uiState, _ref2) {\n        var searchParameters = _ref2.searchParameters;\n        var query = searchParameters.query || '';\n\n        if (!query) {\n          return uiState;\n        }\n\n        return _objectSpread({}, uiState, {\n          query: query\n        });\n      },\n      getWidgetSearchParameters: function getWidgetSearchParameters(searchParameters, _ref3) {\n        var uiState = _ref3.uiState;\n        return searchParameters.setQueryParameter('query', uiState.query || '');\n      }\n    };\n  };\n};\n\nexport default connectVoiceSearch;","<template>\n  <div\n    v-if=\"state\"\n    :class=\"suit()\"\n  >\n    <slot v-bind=\"rootSlotProps\">\n      <button\n        type=\"button\"\n        :class=\"suit('button')\"\n        :title=\"state.isBrowserSupported ? buttonTitle : disabledButtonTitle\"\n        :disabled=\"!state.isBrowserSupported\"\n        @click=\"handleClick\"\n      >\n        <slot\n          name=\"buttonText\"\n          v-bind=\"innerSlotProps\"\n        >\n          <svg\n            v-bind=\"buttonSvgAttrs\"\n            v-if=\"errorNotAllowed\"\n          >\n            <line\n              x1=\"1\"\n              y1=\"1\"\n              x2=\"23\"\n              y2=\"23\"\n            />\n            <path d=\"M9 9v3a3 3 0 0 0 5.12 2.12M15 9.34V4a3 3 0 0 0-5.94-.6\" />\n            <path d=\"M17 16.95A7 7 0 0 1 5 12v-2m14 0v2a7 7 0 0 1-.11 1.23\" />\n            <line\n              x1=\"12\"\n              y1=\"19\"\n              x2=\"12\"\n              y2=\"23\"\n            />\n            <line\n              x1=\"8\"\n              y1=\"23\"\n              x2=\"16\"\n              y2=\"23\"\n            />\n          </svg>\n          <svg\n            v-bind=\"buttonSvgAttrs\"\n            v-else\n          >\n            <path\n              d=\"M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z\"\n              :fill=\"state.isListening ? 'currentColor' : 'none'\"\n            />\n            <path d=\"M19 10v2a7 7 0 0 1-14 0v-2\" />\n            <line\n              x1=\"12\"\n              y1=\"19\"\n              x2=\"12\"\n              y2=\"23\"\n            />\n            <line\n              x1=\"8\"\n              y1=\"23\"\n              x2=\"16\"\n              y2=\"23\"\n            />\n          </svg>\n        </slot>\n      </button>\n      <div :class=\"suit('status')\">\n        <slot\n          name=\"status\"\n          v-bind=\"innerSlotProps\"\n        >\n          <p>{{ state.voiceListeningState.transcript }}</p>\n        </slot>\n      </div>\n    </slot>\n  </div>\n</template>\n\n<script>\nimport { connectVoiceSearch } from 'instantsearch.js/es/connectors';\nimport { createSuitMixin } from '../mixins/suit';\nimport { createWidgetMixin } from '../mixins/widget';\n\nexport default {\n  name: 'AisVoiceSearch',\n  mixins: [\n    createWidgetMixin({ connector: connectVoiceSearch }),\n    createSuitMixin({ name: 'VoiceSearch' }),\n  ],\n  props: {\n    searchAsYouSpeak: {\n      type: Boolean,\n      required: false,\n      default: undefined,\n    },\n    buttonTitle: {\n      type: String,\n      required: false,\n      default: 'Search by voice',\n    },\n    disabledButtonTitle: {\n      type: String,\n      required: false,\n      default: 'Search by voice (not supported on this browser)',\n    },\n  },\n  data() {\n    return {\n      buttonSvgAttrs: {\n        xmlns: 'http://www.w3.org/2000/svg',\n        width: '16',\n        height: '16',\n        viewBox: '0 0 24 24',\n        fill: 'none',\n        stroke: 'currentColor',\n        strokeWidth: '2',\n        strokeLinecap: 'round',\n        strokeLinejoin: 'round',\n      },\n    };\n  },\n  computed: {\n    widgetParams() {\n      return {\n        searchAsYouSpeak: this.searchAsYouSpeak,\n      };\n    },\n    errorNotAllowed() {\n      return (\n        this.state.voiceListeningState.status === 'error' &&\n        this.state.voiceListeningState.errorCode === 'not-allowed'\n      );\n    },\n    rootSlotProps() {\n      return {\n        isBrowserSupported: this.state.isBrowserSupported,\n        isListening: this.state.isListening,\n        toggleListening: this.state.toggleListening,\n        voiceListeningState: this.state.voiceListeningState,\n      };\n    },\n    innerSlotProps() {\n      return {\n        status: this.state.voiceListeningState.status,\n        errorCode: this.state.voiceListeningState.errorCode,\n        isListening: this.state.isListening,\n        transcript: this.state.voiceListeningState.transcript,\n        isSpeechFinal: this.state.voiceListeningState.isSpeechFinal,\n        isBrowserSupported: this.state.isBrowserSupported,\n      };\n    },\n  },\n  methods: {\n    handleClick(event) {\n      event.currentTarget.blur();\n      this.state.toggleListening();\n    },\n  },\n};\n</script>\n","import*as n from\"./widgets.js\";var o={install:function(o){Object.keys(n).forEach(function(t){o.component(n[t].name,n[t])})}};export{o as plugin};\n//# sourceMappingURL=plugin.js.map\n","// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = require('./_is-object');\nvar anObject = require('./_an-object');\nvar check = function (O, proto) {\n  anObject(O);\n  if (!isObject(proto) && proto !== null) throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function (test, buggy, set) {\n      try {\n        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch (e) { buggy = true; }\n      return function setPrototypeOf(O, proto) {\n        check(O, proto);\n        if (buggy) O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n","// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = require('./_object-keys-internal');\nvar hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n","'use strict';\n\n// NOTE: this behaves like lodash/defaults, but doesn't mutate the target\n// it also preserve keys order\nmodule.exports = function defaultsPure() {\n  var sources = Array.prototype.slice.call(arguments);\n\n  return sources.reduceRight(function(acc, source) {\n    Object.keys(Object(source)).forEach(function(key) {\n      if (source[key] === undefined) {\n        return;\n      }\n      if (acc[key] !== undefined) {\n        // remove if already added, so that we can add it in correct order\n        delete acc[key];\n      }\n      acc[key] = source[key];\n    });\n    return acc;\n  }, {});\n};\n","'use strict';\n\nmodule.exports = generateTrees;\n\nvar orderBy = require('../functions/orderBy');\nvar find = require('../functions/find');\nvar prepareHierarchicalFacetSortBy = require('../functions/formatSort');\n\nfunction generateTrees(state) {\n  return function generate(hierarchicalFacetResult, hierarchicalFacetIndex) {\n    var hierarchicalFacet = state.hierarchicalFacets[hierarchicalFacetIndex];\n    var hierarchicalFacetRefinement =\n      (state.hierarchicalFacetsRefinements[hierarchicalFacet.name] &&\n        state.hierarchicalFacetsRefinements[hierarchicalFacet.name][0]) ||\n      '';\n    var hierarchicalSeparator = state._getHierarchicalFacetSeparator(\n      hierarchicalFacet\n    );\n    var hierarchicalRootPath = state._getHierarchicalRootPath(\n      hierarchicalFacet\n    );\n    var hierarchicalShowParentLevel = state._getHierarchicalShowParentLevel(\n      hierarchicalFacet\n    );\n    var sortBy = prepareHierarchicalFacetSortBy(\n      state._getHierarchicalFacetSortBy(hierarchicalFacet)\n    );\n\n    var rootExhaustive = hierarchicalFacetResult.every(function(facetResult) {\n      return facetResult.exhaustive;\n    });\n\n    var generateTreeFn = generateHierarchicalTree(\n      sortBy,\n      hierarchicalSeparator,\n      hierarchicalRootPath,\n      hierarchicalShowParentLevel,\n      hierarchicalFacetRefinement\n    );\n\n    var results = hierarchicalFacetResult;\n\n    if (hierarchicalRootPath) {\n      results = hierarchicalFacetResult.slice(\n        hierarchicalRootPath.split(hierarchicalSeparator).length\n      );\n    }\n\n    return results.reduce(generateTreeFn, {\n      name: state.hierarchicalFacets[hierarchicalFacetIndex].name,\n      count: null, // root level, no count\n      isRefined: true, // root level, always refined\n      path: null, // root level, no path\n      exhaustive: rootExhaustive,\n      data: null\n    });\n  };\n}\n\nfunction generateHierarchicalTree(\n  sortBy,\n  hierarchicalSeparator,\n  hierarchicalRootPath,\n  hierarchicalShowParentLevel,\n  currentRefinement\n) {\n  return function generateTree(\n    hierarchicalTree,\n    hierarchicalFacetResult,\n    currentHierarchicalLevel\n  ) {\n    var parent = hierarchicalTree;\n\n    if (currentHierarchicalLevel > 0) {\n      var level = 0;\n\n      parent = hierarchicalTree;\n\n      while (level < currentHierarchicalLevel) {\n        /**\n         * @type {object[]]} hierarchical data\n         */\n        var data = parent && Array.isArray(parent.data) ? parent.data : [];\n        parent = find(data, function(subtree) {\n          return subtree.isRefined;\n        });\n        level++;\n      }\n    }\n\n    // we found a refined parent, let's add current level data under it\n    if (parent) {\n      // filter values in case an object has multiple categories:\n      //   {\n      //     categories: {\n      //       level0: ['beers', 'bières'],\n      //       level1: ['beers > IPA', 'bières > Belges']\n      //     }\n      //   }\n      //\n      // If parent refinement is `beers`, then we do not want to have `bières > Belges`\n      // showing up\n\n      var picked = Object.keys(hierarchicalFacetResult.data)\n        .map(function(facetValue) {\n          return [facetValue, hierarchicalFacetResult.data[facetValue]];\n        })\n        .filter(function(tuple) {\n          var facetValue = tuple[0];\n          return onlyMatchingTree(\n            facetValue,\n            parent.path || hierarchicalRootPath,\n            currentRefinement,\n            hierarchicalSeparator,\n            hierarchicalRootPath,\n            hierarchicalShowParentLevel\n          );\n        });\n\n      parent.data = orderBy(\n        picked.map(function(tuple) {\n          var facetValue = tuple[0];\n          var facetCount = tuple[1];\n\n          return format(\n            facetCount,\n            facetValue,\n            hierarchicalSeparator,\n            currentRefinement,\n            hierarchicalFacetResult.exhaustive\n          );\n        }),\n        sortBy[0],\n        sortBy[1]\n      );\n    }\n\n    return hierarchicalTree;\n  };\n}\n\nfunction onlyMatchingTree(\n  facetValue,\n  parentPath,\n  currentRefinement,\n  hierarchicalSeparator,\n  hierarchicalRootPath,\n  hierarchicalShowParentLevel\n) {\n  // we want the facetValue is a child of hierarchicalRootPath\n  if (\n    hierarchicalRootPath &&\n    (facetValue.indexOf(hierarchicalRootPath) !== 0 ||\n      hierarchicalRootPath === facetValue)\n  ) {\n    return false;\n  }\n\n  // we always want root levels (only when there is no prefix path)\n  return (\n    (!hierarchicalRootPath &&\n      facetValue.indexOf(hierarchicalSeparator) === -1) ||\n    // if there is a rootPath, being root level mean 1 level under rootPath\n    (hierarchicalRootPath &&\n      facetValue.split(hierarchicalSeparator).length -\n        hierarchicalRootPath.split(hierarchicalSeparator).length ===\n        1) ||\n    // if current refinement is a root level and current facetValue is a root level,\n    // keep the facetValue\n    (facetValue.indexOf(hierarchicalSeparator) === -1 &&\n      currentRefinement.indexOf(hierarchicalSeparator) === -1) ||\n    // currentRefinement is a child of the facet value\n    currentRefinement.indexOf(facetValue) === 0 ||\n    // facetValue is a child of the current parent, add it\n    (facetValue.indexOf(parentPath + hierarchicalSeparator) === 0 &&\n      (hierarchicalShowParentLevel ||\n        facetValue.indexOf(currentRefinement) === 0))\n  );\n}\n\nfunction format(\n  facetCount,\n  facetValue,\n  hierarchicalSeparator,\n  currentRefinement,\n  exhaustive\n) {\n  var parts = facetValue.split(hierarchicalSeparator);\n  return {\n    name: parts[parts.length - 1].trim(),\n    path: facetValue,\n    count: facetCount,\n    isRefined:\n      currentRefinement === facetValue ||\n      currentRefinement.indexOf(facetValue + hierarchicalSeparator) === 0,\n    exhaustive: exhaustive,\n    data: null\n  };\n}\n","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","// 22.1.3.31 Array.prototype[@@unscopables]\nvar UNSCOPABLES = require('./_wks')('unscopables');\nvar ArrayProto = Array.prototype;\nif (ArrayProto[UNSCOPABLES] == undefined) require('./_hide')(ArrayProto, UNSCOPABLES, {});\nmodule.exports = function (key) {\n  ArrayProto[UNSCOPABLES][key] = true;\n};\n","module.exports = function (exec) {\n  try {\n    return { e: false, v: exec() };\n  } catch (e) {\n    return { e: true, v: e };\n  }\n};\n","'use strict';\n\nfunction valToNumber(v) {\n  if (typeof v === 'number') {\n    return v;\n  } else if (typeof v === 'string') {\n    return parseFloat(v);\n  } else if (Array.isArray(v)) {\n    return v.map(valToNumber);\n  }\n\n  throw new Error('The value should be a number, a parsable string or an array of those.');\n}\n\nmodule.exports = valToNumber;\n","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer');\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n","'use strict';\n\n// @MAJOR can be replaced by native Array#findIndex when we change support\nmodule.exports = function find(array, comparator) {\n  if (!Array.isArray(array)) {\n    return -1;\n  }\n\n  for (var i = 0; i < array.length; i++) {\n    if (comparator(array[i])) {\n      return i;\n    }\n  }\n  return -1;\n};\n","var global = require('./_global');\nvar navigator = global.navigator;\n\nmodule.exports = navigator && navigator.userAgent || '';\n","'use strict';\n// 25.4.1.5 NewPromiseCapability(C)\nvar aFunction = require('./_a-function');\n\nfunction PromiseCapability(C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n}\n\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n","'use strict';\n\n// https://github.com/babel/babel/blob/3aaafae053fa75febb3aa45d45b6f00646e30ba4/packages/babel-helpers/src/helpers.js#L604-L620\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source === null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key;\n  var i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\n\nmodule.exports = _objectWithoutPropertiesLoose;\n","var $export = require('./_export');\nvar defined = require('./_defined');\nvar fails = require('./_fails');\nvar spaces = require('./_string-ws');\nvar space = '[' + spaces + ']';\nvar non = '\\u200b\\u0085';\nvar ltrim = RegExp('^' + space + space + '*');\nvar rtrim = RegExp(space + space + '*$');\n\nvar exporter = function (KEY, exec, ALIAS) {\n  var exp = {};\n  var FORCE = fails(function () {\n    return !!spaces[KEY]() || non[KEY]() != non;\n  });\n  var fn = exp[KEY] = FORCE ? exec(trim) : spaces[KEY];\n  if (ALIAS) exp[ALIAS] = fn;\n  $export($export.P + $export.F * FORCE, 'String', exp);\n};\n\n// 1 -> String#trimLeft\n// 2 -> String#trimRight\n// 3 -> String#trim\nvar trim = exporter.trim = function (string, TYPE) {\n  string = String(defined(string));\n  if (TYPE & 1) string = string.replace(ltrim, '');\n  if (TYPE & 2) string = string.replace(rtrim, '');\n  return string;\n};\n\nmodule.exports = exporter;\n","var $iterators = require('./es6.array.iterator');\nvar getKeys = require('./_object-keys');\nvar redefine = require('./_redefine');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar wks = require('./_wks');\nvar ITERATOR = wks('iterator');\nvar TO_STRING_TAG = wks('toStringTag');\nvar ArrayValues = Iterators.Array;\n\nvar DOMIterables = {\n  CSSRuleList: true, // TODO: Not spec compliant, should be false.\n  CSSStyleDeclaration: false,\n  CSSValueList: false,\n  ClientRectList: false,\n  DOMRectList: false,\n  DOMStringList: false,\n  DOMTokenList: true,\n  DataTransferItemList: false,\n  FileList: false,\n  HTMLAllCollection: false,\n  HTMLCollection: false,\n  HTMLFormElement: false,\n  HTMLSelectElement: false,\n  MediaList: true, // TODO: Not spec compliant, should be false.\n  MimeTypeArray: false,\n  NamedNodeMap: false,\n  NodeList: true,\n  PaintRequestList: false,\n  Plugin: false,\n  PluginArray: false,\n  SVGLengthList: false,\n  SVGNumberList: false,\n  SVGPathSegList: false,\n  SVGPointList: false,\n  SVGStringList: false,\n  SVGTransformList: false,\n  SourceBufferList: false,\n  StyleSheetList: true, // TODO: Not spec compliant, should be false.\n  TextTrackCueList: false,\n  TextTrackList: false,\n  TouchList: false\n};\n\nfor (var collections = getKeys(DOMIterables), i = 0; i < collections.length; i++) {\n  var NAME = collections[i];\n  var explicit = DOMIterables[NAME];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  var key;\n  if (proto) {\n    if (!proto[ITERATOR]) hide(proto, ITERATOR, ArrayValues);\n    if (!proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n    Iterators[NAME] = ArrayValues;\n    if (explicit) for (key in $iterators) if (!proto[key]) redefine(proto, key, $iterators[key], true);\n  }\n}\n","'use strict';\n\nvar merge = require('../functions/merge');\nvar defaultsPure = require('../functions/defaultsPure');\nvar orderBy = require('../functions/orderBy');\nvar compact = require('../functions/compact');\nvar find = require('../functions/find');\nvar findIndex = require('../functions/findIndex');\nvar formatSort = require('../functions/formatSort');\n\nvar generateHierarchicalTree = require('./generate-hierarchical-tree');\n\n/**\n * @typedef SearchResults.Facet\n * @type {object}\n * @property {string} name name of the attribute in the record\n * @property {object} data the faceting data: value, number of entries\n * @property {object} stats undefined unless facet_stats is retrieved from algolia\n */\n\n/**\n * @typedef SearchResults.HierarchicalFacet\n * @type {object}\n * @property {string} name name of the current value given the hierarchical level, trimmed.\n * If root node, you get the facet name\n * @property {number} count number of objects matching this hierarchical value\n * @property {string} path the current hierarchical value full path\n * @property {boolean} isRefined `true` if the current value was refined, `false` otherwise\n * @property {HierarchicalFacet[]} data sub values for the current level\n */\n\n/**\n * @typedef SearchResults.FacetValue\n * @type {object}\n * @property {string} name the facet value itself\n * @property {number} count times this facet appears in the results\n * @property {boolean} isRefined is the facet currently selected\n * @property {boolean} isExcluded is the facet currently excluded (only for conjunctive facets)\n */\n\n/**\n * @typedef Refinement\n * @type {object}\n * @property {string} type the type of filter used:\n * `numeric`, `facet`, `exclude`, `disjunctive`, `hierarchical`\n * @property {string} attributeName name of the attribute used for filtering\n * @property {string} name the value of the filter\n * @property {number} numericValue the value as a number. Only for numeric filters.\n * @property {string} operator the operator used. Only for numeric filters.\n * @property {number} count the number of computed hits for this filter. Only on facets.\n * @property {boolean} exhaustive if the count is exhaustive\n */\n\n/**\n * @param {string[]} attributes\n */\nfunction getIndices(attributes) {\n  var indices = {};\n\n  attributes.forEach(function(val, idx) {\n    indices[val] = idx;\n  });\n\n  return indices;\n}\n\nfunction assignFacetStats(dest, facetStats, key) {\n  if (facetStats && facetStats[key]) {\n    dest.stats = facetStats[key];\n  }\n}\n\n/**\n * @typedef {Object} HierarchicalFacet\n * @property {string} name\n * @property {string[]} attributes\n */\n\n/**\n * @param {HierarchicalFacet[]} hierarchicalFacets\n * @param {string} hierarchicalAttributeName\n */\nfunction findMatchingHierarchicalFacetFromAttributeName(\n  hierarchicalFacets,\n  hierarchicalAttributeName\n) {\n  return find(hierarchicalFacets, function facetKeyMatchesAttribute(\n    hierarchicalFacet\n  ) {\n    var facetNames = hierarchicalFacet.attributes || [];\n    return facetNames.indexOf(hierarchicalAttributeName) > -1;\n  });\n}\n\n/*eslint-disable */\n/**\n * Constructor for SearchResults\n * @class\n * @classdesc SearchResults contains the results of a query to Algolia using the\n * {@link AlgoliaSearchHelper}.\n * @param {SearchParameters} state state that led to the response\n * @param {array.<object>} results the results from algolia client\n * @example <caption>SearchResults of the first query in\n * <a href=\"http://demos.algolia.com/instant-search-demo\">the instant search demo</a></caption>\n{\n   \"hitsPerPage\": 10,\n   \"processingTimeMS\": 2,\n   \"facets\": [\n      {\n         \"name\": \"type\",\n         \"data\": {\n            \"HardGood\": 6627,\n            \"BlackTie\": 550,\n            \"Music\": 665,\n            \"Software\": 131,\n            \"Game\": 456,\n            \"Movie\": 1571\n         },\n         \"exhaustive\": false\n      },\n      {\n         \"exhaustive\": false,\n         \"data\": {\n            \"Free shipping\": 5507\n         },\n         \"name\": \"shipping\"\n      }\n  ],\n   \"hits\": [\n      {\n         \"thumbnailImage\": \"http://img.bbystatic.com/BestBuy_US/images/products/1688/1688832_54x108_s.gif\",\n         \"_highlightResult\": {\n            \"shortDescription\": {\n               \"matchLevel\": \"none\",\n               \"value\": \"Safeguard your PC, Mac, Android and iOS devices with comprehensive Internet protection\",\n               \"matchedWords\": []\n            },\n            \"category\": {\n               \"matchLevel\": \"none\",\n               \"value\": \"Computer Security Software\",\n               \"matchedWords\": []\n            },\n            \"manufacturer\": {\n               \"matchedWords\": [],\n               \"value\": \"Webroot\",\n               \"matchLevel\": \"none\"\n            },\n            \"name\": {\n               \"value\": \"Webroot SecureAnywhere Internet Security (3-Device) (1-Year Subscription) - Mac/Windows\",\n               \"matchedWords\": [],\n               \"matchLevel\": \"none\"\n            }\n         },\n         \"image\": \"http://img.bbystatic.com/BestBuy_US/images/products/1688/1688832_105x210_sc.jpg\",\n         \"shipping\": \"Free shipping\",\n         \"bestSellingRank\": 4,\n         \"shortDescription\": \"Safeguard your PC, Mac, Android and iOS devices with comprehensive Internet protection\",\n         \"url\": \"http://www.bestbuy.com/site/webroot-secureanywhere-internet-security-3-devi…d=1219060687969&skuId=1688832&cmp=RMX&ky=2d3GfEmNIzjA0vkzveHdZEBgpPCyMnLTJ\",\n         \"name\": \"Webroot SecureAnywhere Internet Security (3-Device) (1-Year Subscription) - Mac/Windows\",\n         \"category\": \"Computer Security Software\",\n         \"salePrice_range\": \"1 - 50\",\n         \"objectID\": \"1688832\",\n         \"type\": \"Software\",\n         \"customerReviewCount\": 5980,\n         \"salePrice\": 49.99,\n         \"manufacturer\": \"Webroot\"\n      },\n      ....\n  ],\n   \"nbHits\": 10000,\n   \"disjunctiveFacets\": [\n      {\n         \"exhaustive\": false,\n         \"data\": {\n            \"5\": 183,\n            \"12\": 112,\n            \"7\": 149,\n            ...\n         },\n         \"name\": \"customerReviewCount\",\n         \"stats\": {\n            \"max\": 7461,\n            \"avg\": 157.939,\n            \"min\": 1\n         }\n      },\n      {\n         \"data\": {\n            \"Printer Ink\": 142,\n            \"Wireless Speakers\": 60,\n            \"Point & Shoot Cameras\": 48,\n            ...\n         },\n         \"name\": \"category\",\n         \"exhaustive\": false\n      },\n      {\n         \"exhaustive\": false,\n         \"data\": {\n            \"> 5000\": 2,\n            \"1 - 50\": 6524,\n            \"501 - 2000\": 566,\n            \"201 - 500\": 1501,\n            \"101 - 200\": 1360,\n            \"2001 - 5000\": 47\n         },\n         \"name\": \"salePrice_range\"\n      },\n      {\n         \"data\": {\n            \"Dynex™\": 202,\n            \"Insignia™\": 230,\n            \"PNY\": 72,\n            ...\n         },\n         \"name\": \"manufacturer\",\n         \"exhaustive\": false\n      }\n  ],\n   \"query\": \"\",\n   \"nbPages\": 100,\n   \"page\": 0,\n   \"index\": \"bestbuy\"\n}\n **/\n/*eslint-enable */\nfunction SearchResults(state, results) {\n  var mainSubResponse = results[0];\n\n  this._rawResults = results;\n\n  var self = this;\n\n  // https://www.algolia.com/doc/api-reference/api-methods/search/#response\n  Object.keys(mainSubResponse).forEach(function(key) {\n    self[key] = mainSubResponse[key];\n  });\n\n  /**\n   * query used to generate the results\n   * @name query\n   * @member {string}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * The query as parsed by the engine given all the rules.\n   * @name parsedQuery\n   * @member {string}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * all the records that match the search parameters. Each record is\n   * augmented with a new attribute `_highlightResult`\n   * which is an object keyed by attribute and with the following properties:\n   *  - `value` : the value of the facet highlighted (html)\n   *  - `matchLevel`: full, partial or none depending on how the query terms match\n   * @name hits\n   * @member {object[]}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * index where the results come from\n   * @name index\n   * @member {string}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * number of hits per page requested\n   * @name hitsPerPage\n   * @member {number}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * total number of hits of this query on the index\n   * @name nbHits\n   * @member {number}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * total number of pages with respect to the number of hits per page and the total number of hits\n   * @name nbPages\n   * @member {number}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * current page\n   * @name page\n   * @member {number}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * The position if the position was guessed by IP.\n   * @name aroundLatLng\n   * @member {string}\n   * @memberof SearchResults\n   * @instance\n   * @example \"48.8637,2.3615\",\n   */\n  /**\n   * The radius computed by Algolia.\n   * @name automaticRadius\n   * @member {string}\n   * @memberof SearchResults\n   * @instance\n   * @example \"126792922\",\n   */\n  /**\n   * String identifying the server used to serve this request.\n   *\n   * getRankingInfo needs to be set to `true` for this to be returned\n   *\n   * @name serverUsed\n   * @member {string}\n   * @memberof SearchResults\n   * @instance\n   * @example \"c7-use-2.algolia.net\",\n   */\n  /**\n   * Boolean that indicates if the computation of the counts did time out.\n   * @deprecated\n   * @name timeoutCounts\n   * @member {boolean}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * Boolean that indicates if the computation of the hits did time out.\n   * @deprecated\n   * @name timeoutHits\n   * @member {boolean}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * True if the counts of the facets is exhaustive\n   * @name exhaustiveFacetsCount\n   * @member {boolean}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * True if the number of hits is exhaustive\n   * @name exhaustiveNbHits\n   * @member {boolean}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * Contains the userData if they are set by a [query rule](https://www.algolia.com/doc/guides/query-rules/query-rules-overview/).\n   * @name userData\n   * @member {object[]}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * queryID is the unique identifier of the query used to generate the current search results.\n   * This value is only available if the `clickAnalytics` search parameter is set to `true`.\n   * @name queryID\n   * @member {string}\n   * @memberof SearchResults\n   * @instance\n   */\n\n  /**\n   * sum of the processing time of all the queries\n   * @member {number}\n   */\n  this.processingTimeMS = results.reduce(function(sum, result) {\n    return result.processingTimeMS === undefined\n      ? sum\n      : sum + result.processingTimeMS;\n  }, 0);\n\n  /**\n   * disjunctive facets results\n   * @member {SearchResults.Facet[]}\n   */\n  this.disjunctiveFacets = [];\n  /**\n   * disjunctive facets results\n   * @member {SearchResults.HierarchicalFacet[]}\n   */\n  this.hierarchicalFacets = state.hierarchicalFacets.map(function initFutureTree() {\n    return [];\n  });\n  /**\n   * other facets results\n   * @member {SearchResults.Facet[]}\n   */\n  this.facets = [];\n\n  var disjunctiveFacets = state.getRefinedDisjunctiveFacets();\n\n  var facetsIndices = getIndices(state.facets);\n  var disjunctiveFacetsIndices = getIndices(state.disjunctiveFacets);\n  var nextDisjunctiveResult = 1;\n\n  // Since we send request only for disjunctive facets that have been refined,\n  // we get the facets information from the first, general, response.\n\n  var mainFacets = mainSubResponse.facets || {};\n\n  Object.keys(mainFacets).forEach(function(facetKey) {\n    var facetValueObject = mainFacets[facetKey];\n\n    var hierarchicalFacet = findMatchingHierarchicalFacetFromAttributeName(\n      state.hierarchicalFacets,\n      facetKey\n    );\n\n    if (hierarchicalFacet) {\n      // Place the hierarchicalFacet data at the correct index depending on\n      // the attributes order that was defined at the helper initialization\n      var facetIndex = hierarchicalFacet.attributes.indexOf(facetKey);\n      var idxAttributeName = findIndex(state.hierarchicalFacets, function(f) {\n        return f.name === hierarchicalFacet.name;\n      });\n      self.hierarchicalFacets[idxAttributeName][facetIndex] = {\n        attribute: facetKey,\n        data: facetValueObject,\n        exhaustive: mainSubResponse.exhaustiveFacetsCount\n      };\n    } else {\n      var isFacetDisjunctive = state.disjunctiveFacets.indexOf(facetKey) !== -1;\n      var isFacetConjunctive = state.facets.indexOf(facetKey) !== -1;\n      var position;\n\n      if (isFacetDisjunctive) {\n        position = disjunctiveFacetsIndices[facetKey];\n        self.disjunctiveFacets[position] = {\n          name: facetKey,\n          data: facetValueObject,\n          exhaustive: mainSubResponse.exhaustiveFacetsCount\n        };\n        assignFacetStats(self.disjunctiveFacets[position], mainSubResponse.facets_stats, facetKey);\n      }\n      if (isFacetConjunctive) {\n        position = facetsIndices[facetKey];\n        self.facets[position] = {\n          name: facetKey,\n          data: facetValueObject,\n          exhaustive: mainSubResponse.exhaustiveFacetsCount\n        };\n        assignFacetStats(self.facets[position], mainSubResponse.facets_stats, facetKey);\n      }\n    }\n  });\n\n  // Make sure we do not keep holes within the hierarchical facets\n  this.hierarchicalFacets = compact(this.hierarchicalFacets);\n\n  // aggregate the refined disjunctive facets\n  disjunctiveFacets.forEach(function(disjunctiveFacet) {\n    var result = results[nextDisjunctiveResult];\n    var facets = result && result.facets ? result.facets : {};\n    var hierarchicalFacet = state.getHierarchicalFacetByName(disjunctiveFacet);\n\n    // There should be only item in facets.\n    Object.keys(facets).forEach(function(dfacet) {\n      var facetResults = facets[dfacet];\n\n      var position;\n\n      if (hierarchicalFacet) {\n        position = findIndex(state.hierarchicalFacets, function(f) {\n          return f.name === hierarchicalFacet.name;\n        });\n        var attributeIndex = findIndex(self.hierarchicalFacets[position], function(f) {\n          return f.attribute === dfacet;\n        });\n\n        // previous refinements and no results so not able to find it\n        if (attributeIndex === -1) {\n          return;\n        }\n\n        self.hierarchicalFacets[position][attributeIndex].data = merge(\n          {},\n          self.hierarchicalFacets[position][attributeIndex].data,\n          facetResults\n        );\n      } else {\n        position = disjunctiveFacetsIndices[dfacet];\n\n        var dataFromMainRequest = mainSubResponse.facets && mainSubResponse.facets[dfacet] || {};\n\n        self.disjunctiveFacets[position] = {\n          name: dfacet,\n          data: defaultsPure({}, facetResults, dataFromMainRequest),\n          exhaustive: result.exhaustiveFacetsCount\n        };\n        assignFacetStats(self.disjunctiveFacets[position], result.facets_stats, dfacet);\n\n        if (state.disjunctiveFacetsRefinements[dfacet]) {\n          state.disjunctiveFacetsRefinements[dfacet].forEach(function(refinementValue) {\n            // add the disjunctive refinements if it is no more retrieved\n            if (!self.disjunctiveFacets[position].data[refinementValue] &&\n              state.disjunctiveFacetsRefinements[dfacet].indexOf(refinementValue) > -1) {\n              self.disjunctiveFacets[position].data[refinementValue] = 0;\n            }\n          });\n        }\n      }\n    });\n    nextDisjunctiveResult++;\n  });\n\n  // if we have some root level values for hierarchical facets, merge them\n  state.getRefinedHierarchicalFacets().forEach(function(refinedFacet) {\n    var hierarchicalFacet = state.getHierarchicalFacetByName(refinedFacet);\n    var separator = state._getHierarchicalFacetSeparator(hierarchicalFacet);\n\n    var currentRefinement = state.getHierarchicalRefinement(refinedFacet);\n    // if we are already at a root refinement (or no refinement at all), there is no\n    // root level values request\n    if (currentRefinement.length === 0 || currentRefinement[0].split(separator).length < 2) {\n      return;\n    }\n\n    var result = results[nextDisjunctiveResult];\n    var facets = result && result.facets\n      ? result.facets\n      : {};\n    Object.keys(facets).forEach(function(dfacet) {\n      var facetResults = facets[dfacet];\n      var position = findIndex(state.hierarchicalFacets, function(f) {\n        return f.name === hierarchicalFacet.name;\n      });\n      var attributeIndex = findIndex(self.hierarchicalFacets[position], function(f) {\n        return f.attribute === dfacet;\n      });\n\n      // previous refinements and no results so not able to find it\n      if (attributeIndex === -1) {\n        return;\n      }\n\n      // when we always get root levels, if the hits refinement is `beers > IPA` (count: 5),\n      // then the disjunctive values will be `beers` (count: 100),\n      // but we do not want to display\n      //   | beers (100)\n      //     > IPA (5)\n      // We want\n      //   | beers (5)\n      //     > IPA (5)\n      var defaultData = {};\n\n      if (currentRefinement.length > 0) {\n        var root = currentRefinement[0].split(separator)[0];\n        defaultData[root] = self.hierarchicalFacets[position][attributeIndex].data[root];\n      }\n\n      self.hierarchicalFacets[position][attributeIndex].data = defaultsPure(\n        defaultData,\n        facetResults,\n        self.hierarchicalFacets[position][attributeIndex].data\n      );\n    });\n\n    nextDisjunctiveResult++;\n  });\n\n  // add the excludes\n  Object.keys(state.facetsExcludes).forEach(function(facetName) {\n    var excludes = state.facetsExcludes[facetName];\n    var position = facetsIndices[facetName];\n\n    self.facets[position] = {\n      name: facetName,\n      data: mainSubResponse.facets[facetName],\n      exhaustive: mainSubResponse.exhaustiveFacetsCount\n    };\n    excludes.forEach(function(facetValue) {\n      self.facets[position] = self.facets[position] || {name: facetName};\n      self.facets[position].data = self.facets[position].data || {};\n      self.facets[position].data[facetValue] = 0;\n    });\n  });\n\n  /**\n   * @type {Array}\n   */\n  this.hierarchicalFacets = this.hierarchicalFacets.map(generateHierarchicalTree(state));\n\n  /**\n   * @type {Array}\n   */\n  this.facets = compact(this.facets);\n  /**\n   * @type {Array}\n   */\n  this.disjunctiveFacets = compact(this.disjunctiveFacets);\n\n  this._state = state;\n}\n\n/**\n * Get a facet object with its name\n * @deprecated\n * @param {string} name name of the faceted attribute\n * @return {SearchResults.Facet} the facet object\n */\nSearchResults.prototype.getFacetByName = function(name) {\n  function predicate(facet) {\n    return facet.name === name;\n  }\n\n  return find(this.facets, predicate) ||\n    find(this.disjunctiveFacets, predicate) ||\n    find(this.hierarchicalFacets, predicate);\n};\n\n/**\n * Get the facet values of a specified attribute from a SearchResults object.\n * @private\n * @param {SearchResults} results the search results to search in\n * @param {string} attribute name of the faceted attribute to search for\n * @return {array|object} facet values. For the hierarchical facets it is an object.\n */\nfunction extractNormalizedFacetValues(results, attribute) {\n  function predicate(facet) {\n    return facet.name === attribute;\n  }\n\n  if (results._state.isConjunctiveFacet(attribute)) {\n    var facet = find(results.facets, predicate);\n    if (!facet) return [];\n\n    return Object.keys(facet.data).map(function(name) {\n      return {\n        name: name,\n        count: facet.data[name],\n        isRefined: results._state.isFacetRefined(attribute, name),\n        isExcluded: results._state.isExcludeRefined(attribute, name)\n      };\n    });\n  } else if (results._state.isDisjunctiveFacet(attribute)) {\n    var disjunctiveFacet = find(results.disjunctiveFacets, predicate);\n    if (!disjunctiveFacet) return [];\n\n    return Object.keys(disjunctiveFacet.data).map(function(name) {\n      return {\n        name: name,\n        count: disjunctiveFacet.data[name],\n        isRefined: results._state.isDisjunctiveFacetRefined(attribute, name)\n      };\n    });\n  } else if (results._state.isHierarchicalFacet(attribute)) {\n    return find(results.hierarchicalFacets, predicate);\n  }\n}\n\n/**\n * Sort nodes of a hierarchical facet results\n * @private\n * @param {HierarchicalFacet} node node to upon which we want to apply the sort\n */\nfunction recSort(sortFn, node) {\n  if (!node.data || node.data.length === 0) {\n    return node;\n  }\n\n  var children = node.data.map(function(childNode) {\n    return recSort(sortFn, childNode);\n  });\n  var sortedChildren = sortFn(children);\n  var newNode = merge({}, node, {data: sortedChildren});\n  return newNode;\n}\n\nSearchResults.DEFAULT_SORT = ['isRefined:desc', 'count:desc', 'name:asc'];\n\nfunction vanillaSortFn(order, data) {\n  return data.sort(order);\n}\n\n/**\n * Get a the list of values for a given facet attribute. Those values are sorted\n * refinement first, descending count (bigger value on top), and name ascending\n * (alphabetical order). The sort formula can overridden using either string based\n * predicates or a function.\n *\n * This method will return all the values returned by the Algolia engine plus all\n * the values already refined. This means that it can happen that the\n * `maxValuesPerFacet` [configuration](https://www.algolia.com/doc/rest-api/search#param-maxValuesPerFacet)\n * might not be respected if you have facet values that are already refined.\n * @param {string} attribute attribute name\n * @param {object} opts configuration options.\n * @param {Array.<string> | function} opts.sortBy\n * When using strings, it consists of\n * the name of the [FacetValue](#SearchResults.FacetValue) or the\n * [HierarchicalFacet](#SearchResults.HierarchicalFacet) attributes with the\n * order (`asc` or `desc`). For example to order the value by count, the\n * argument would be `['count:asc']`.\n *\n * If only the attribute name is specified, the ordering defaults to the one\n * specified in the default value for this attribute.\n *\n * When not specified, the order is\n * ascending.  This parameter can also be a function which takes two facet\n * values and should return a number, 0 if equal, 1 if the first argument is\n * bigger or -1 otherwise.\n *\n * The default value for this attribute `['isRefined:desc', 'count:desc', 'name:asc']`\n * @return {FacetValue[]|HierarchicalFacet|undefined} depending on the type of facet of\n * the attribute requested (hierarchical, disjunctive or conjunctive)\n * @example\n * helper.on('result', function(event){\n *   //get values ordered only by name ascending using the string predicate\n *   event.results.getFacetValues('city', {sortBy: ['name:asc']});\n *   //get values  ordered only by count ascending using a function\n *   event.results.getFacetValues('city', {\n *     // this is equivalent to ['count:asc']\n *     sortBy: function(a, b) {\n *       if (a.count === b.count) return 0;\n *       if (a.count > b.count)   return 1;\n *       if (b.count > a.count)   return -1;\n *     }\n *   });\n * });\n */\nSearchResults.prototype.getFacetValues = function(attribute, opts) {\n  var facetValues = extractNormalizedFacetValues(this, attribute);\n  if (!facetValues) {\n    return undefined;\n  }\n\n  var options = defaultsPure({}, opts, {sortBy: SearchResults.DEFAULT_SORT});\n\n  if (Array.isArray(options.sortBy)) {\n    var order = formatSort(options.sortBy, SearchResults.DEFAULT_SORT);\n    if (Array.isArray(facetValues)) {\n      return orderBy(facetValues, order[0], order[1]);\n    }\n    // If facetValues is not an array, it's an object thus a hierarchical facet object\n    return recSort(function(hierarchicalFacetValues) {\n      return orderBy(hierarchicalFacetValues, order[0], order[1]);\n    }, facetValues);\n  } else if (typeof options.sortBy === 'function') {\n    if (Array.isArray(facetValues)) {\n      return facetValues.sort(options.sortBy);\n    }\n    // If facetValues is not an array, it's an object thus a hierarchical facet object\n    return recSort(function(data) {\n      return vanillaSortFn(options.sortBy, data);\n    }, facetValues);\n  }\n  throw new Error(\n    'options.sortBy is optional but if defined it must be ' +\n    'either an array of string (predicates) or a sorting function'\n  );\n};\n\n/**\n * Returns the facet stats if attribute is defined and the facet contains some.\n * Otherwise returns undefined.\n * @param {string} attribute name of the faceted attribute\n * @return {object} The stats of the facet\n */\nSearchResults.prototype.getFacetStats = function(attribute) {\n  if (this._state.isConjunctiveFacet(attribute)) {\n    return getFacetStatsIfAvailable(this.facets, attribute);\n  } else if (this._state.isDisjunctiveFacet(attribute)) {\n    return getFacetStatsIfAvailable(this.disjunctiveFacets, attribute);\n  }\n\n  return undefined;\n};\n\n/**\n * @typedef {Object} FacetListItem\n * @property {string} name\n */\n\n/**\n * @param {FacetListItem[]} facetList (has more items, but enough for here)\n * @param {string} facetName\n */\nfunction getFacetStatsIfAvailable(facetList, facetName) {\n  var data = find(facetList, function(facet) {\n    return facet.name === facetName;\n  });\n  return data && data.stats;\n}\n\n/**\n * Returns all refinements for all filters + tags. It also provides\n * additional information: count and exhaustiveness for each filter.\n *\n * See the [refinement type](#Refinement) for an exhaustive view of the available\n * data.\n *\n * Note that for a numeric refinement, results are grouped per operator, this\n * means that it will return responses for operators which are empty.\n *\n * @return {Array.<Refinement>} all the refinements\n */\nSearchResults.prototype.getRefinements = function() {\n  var state = this._state;\n  var results = this;\n  var res = [];\n\n  Object.keys(state.facetsRefinements).forEach(function(attributeName) {\n    state.facetsRefinements[attributeName].forEach(function(name) {\n      res.push(getRefinement(state, 'facet', attributeName, name, results.facets));\n    });\n  });\n\n  Object.keys(state.facetsExcludes).forEach(function(attributeName) {\n    state.facetsExcludes[attributeName].forEach(function(name) {\n      res.push(getRefinement(state, 'exclude', attributeName, name, results.facets));\n    });\n  });\n\n  Object.keys(state.disjunctiveFacetsRefinements).forEach(function(attributeName) {\n    state.disjunctiveFacetsRefinements[attributeName].forEach(function(name) {\n      res.push(getRefinement(state, 'disjunctive', attributeName, name, results.disjunctiveFacets));\n    });\n  });\n\n  Object.keys(state.hierarchicalFacetsRefinements).forEach(function(attributeName) {\n    state.hierarchicalFacetsRefinements[attributeName].forEach(function(name) {\n      res.push(getHierarchicalRefinement(state, attributeName, name, results.hierarchicalFacets));\n    });\n  });\n\n\n  Object.keys(state.numericRefinements).forEach(function(attributeName) {\n    var operators = state.numericRefinements[attributeName];\n    Object.keys(operators).forEach(function(operator) {\n      operators[operator].forEach(function(value) {\n        res.push({\n          type: 'numeric',\n          attributeName: attributeName,\n          name: value,\n          numericValue: value,\n          operator: operator\n        });\n      });\n    });\n  });\n\n  state.tagRefinements.forEach(function(name) {\n    res.push({type: 'tag', attributeName: '_tags', name: name});\n  });\n\n  return res;\n};\n\n/**\n * @typedef {Object} Facet\n * @property {string} name\n * @property {Object} data\n * @property {boolean} exhaustive\n */\n\n/**\n * @param {*} state\n * @param {*} type\n * @param {string} attributeName\n * @param {*} name\n * @param {Facet[]} resultsFacets\n */\nfunction getRefinement(state, type, attributeName, name, resultsFacets) {\n  var facet = find(resultsFacets, function(f) {\n    return f.name === attributeName;\n  });\n  var count = facet && facet.data && facet.data[name] ? facet.data[name] : 0;\n  var exhaustive = (facet && facet.exhaustive) || false;\n\n  return {\n    type: type,\n    attributeName: attributeName,\n    name: name,\n    count: count,\n    exhaustive: exhaustive\n  };\n}\n\n/**\n * @param {*} state\n * @param {string} attributeName\n * @param {*} name\n * @param {Facet[]} resultsFacets\n */\nfunction getHierarchicalRefinement(state, attributeName, name, resultsFacets) {\n  var facetDeclaration = state.getHierarchicalFacetByName(attributeName);\n  var separator = state._getHierarchicalFacetSeparator(facetDeclaration);\n  var split = name.split(separator);\n  var rootFacet = find(resultsFacets, function(facet) {\n    return facet.name === attributeName;\n  });\n\n  var facet = split.reduce(function(intermediateFacet, part) {\n    var newFacet =\n      intermediateFacet && find(intermediateFacet.data, function(f) {\n        return f.name === part;\n      });\n    return newFacet !== undefined ? newFacet : intermediateFacet;\n  }, rootFacet);\n\n  var count = (facet && facet.count) || 0;\n  var exhaustive = (facet && facet.exhaustive) || false;\n  var path = (facet && facet.path) || '';\n\n  return {\n    type: 'hierarchical',\n    attributeName: attributeName,\n    name: path,\n    count: count,\n    exhaustive: exhaustive\n  };\n}\n\nmodule.exports = SearchResults;\n","var anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar newPromiseCapability = require('./_new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject');\nvar toLength = require('./_to-length');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty;\nvar isArray = Array.isArray;\n\nvar hexTable = (function () {\n    var array = [];\n    for (var i = 0; i < 256; ++i) {\n        array.push('%' + ((i < 16 ? '0' : '') + i.toString(16)).toUpperCase());\n    }\n\n    return array;\n}());\n\nvar compactQueue = function compactQueue(queue) {\n    while (queue.length > 1) {\n        var item = queue.pop();\n        var obj = item.obj[item.prop];\n\n        if (isArray(obj)) {\n            var compacted = [];\n\n            for (var j = 0; j < obj.length; ++j) {\n                if (typeof obj[j] !== 'undefined') {\n                    compacted.push(obj[j]);\n                }\n            }\n\n            item.obj[item.prop] = compacted;\n        }\n    }\n};\n\nvar arrayToObject = function arrayToObject(source, options) {\n    var obj = options && options.plainObjects ? Object.create(null) : {};\n    for (var i = 0; i < source.length; ++i) {\n        if (typeof source[i] !== 'undefined') {\n            obj[i] = source[i];\n        }\n    }\n\n    return obj;\n};\n\nvar merge = function merge(target, source, options) {\n    /* eslint no-param-reassign: 0 */\n    if (!source) {\n        return target;\n    }\n\n    if (typeof source !== 'object') {\n        if (isArray(target)) {\n            target.push(source);\n        } else if (target && typeof target === 'object') {\n            if ((options && (options.plainObjects || options.allowPrototypes)) || !has.call(Object.prototype, source)) {\n                target[source] = true;\n            }\n        } else {\n            return [target, source];\n        }\n\n        return target;\n    }\n\n    if (!target || typeof target !== 'object') {\n        return [target].concat(source);\n    }\n\n    var mergeTarget = target;\n    if (isArray(target) && !isArray(source)) {\n        mergeTarget = arrayToObject(target, options);\n    }\n\n    if (isArray(target) && isArray(source)) {\n        source.forEach(function (item, i) {\n            if (has.call(target, i)) {\n                var targetItem = target[i];\n                if (targetItem && typeof targetItem === 'object' && item && typeof item === 'object') {\n                    target[i] = merge(targetItem, item, options);\n                } else {\n                    target.push(item);\n                }\n            } else {\n                target[i] = item;\n            }\n        });\n        return target;\n    }\n\n    return Object.keys(source).reduce(function (acc, key) {\n        var value = source[key];\n\n        if (has.call(acc, key)) {\n            acc[key] = merge(acc[key], value, options);\n        } else {\n            acc[key] = value;\n        }\n        return acc;\n    }, mergeTarget);\n};\n\nvar assign = function assignSingleSource(target, source) {\n    return Object.keys(source).reduce(function (acc, key) {\n        acc[key] = source[key];\n        return acc;\n    }, target);\n};\n\nvar decode = function (str, decoder, charset) {\n    var strWithoutPlus = str.replace(/\\+/g, ' ');\n    if (charset === 'iso-8859-1') {\n        // unescape never throws, no try...catch needed:\n        return strWithoutPlus.replace(/%[0-9a-f]{2}/gi, unescape);\n    }\n    // utf-8\n    try {\n        return decodeURIComponent(strWithoutPlus);\n    } catch (e) {\n        return strWithoutPlus;\n    }\n};\n\nvar encode = function encode(str, defaultEncoder, charset) {\n    // This code was originally written by Brian White (mscdex) for the io.js core querystring library.\n    // It has been adapted here for stricter adherence to RFC 3986\n    if (str.length === 0) {\n        return str;\n    }\n\n    var string = str;\n    if (typeof str === 'symbol') {\n        string = Symbol.prototype.toString.call(str);\n    } else if (typeof str !== 'string') {\n        string = String(str);\n    }\n\n    if (charset === 'iso-8859-1') {\n        return escape(string).replace(/%u[0-9a-f]{4}/gi, function ($0) {\n            return '%26%23' + parseInt($0.slice(2), 16) + '%3B';\n        });\n    }\n\n    var out = '';\n    for (var i = 0; i < string.length; ++i) {\n        var c = string.charCodeAt(i);\n\n        if (\n            c === 0x2D // -\n            || c === 0x2E // .\n            || c === 0x5F // _\n            || c === 0x7E // ~\n            || (c >= 0x30 && c <= 0x39) // 0-9\n            || (c >= 0x41 && c <= 0x5A) // a-z\n            || (c >= 0x61 && c <= 0x7A) // A-Z\n        ) {\n            out += string.charAt(i);\n            continue;\n        }\n\n        if (c < 0x80) {\n            out = out + hexTable[c];\n            continue;\n        }\n\n        if (c < 0x800) {\n            out = out + (hexTable[0xC0 | (c >> 6)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        if (c < 0xD800 || c >= 0xE000) {\n            out = out + (hexTable[0xE0 | (c >> 12)] + hexTable[0x80 | ((c >> 6) & 0x3F)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        i += 1;\n        c = 0x10000 + (((c & 0x3FF) << 10) | (string.charCodeAt(i) & 0x3FF));\n        out += hexTable[0xF0 | (c >> 18)]\n            + hexTable[0x80 | ((c >> 12) & 0x3F)]\n            + hexTable[0x80 | ((c >> 6) & 0x3F)]\n            + hexTable[0x80 | (c & 0x3F)];\n    }\n\n    return out;\n};\n\nvar compact = function compact(value) {\n    var queue = [{ obj: { o: value }, prop: 'o' }];\n    var refs = [];\n\n    for (var i = 0; i < queue.length; ++i) {\n        var item = queue[i];\n        var obj = item.obj[item.prop];\n\n        var keys = Object.keys(obj);\n        for (var j = 0; j < keys.length; ++j) {\n            var key = keys[j];\n            var val = obj[key];\n            if (typeof val === 'object' && val !== null && refs.indexOf(val) === -1) {\n                queue.push({ obj: obj, prop: key });\n                refs.push(val);\n            }\n        }\n    }\n\n    compactQueue(queue);\n\n    return value;\n};\n\nvar isRegExp = function isRegExp(obj) {\n    return Object.prototype.toString.call(obj) === '[object RegExp]';\n};\n\nvar isBuffer = function isBuffer(obj) {\n    if (!obj || typeof obj !== 'object') {\n        return false;\n    }\n\n    return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));\n};\n\nvar combine = function combine(a, b) {\n    return [].concat(a, b);\n};\n\nvar maybeMap = function maybeMap(val, fn) {\n    if (isArray(val)) {\n        var mapped = [];\n        for (var i = 0; i < val.length; i += 1) {\n            mapped.push(fn(val[i]));\n        }\n        return mapped;\n    }\n    return fn(val);\n};\n\nmodule.exports = {\n    arrayToObject: arrayToObject,\n    assign: assign,\n    combine: combine,\n    compact: compact,\n    decode: decode,\n    encode: encode,\n    isBuffer: isBuffer,\n    isRegExp: isRegExp,\n    maybeMap: maybeMap,\n    merge: merge\n};\n","'use strict';\nvar global = require('./_global');\nvar has = require('./_has');\nvar cof = require('./_cof');\nvar inheritIfRequired = require('./_inherit-if-required');\nvar toPrimitive = require('./_to-primitive');\nvar fails = require('./_fails');\nvar gOPN = require('./_object-gopn').f;\nvar gOPD = require('./_object-gopd').f;\nvar dP = require('./_object-dp').f;\nvar $trim = require('./_string-trim').trim;\nvar NUMBER = 'Number';\nvar $Number = global[NUMBER];\nvar Base = $Number;\nvar proto = $Number.prototype;\n// Opera ~12 has broken Object#toString\nvar BROKEN_COF = cof(require('./_object-create')(proto)) == NUMBER;\nvar TRIM = 'trim' in String.prototype;\n\n// 7.1.3 ToNumber(argument)\nvar toNumber = function (argument) {\n  var it = toPrimitive(argument, false);\n  if (typeof it == 'string' && it.length > 2) {\n    it = TRIM ? it.trim() : $trim(it, 3);\n    var first = it.charCodeAt(0);\n    var third, radix, maxCode;\n    if (first === 43 || first === 45) {\n      third = it.charCodeAt(2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (it.charCodeAt(1)) {\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal /^0b[01]+$/i\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal /^0o[0-7]+$/i\n        default: return +it;\n      }\n      for (var digits = it.slice(2), i = 0, l = digits.length, code; i < l; i++) {\n        code = digits.charCodeAt(i);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\nif (!$Number(' 0o1') || !$Number('0b1') || $Number('+0x1')) {\n  $Number = function Number(value) {\n    var it = arguments.length < 1 ? 0 : value;\n    var that = this;\n    return that instanceof $Number\n      // check on 1..constructor(foo) case\n      && (BROKEN_COF ? fails(function () { proto.valueOf.call(that); }) : cof(that) != NUMBER)\n        ? inheritIfRequired(new Base(toNumber(it)), that, $Number) : toNumber(it);\n  };\n  for (var keys = require('./_descriptors') ? gOPN(Base) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES6 (in case, if modules with ES6 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (has(Base, key = keys[j]) && !has($Number, key)) {\n      dP($Number, key, gOPD(Base, key));\n    }\n  }\n  $Number.prototype = proto;\n  proto.constructor = $Number;\n  require('./_redefine')(global, NUMBER, $Number);\n}\n","module.exports = !require('./_descriptors') && !require('./_fails')(function () {\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","'use strict';\n\nvar utils = require('./utils');\n\nvar has = Object.prototype.hasOwnProperty;\nvar isArray = Array.isArray;\n\nvar defaults = {\n    allowDots: false,\n    allowPrototypes: false,\n    arrayLimit: 20,\n    charset: 'utf-8',\n    charsetSentinel: false,\n    comma: false,\n    decoder: utils.decode,\n    delimiter: '&',\n    depth: 5,\n    ignoreQueryPrefix: false,\n    interpretNumericEntities: false,\n    parameterLimit: 1000,\n    parseArrays: true,\n    plainObjects: false,\n    strictNullHandling: false\n};\n\nvar interpretNumericEntities = function (str) {\n    return str.replace(/&#(\\d+);/g, function ($0, numberStr) {\n        return String.fromCharCode(parseInt(numberStr, 10));\n    });\n};\n\nvar parseArrayValue = function (val, options) {\n    if (val && typeof val === 'string' && options.comma && val.indexOf(',') > -1) {\n        return val.split(',');\n    }\n\n    return val;\n};\n\n// This is what browsers will submit when the ✓ character occurs in an\n// application/x-www-form-urlencoded body and the encoding of the page containing\n// the form is iso-8859-1, or when the submitted form has an accept-charset\n// attribute of iso-8859-1. Presumably also with other charsets that do not contain\n// the ✓ character, such as us-ascii.\nvar isoSentinel = 'utf8=%26%2310003%3B'; // encodeURIComponent('&#10003;')\n\n// These are the percent-encoded utf-8 octets representing a checkmark, indicating that the request actually is utf-8 encoded.\nvar charsetSentinel = 'utf8=%E2%9C%93'; // encodeURIComponent('✓')\n\nvar parseValues = function parseQueryStringValues(str, options) {\n    var obj = {};\n    var cleanStr = options.ignoreQueryPrefix ? str.replace(/^\\?/, '') : str;\n    var limit = options.parameterLimit === Infinity ? undefined : options.parameterLimit;\n    var parts = cleanStr.split(options.delimiter, limit);\n    var skipIndex = -1; // Keep track of where the utf8 sentinel was found\n    var i;\n\n    var charset = options.charset;\n    if (options.charsetSentinel) {\n        for (i = 0; i < parts.length; ++i) {\n            if (parts[i].indexOf('utf8=') === 0) {\n                if (parts[i] === charsetSentinel) {\n                    charset = 'utf-8';\n                } else if (parts[i] === isoSentinel) {\n                    charset = 'iso-8859-1';\n                }\n                skipIndex = i;\n                i = parts.length; // The eslint settings do not allow break;\n            }\n        }\n    }\n\n    for (i = 0; i < parts.length; ++i) {\n        if (i === skipIndex) {\n            continue;\n        }\n        var part = parts[i];\n\n        var bracketEqualsPos = part.indexOf(']=');\n        var pos = bracketEqualsPos === -1 ? part.indexOf('=') : bracketEqualsPos + 1;\n\n        var key, val;\n        if (pos === -1) {\n            key = options.decoder(part, defaults.decoder, charset, 'key');\n            val = options.strictNullHandling ? null : '';\n        } else {\n            key = options.decoder(part.slice(0, pos), defaults.decoder, charset, 'key');\n            val = utils.maybeMap(\n                parseArrayValue(part.slice(pos + 1), options),\n                function (encodedVal) {\n                    return options.decoder(encodedVal, defaults.decoder, charset, 'value');\n                }\n            );\n        }\n\n        if (val && options.interpretNumericEntities && charset === 'iso-8859-1') {\n            val = interpretNumericEntities(val);\n        }\n\n        if (part.indexOf('[]=') > -1) {\n            val = isArray(val) ? [val] : val;\n        }\n\n        if (has.call(obj, key)) {\n            obj[key] = utils.combine(obj[key], val);\n        } else {\n            obj[key] = val;\n        }\n    }\n\n    return obj;\n};\n\nvar parseObject = function (chain, val, options, valuesParsed) {\n    var leaf = valuesParsed ? val : parseArrayValue(val, options);\n\n    for (var i = chain.length - 1; i >= 0; --i) {\n        var obj;\n        var root = chain[i];\n\n        if (root === '[]' && options.parseArrays) {\n            obj = [].concat(leaf);\n        } else {\n            obj = options.plainObjects ? Object.create(null) : {};\n            var cleanRoot = root.charAt(0) === '[' && root.charAt(root.length - 1) === ']' ? root.slice(1, -1) : root;\n            var index = parseInt(cleanRoot, 10);\n            if (!options.parseArrays && cleanRoot === '') {\n                obj = { 0: leaf };\n            } else if (\n                !isNaN(index)\n                && root !== cleanRoot\n                && String(index) === cleanRoot\n                && index >= 0\n                && (options.parseArrays && index <= options.arrayLimit)\n            ) {\n                obj = [];\n                obj[index] = leaf;\n            } else {\n                obj[cleanRoot] = leaf;\n            }\n        }\n\n        leaf = obj; // eslint-disable-line no-param-reassign\n    }\n\n    return leaf;\n};\n\nvar parseKeys = function parseQueryStringKeys(givenKey, val, options, valuesParsed) {\n    if (!givenKey) {\n        return;\n    }\n\n    // Transform dot notation to bracket notation\n    var key = options.allowDots ? givenKey.replace(/\\.([^.[]+)/g, '[$1]') : givenKey;\n\n    // The regex chunks\n\n    var brackets = /(\\[[^[\\]]*])/;\n    var child = /(\\[[^[\\]]*])/g;\n\n    // Get the parent\n\n    var segment = options.depth > 0 && brackets.exec(key);\n    var parent = segment ? key.slice(0, segment.index) : key;\n\n    // Stash the parent if it exists\n\n    var keys = [];\n    if (parent) {\n        // If we aren't using plain objects, optionally prefix keys that would overwrite object prototype properties\n        if (!options.plainObjects && has.call(Object.prototype, parent)) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n\n        keys.push(parent);\n    }\n\n    // Loop through children appending to the array until we hit depth\n\n    var i = 0;\n    while (options.depth > 0 && (segment = child.exec(key)) !== null && i < options.depth) {\n        i += 1;\n        if (!options.plainObjects && has.call(Object.prototype, segment[1].slice(1, -1))) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n        keys.push(segment[1]);\n    }\n\n    // If there's a remainder, just add whatever is left\n\n    if (segment) {\n        keys.push('[' + key.slice(segment.index) + ']');\n    }\n\n    return parseObject(keys, val, options, valuesParsed);\n};\n\nvar normalizeParseOptions = function normalizeParseOptions(opts) {\n    if (!opts) {\n        return defaults;\n    }\n\n    if (opts.decoder !== null && opts.decoder !== undefined && typeof opts.decoder !== 'function') {\n        throw new TypeError('Decoder has to be a function.');\n    }\n\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n    var charset = typeof opts.charset === 'undefined' ? defaults.charset : opts.charset;\n\n    return {\n        allowDots: typeof opts.allowDots === 'undefined' ? defaults.allowDots : !!opts.allowDots,\n        allowPrototypes: typeof opts.allowPrototypes === 'boolean' ? opts.allowPrototypes : defaults.allowPrototypes,\n        arrayLimit: typeof opts.arrayLimit === 'number' ? opts.arrayLimit : defaults.arrayLimit,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        comma: typeof opts.comma === 'boolean' ? opts.comma : defaults.comma,\n        decoder: typeof opts.decoder === 'function' ? opts.decoder : defaults.decoder,\n        delimiter: typeof opts.delimiter === 'string' || utils.isRegExp(opts.delimiter) ? opts.delimiter : defaults.delimiter,\n        // eslint-disable-next-line no-implicit-coercion, no-extra-parens\n        depth: (typeof opts.depth === 'number' || opts.depth === false) ? +opts.depth : defaults.depth,\n        ignoreQueryPrefix: opts.ignoreQueryPrefix === true,\n        interpretNumericEntities: typeof opts.interpretNumericEntities === 'boolean' ? opts.interpretNumericEntities : defaults.interpretNumericEntities,\n        parameterLimit: typeof opts.parameterLimit === 'number' ? opts.parameterLimit : defaults.parameterLimit,\n        parseArrays: opts.parseArrays !== false,\n        plainObjects: typeof opts.plainObjects === 'boolean' ? opts.plainObjects : defaults.plainObjects,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling\n    };\n};\n\nmodule.exports = function (str, opts) {\n    var options = normalizeParseOptions(opts);\n\n    if (str === '' || str === null || typeof str === 'undefined') {\n        return options.plainObjects ? Object.create(null) : {};\n    }\n\n    var tempObj = typeof str === 'string' ? parseValues(str, options) : str;\n    var obj = options.plainObjects ? Object.create(null) : {};\n\n    // Iterate over the keys and setup the new object\n\n    var keys = Object.keys(tempObj);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var newObj = parseKeys(key, tempObj[key], options, typeof str === 'string');\n        obj = utils.merge(obj, newObj, options);\n    }\n\n    return utils.compact(obj);\n};\n","var id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n","'use strict';\nvar addToUnscopables = require('./_add-to-unscopables');\nvar step = require('./_iter-step');\nvar Iterators = require('./_iterators');\nvar toIObject = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function (iterated, kind) {\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var kind = this._k;\n  var index = this._i++;\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return step(1);\n  }\n  if (kind == 'keys') return step(0, index);\n  if (kind == 'values') return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","'use strict';\n\nfunction compareAscending(value, other) {\n  if (value !== other) {\n    var valIsDefined = value !== undefined;\n    var valIsNull = value === null;\n\n    var othIsDefined = other !== undefined;\n    var othIsNull = other === null;\n\n    if (\n      (!othIsNull && value > other) ||\n      (valIsNull && othIsDefined) ||\n      !valIsDefined\n    ) {\n      return 1;\n    }\n    if (\n      (!valIsNull && value < other) ||\n      (othIsNull && valIsDefined) ||\n      !othIsDefined\n    ) {\n      return -1;\n    }\n  }\n  return 0;\n}\n\n/**\n * @param {Array<object>} collection object with keys in attributes\n * @param {Array<string>} iteratees attributes\n * @param {Array<string>} orders asc | desc\n */\nfunction orderBy(collection, iteratees, orders) {\n  if (!Array.isArray(collection)) {\n    return [];\n  }\n\n  if (!Array.isArray(orders)) {\n    orders = [];\n  }\n\n  var result = collection.map(function(value, index) {\n    return {\n      criteria: iteratees.map(function(iteratee) {\n        return value[iteratee];\n      }),\n      index: index,\n      value: value\n    };\n  });\n\n  result.sort(function comparer(object, other) {\n    var index = -1;\n\n    while (++index < object.criteria.length) {\n      var res = compareAscending(object.criteria[index], other.criteria[index]);\n      if (res) {\n        if (index >= orders.length) {\n          return res;\n        }\n        if (orders[index] === 'desc') {\n          return -res;\n        }\n        return res;\n      }\n    }\n\n    // This ensures a stable sort in V8 and other engines.\n    // See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.\n    return object.index - other.index;\n  });\n\n  return result.map(function(res) {\n    return res.value;\n  });\n}\n\nmodule.exports = orderBy;\n","var isObject = require('./_is-object');\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n","// 9.4.2.3 ArraySpeciesCreate(originalArray, length)\nvar speciesConstructor = require('./_array-species-constructor');\n\nmodule.exports = function (original, length) {\n  return new (speciesConstructor(original))(length);\n};\n","var has = require('./_has');\nvar toIObject = require('./_to-iobject');\nvar arrayIndexOf = require('./_array-includes')(false);\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","'use strict';\n\nvar merge = require('./functions/merge');\n\nvar requestBuilder = {\n  /**\n   * Get all the queries to send to the client, those queries can used directly\n   * with the Algolia client.\n   * @private\n   * @return {object[]} The queries\n   */\n  _getQueries: function getQueries(index, state) {\n    var queries = [];\n\n    // One query for the hits\n    queries.push({\n      indexName: index,\n      params: requestBuilder._getHitsSearchParams(state)\n    });\n\n    // One for each disjunctive facets\n    state.getRefinedDisjunctiveFacets().forEach(function(refinedFacet) {\n      queries.push({\n        indexName: index,\n        params: requestBuilder._getDisjunctiveFacetSearchParams(state, refinedFacet)\n      });\n    });\n\n    // maybe more to get the root level of hierarchical facets when activated\n    state.getRefinedHierarchicalFacets().forEach(function(refinedFacet) {\n      var hierarchicalFacet = state.getHierarchicalFacetByName(refinedFacet);\n\n      var currentRefinement = state.getHierarchicalRefinement(refinedFacet);\n      // if we are deeper than level 0 (starting from `beer > IPA`)\n      // we want to get the root values\n      var separator = state._getHierarchicalFacetSeparator(hierarchicalFacet);\n      if (currentRefinement.length > 0 && currentRefinement[0].split(separator).length > 1) {\n        queries.push({\n          indexName: index,\n          params: requestBuilder._getDisjunctiveFacetSearchParams(state, refinedFacet, true)\n        });\n      }\n    });\n\n    return queries;\n  },\n\n  /**\n   * Build search parameters used to fetch hits\n   * @private\n   * @return {object.<string, any>}\n   */\n  _getHitsSearchParams: function(state) {\n    var facets = state.facets\n      .concat(state.disjunctiveFacets)\n      .concat(requestBuilder._getHitsHierarchicalFacetsAttributes(state));\n\n\n    var facetFilters = requestBuilder._getFacetFilters(state);\n    var numericFilters = requestBuilder._getNumericFilters(state);\n    var tagFilters = requestBuilder._getTagFilters(state);\n    var additionalParams = {\n      facets: facets,\n      tagFilters: tagFilters\n    };\n\n    if (facetFilters.length > 0) {\n      additionalParams.facetFilters = facetFilters;\n    }\n\n    if (numericFilters.length > 0) {\n      additionalParams.numericFilters = numericFilters;\n    }\n\n    return merge({}, state.getQueryParams(), additionalParams);\n  },\n\n  /**\n   * Build search parameters used to fetch a disjunctive facet\n   * @private\n   * @param  {string} facet the associated facet name\n   * @param  {boolean} hierarchicalRootLevel ?? FIXME\n   * @return {object}\n   */\n  _getDisjunctiveFacetSearchParams: function(state, facet, hierarchicalRootLevel) {\n    var facetFilters = requestBuilder._getFacetFilters(state, facet, hierarchicalRootLevel);\n    var numericFilters = requestBuilder._getNumericFilters(state, facet);\n    var tagFilters = requestBuilder._getTagFilters(state);\n    var additionalParams = {\n      hitsPerPage: 1,\n      page: 0,\n      attributesToRetrieve: [],\n      attributesToHighlight: [],\n      attributesToSnippet: [],\n      tagFilters: tagFilters,\n      analytics: false,\n      clickAnalytics: false\n    };\n\n    var hierarchicalFacet = state.getHierarchicalFacetByName(facet);\n\n    if (hierarchicalFacet) {\n      additionalParams.facets = requestBuilder._getDisjunctiveHierarchicalFacetAttribute(\n        state,\n        hierarchicalFacet,\n        hierarchicalRootLevel\n      );\n    } else {\n      additionalParams.facets = facet;\n    }\n\n    if (numericFilters.length > 0) {\n      additionalParams.numericFilters = numericFilters;\n    }\n\n    if (facetFilters.length > 0) {\n      additionalParams.facetFilters = facetFilters;\n    }\n\n    return merge({}, state.getQueryParams(), additionalParams);\n  },\n\n  /**\n   * Return the numeric filters in an algolia request fashion\n   * @private\n   * @param {string} [facetName] the name of the attribute for which the filters should be excluded\n   * @return {string[]} the numeric filters in the algolia format\n   */\n  _getNumericFilters: function(state, facetName) {\n    if (state.numericFilters) {\n      return state.numericFilters;\n    }\n\n    var numericFilters = [];\n\n    Object.keys(state.numericRefinements).forEach(function(attribute) {\n      var operators = state.numericRefinements[attribute] || {};\n      Object.keys(operators).forEach(function(operator) {\n        var values = operators[operator] || [];\n        if (facetName !== attribute) {\n          values.forEach(function(value) {\n            if (Array.isArray(value)) {\n              var vs = value.map(function(v) {\n                return attribute + operator + v;\n              });\n              numericFilters.push(vs);\n            } else {\n              numericFilters.push(attribute + operator + value);\n            }\n          });\n        }\n      });\n    });\n\n    return numericFilters;\n  },\n\n  /**\n   * Return the tags filters depending\n   * @private\n   * @return {string}\n   */\n  _getTagFilters: function(state) {\n    if (state.tagFilters) {\n      return state.tagFilters;\n    }\n\n    return state.tagRefinements.join(',');\n  },\n\n\n  /**\n   * Build facetFilters parameter based on current refinements. The array returned\n   * contains strings representing the facet filters in the algolia format.\n   * @private\n   * @param  {string} [facet] if set, the current disjunctive facet\n   * @return {array.<string>}\n   */\n  _getFacetFilters: function(state, facet, hierarchicalRootLevel) {\n    var facetFilters = [];\n\n    var facetsRefinements = state.facetsRefinements || {};\n    Object.keys(facetsRefinements).forEach(function(facetName) {\n      var facetValues = facetsRefinements[facetName] || [];\n      facetValues.forEach(function(facetValue) {\n        facetFilters.push(facetName + ':' + facetValue);\n      });\n    });\n\n    var facetsExcludes = state.facetsExcludes || {};\n    Object.keys(facetsExcludes).forEach(function(facetName) {\n      var facetValues = facetsExcludes[facetName] || [];\n      facetValues.forEach(function(facetValue) {\n        facetFilters.push(facetName + ':-' + facetValue);\n      });\n    });\n\n    var disjunctiveFacetsRefinements = state.disjunctiveFacetsRefinements || {};\n    Object.keys(disjunctiveFacetsRefinements).forEach(function(facetName) {\n      var facetValues = disjunctiveFacetsRefinements[facetName] || [];\n      if (facetName === facet || !facetValues || facetValues.length === 0) {\n        return;\n      }\n      var orFilters = [];\n\n      facetValues.forEach(function(facetValue) {\n        orFilters.push(facetName + ':' + facetValue);\n      });\n\n      facetFilters.push(orFilters);\n    });\n\n    var hierarchicalFacetsRefinements = state.hierarchicalFacetsRefinements || {};\n    Object.keys(hierarchicalFacetsRefinements).forEach(function(facetName) {\n      var facetValues = hierarchicalFacetsRefinements[facetName] || [];\n      var facetValue = facetValues[0];\n\n      if (facetValue === undefined) {\n        return;\n      }\n\n      var hierarchicalFacet = state.getHierarchicalFacetByName(facetName);\n      var separator = state._getHierarchicalFacetSeparator(hierarchicalFacet);\n      var rootPath = state._getHierarchicalRootPath(hierarchicalFacet);\n      var attributeToRefine;\n      var attributesIndex;\n\n      // we ask for parent facet values only when the `facet` is the current hierarchical facet\n      if (facet === facetName) {\n        // if we are at the root level already, no need to ask for facet values, we get them from\n        // the hits query\n        if (facetValue.indexOf(separator) === -1 || (!rootPath && hierarchicalRootLevel === true) ||\n          (rootPath && rootPath.split(separator).length === facetValue.split(separator).length)) {\n          return;\n        }\n\n        if (!rootPath) {\n          attributesIndex = facetValue.split(separator).length - 2;\n          facetValue = facetValue.slice(0, facetValue.lastIndexOf(separator));\n        } else {\n          attributesIndex = rootPath.split(separator).length - 1;\n          facetValue = rootPath;\n        }\n\n        attributeToRefine = hierarchicalFacet.attributes[attributesIndex];\n      } else {\n        attributesIndex = facetValue.split(separator).length - 1;\n\n        attributeToRefine = hierarchicalFacet.attributes[attributesIndex];\n      }\n\n      if (attributeToRefine) {\n        facetFilters.push([attributeToRefine + ':' + facetValue]);\n      }\n    });\n\n    return facetFilters;\n  },\n\n  _getHitsHierarchicalFacetsAttributes: function(state) {\n    var out = [];\n\n    return state.hierarchicalFacets.reduce(\n      // ask for as much levels as there's hierarchical refinements\n      function getHitsAttributesForHierarchicalFacet(allAttributes, hierarchicalFacet) {\n        var hierarchicalRefinement = state.getHierarchicalRefinement(hierarchicalFacet.name)[0];\n\n        // if no refinement, ask for root level\n        if (!hierarchicalRefinement) {\n          allAttributes.push(hierarchicalFacet.attributes[0]);\n          return allAttributes;\n        }\n\n        var separator = state._getHierarchicalFacetSeparator(hierarchicalFacet);\n        var level = hierarchicalRefinement.split(separator).length;\n        var newAttributes = hierarchicalFacet.attributes.slice(0, level + 1);\n\n        return allAttributes.concat(newAttributes);\n      }, out);\n  },\n\n  _getDisjunctiveHierarchicalFacetAttribute: function(state, hierarchicalFacet, rootLevel) {\n    var separator = state._getHierarchicalFacetSeparator(hierarchicalFacet);\n    if (rootLevel === true) {\n      var rootPath = state._getHierarchicalRootPath(hierarchicalFacet);\n      var attributeIndex = 0;\n\n      if (rootPath) {\n        attributeIndex = rootPath.split(separator).length;\n      }\n      return [hierarchicalFacet.attributes[attributeIndex]];\n    }\n\n    var hierarchicalRefinement = state.getHierarchicalRefinement(hierarchicalFacet.name)[0] || '';\n    // if refinement is 'beers > IPA > Flying dog',\n    // then we want `facets: ['beers > IPA']` as disjunctive facet (parent level values)\n\n    var parentLevel = hierarchicalRefinement.split(separator).length - 1;\n    return hierarchicalFacet.attributes.slice(0, parentLevel + 1);\n  },\n\n  getSearchForFacetQuery: function(facetName, query, maxFacetHits, state) {\n    var stateForSearchForFacetValues = state.isDisjunctiveFacet(facetName) ?\n      state.clearRefinements(facetName) :\n      state;\n    var searchForFacetSearchParameters = {\n      facetQuery: query,\n      facetName: facetName\n    };\n    if (typeof maxFacetHits === 'number') {\n      searchForFacetSearchParameters.maxFacetHits = maxFacetHits;\n    }\n    return merge(\n      {},\n      requestBuilder._getHitsSearchParams(stateForSearchForFacetValues),\n      searchForFacetSearchParameters\n    );\n  }\n};\n\nmodule.exports = requestBuilder;\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","module.exports = function (done, value) {\n  return { value: value, done: !!done };\n};\n","module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n","var redefine = require('./_redefine');\nmodule.exports = function (target, src, safe) {\n  for (var key in src) redefine(target, key, src[key], safe);\n  return target;\n};\n","// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n","'use strict';\n\nmodule.exports = '3.3.4';\n","var isObject = require('./_is-object');\nvar isArray = require('./_is-array');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (original) {\n  var C;\n  if (isArray(original)) {\n    C = original.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return C === undefined ? Array : C;\n};\n","'use strict';\n\nvar SearchParameters = require('./SearchParameters');\nvar SearchResults = require('./SearchResults');\nvar DerivedHelper = require('./DerivedHelper');\nvar requestBuilder = require('./requestBuilder');\n\nvar events = require('events');\nvar inherits = require('./functions/inherits');\nvar objectHasKeys = require('./functions/objectHasKeys');\n\nvar version = require('./version');\n\n/**\n * Event triggered when a parameter is set or updated\n * @event AlgoliaSearchHelper#event:change\n * @property {object} event\n * @property {SearchParameters} event.state the current parameters with the latest changes applied\n * @property {SearchResults} event.results the previous results received from Algolia. `null` before the first request\n * @example\n * helper.on('change', function(event) {\n *   console.log('The parameters have changed');\n * });\n */\n\n/**\n * Event triggered when a main search is sent to Algolia\n * @event AlgoliaSearchHelper#event:search\n * @property {object} event\n * @property {SearchParameters} event.state the parameters used for this search\n * @property {SearchResults} event.results the results from the previous search. `null` if it is the first search.\n * @example\n * helper.on('search', function(event) {\n *   console.log('Search sent');\n * });\n */\n\n/**\n * Event triggered when a search using `searchForFacetValues` is sent to Algolia\n * @event AlgoliaSearchHelper#event:searchForFacetValues\n * @property {object} event\n * @property {SearchParameters} event.state the parameters used for this search it is the first search.\n * @property {string} event.facet the facet searched into\n * @property {string} event.query the query used to search in the facets\n * @example\n * helper.on('searchForFacetValues', function(event) {\n *   console.log('searchForFacetValues sent');\n * });\n */\n\n/**\n * Event triggered when a search using `searchOnce` is sent to Algolia\n * @event AlgoliaSearchHelper#event:searchOnce\n * @property {object} event\n * @property {SearchParameters} event.state the parameters used for this search it is the first search.\n * @example\n * helper.on('searchOnce', function(event) {\n *   console.log('searchOnce sent');\n * });\n */\n\n/**\n * Event triggered when the results are retrieved from Algolia\n * @event AlgoliaSearchHelper#event:result\n * @property {object} event\n * @property {SearchResults} event.results the results received from Algolia\n * @property {SearchParameters} event.state the parameters used to query Algolia. Those might be different from the one in the helper instance (for example if the network is unreliable).\n * @example\n * helper.on('result', function(event) {\n *   console.log('Search results received');\n * });\n */\n\n/**\n * Event triggered when Algolia sends back an error. For example, if an unknown parameter is\n * used, the error can be caught using this event.\n * @event AlgoliaSearchHelper#event:error\n * @property {object} event\n * @property {Error} event.error the error returned by the Algolia.\n * @example\n * helper.on('error', function(event) {\n *   console.log('Houston we got a problem.');\n * });\n */\n\n/**\n * Event triggered when the queue of queries have been depleted (with any result or outdated queries)\n * @event AlgoliaSearchHelper#event:searchQueueEmpty\n * @example\n * helper.on('searchQueueEmpty', function() {\n *   console.log('No more search pending');\n *   // This is received before the result event if we're not expecting new results\n * });\n *\n * helper.search();\n */\n\n/**\n * Initialize a new AlgoliaSearchHelper\n * @class\n * @classdesc The AlgoliaSearchHelper is a class that ease the management of the\n * search. It provides an event based interface for search callbacks:\n *  - change: when the internal search state is changed.\n *    This event contains a {@link SearchParameters} object and the\n *    {@link SearchResults} of the last result if any.\n *  - search: when a search is triggered using the `search()` method.\n *  - result: when the response is retrieved from Algolia and is processed.\n *    This event contains a {@link SearchResults} object and the\n *    {@link SearchParameters} corresponding to this answer.\n *  - error: when the response is an error. This event contains the error returned by the server.\n * @param  {AlgoliaSearch} client an AlgoliaSearch client\n * @param  {string} index the index name to query\n * @param  {SearchParameters | object} options an object defining the initial\n * config of the search. It doesn't have to be a {SearchParameters},\n * just an object containing the properties you need from it.\n */\nfunction AlgoliaSearchHelper(client, index, options) {\n  if (typeof client.addAlgoliaAgent === 'function') {\n    client.addAlgoliaAgent('JS Helper (' + version + ')');\n  }\n\n  this.setClient(client);\n  var opts = options || {};\n  opts.index = index;\n  this.state = SearchParameters.make(opts);\n  this.lastResults = null;\n  this._queryId = 0;\n  this._lastQueryIdReceived = -1;\n  this.derivedHelpers = [];\n  this._currentNbQueries = 0;\n}\n\ninherits(AlgoliaSearchHelper, events.EventEmitter);\n\n/**\n * Start the search with the parameters set in the state. When the\n * method is called, it triggers a `search` event. The results will\n * be available through the `result` event. If an error occurs, an\n * `error` will be fired instead.\n * @return {AlgoliaSearchHelper}\n * @fires search\n * @fires result\n * @fires error\n * @chainable\n */\nAlgoliaSearchHelper.prototype.search = function() {\n  this._search({onlyWithDerivedHelpers: false});\n  return this;\n};\n\nAlgoliaSearchHelper.prototype.searchOnlyWithDerivedHelpers = function() {\n  this._search({onlyWithDerivedHelpers: true});\n  return this;\n};\n\n/**\n * Gets the search query parameters that would be sent to the Algolia Client\n * for the hits\n * @return {object} Query Parameters\n */\nAlgoliaSearchHelper.prototype.getQuery = function() {\n  var state = this.state;\n  return requestBuilder._getHitsSearchParams(state);\n};\n\n/**\n * Start a search using a modified version of the current state. This method does\n * not trigger the helper lifecycle and does not modify the state kept internally\n * by the helper. This second aspect means that the next search call will be the\n * same as a search call before calling searchOnce.\n * @param {object} options can contain all the parameters that can be set to SearchParameters\n * plus the index\n * @param {function} [callback] optional callback executed when the response from the\n * server is back.\n * @return {promise|undefined} if a callback is passed the method returns undefined\n * otherwise it returns a promise containing an object with two keys :\n *  - content with a SearchResults\n *  - state with the state used for the query as a SearchParameters\n * @example\n * // Changing the number of records returned per page to 1\n * // This example uses the callback API\n * var state = helper.searchOnce({hitsPerPage: 1},\n *   function(error, content, state) {\n *     // if an error occurred it will be passed in error, otherwise its value is null\n *     // content contains the results formatted as a SearchResults\n *     // state is the instance of SearchParameters used for this search\n *   });\n * @example\n * // Changing the number of records returned per page to 1\n * // This example uses the promise API\n * var state1 = helper.searchOnce({hitsPerPage: 1})\n *                 .then(promiseHandler);\n *\n * function promiseHandler(res) {\n *   // res contains\n *   // {\n *   //   content : SearchResults\n *   //   state   : SearchParameters (the one used for this specific search)\n *   // }\n * }\n */\nAlgoliaSearchHelper.prototype.searchOnce = function(options, cb) {\n  var tempState = !options ? this.state : this.state.setQueryParameters(options);\n  var queries = requestBuilder._getQueries(tempState.index, tempState);\n  var self = this;\n\n  this._currentNbQueries++;\n\n  this.emit('searchOnce', {\n    state: tempState\n  });\n\n  if (cb) {\n    this.client\n      .search(queries)\n      .then(function(content) {\n        self._currentNbQueries--;\n        if (self._currentNbQueries === 0) {\n          self.emit('searchQueueEmpty');\n        }\n\n        cb(null, new SearchResults(tempState, content.results), tempState);\n      })\n      .catch(function(err) {\n        self._currentNbQueries--;\n        if (self._currentNbQueries === 0) {\n          self.emit('searchQueueEmpty');\n        }\n\n        cb(err, null, tempState);\n      });\n\n    return undefined;\n  }\n\n  return this.client.search(queries).then(function(content) {\n    self._currentNbQueries--;\n    if (self._currentNbQueries === 0) self.emit('searchQueueEmpty');\n    return {\n      content: new SearchResults(tempState, content.results),\n      state: tempState,\n      _originalResponse: content\n    };\n  }, function(e) {\n    self._currentNbQueries--;\n    if (self._currentNbQueries === 0) self.emit('searchQueueEmpty');\n    throw e;\n  });\n};\n\n/**\n * Structure of each result when using\n * [`searchForFacetValues()`](reference.html#AlgoliaSearchHelper#searchForFacetValues)\n * @typedef FacetSearchHit\n * @type {object}\n * @property {string} value the facet value\n * @property {string} highlighted the facet value highlighted with the query string\n * @property {number} count number of occurrence of this facet value\n * @property {boolean} isRefined true if the value is already refined\n */\n\n/**\n * Structure of the data resolved by the\n * [`searchForFacetValues()`](reference.html#AlgoliaSearchHelper#searchForFacetValues)\n * promise.\n * @typedef FacetSearchResult\n * @type {object}\n * @property {FacetSearchHit} facetHits the results for this search for facet values\n * @property {number} processingTimeMS time taken by the query inside the engine\n */\n\n/**\n * Search for facet values based on an query and the name of a faceted attribute. This\n * triggers a search and will return a promise. On top of using the query, it also sends\n * the parameters from the state so that the search is narrowed down to only the possible values.\n *\n * See the description of [FacetSearchResult](reference.html#FacetSearchResult)\n * @param {string} facet the name of the faceted attribute\n * @param {string} query the string query for the search\n * @param {number} [maxFacetHits] the maximum number values returned. Should be > 0 and <= 100\n * @param {object} [userState] the set of custom parameters to use on top of the current state. Setting a property to `undefined` removes\n * it in the generated query.\n * @return {promise.<FacetSearchResult>} the results of the search\n */\nAlgoliaSearchHelper.prototype.searchForFacetValues = function(facet, query, maxFacetHits, userState) {\n  var clientHasSFFV = typeof this.client.searchForFacetValues === 'function';\n  if (\n    !clientHasSFFV &&\n    typeof this.client.initIndex !== 'function'\n  ) {\n    throw new Error(\n      'search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues or client.initIndex(index).searchForFacetValues'\n    );\n  }\n  var state = this.state.setQueryParameters(userState || {});\n  var isDisjunctive = state.isDisjunctiveFacet(facet);\n  var algoliaQuery = requestBuilder.getSearchForFacetQuery(facet, query, maxFacetHits, state);\n\n  this._currentNbQueries++;\n  var self = this;\n\n  this.emit('searchForFacetValues', {\n    state: state,\n    facet: facet,\n    query: query\n  });\n\n  var searchForFacetValuesPromise = clientHasSFFV\n    ? this.client.searchForFacetValues([{indexName: state.index, params: algoliaQuery}])\n    : this.client.initIndex(state.index).searchForFacetValues(algoliaQuery);\n\n  return searchForFacetValuesPromise.then(function addIsRefined(content) {\n    self._currentNbQueries--;\n    if (self._currentNbQueries === 0) self.emit('searchQueueEmpty');\n\n    content = Array.isArray(content) ? content[0] : content;\n\n    content.facetHits.forEach(function(f) {\n      f.isRefined = isDisjunctive\n        ? state.isDisjunctiveFacetRefined(facet, f.value)\n        : state.isFacetRefined(facet, f.value);\n    });\n\n    return content;\n  }, function(e) {\n    self._currentNbQueries--;\n    if (self._currentNbQueries === 0) self.emit('searchQueueEmpty');\n    throw e;\n  });\n};\n\n/**\n * Sets the text query used for the search.\n *\n * This method resets the current page to 0.\n * @param  {string} q the user query\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.setQuery = function(q) {\n  this._change({\n    state: this.state.resetPage().setQuery(q),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * Remove all the types of refinements except tags. A string can be provided to remove\n * only the refinements of a specific attribute. For more advanced use case, you can\n * provide a function instead. This function should follow the\n * [clearCallback definition](#SearchParameters.clearCallback).\n *\n * This method resets the current page to 0.\n * @param {string} [name] optional name of the facet / attribute on which we want to remove all refinements\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n * @example\n * // Removing all the refinements\n * helper.clearRefinements().search();\n * @example\n * // Removing all the filters on a the category attribute.\n * helper.clearRefinements('category').search();\n * @example\n * // Removing only the exclude filters on the category facet.\n * helper.clearRefinements(function(value, attribute, type) {\n *   return type === 'exclude' && attribute === 'category';\n * }).search();\n */\nAlgoliaSearchHelper.prototype.clearRefinements = function(name) {\n  this._change({\n    state: this.state.resetPage().clearRefinements(name),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * Remove all the tag filters.\n *\n * This method resets the current page to 0.\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.clearTags = function() {\n  this._change({\n    state: this.state.resetPage().clearTags(),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * Adds a disjunctive filter to a faceted attribute with the `value` provided. If the\n * filter is already set, it doesn't change the filters.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} value the associated value (will be converted to string)\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.addDisjunctiveFacetRefinement = function(facet, value) {\n  this._change({\n    state: this.state.resetPage().addDisjunctiveFacetRefinement(facet, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * @deprecated since version 2.4.0, see {@link AlgoliaSearchHelper#addDisjunctiveFacetRefinement}\n */\nAlgoliaSearchHelper.prototype.addDisjunctiveRefine = function() {\n  return this.addDisjunctiveFacetRefinement.apply(this, arguments);\n};\n\n/**\n * Adds a refinement on a hierarchical facet. It will throw\n * an exception if the facet is not defined or if the facet\n * is already refined.\n *\n * This method resets the current page to 0.\n * @param {string} facet the facet name\n * @param {string} path the hierarchical facet path\n * @return {AlgoliaSearchHelper}\n * @throws Error if the facet is not defined or if the facet is refined\n * @chainable\n * @fires change\n */\nAlgoliaSearchHelper.prototype.addHierarchicalFacetRefinement = function(facet, value) {\n  this._change({\n    state: this.state.resetPage().addHierarchicalFacetRefinement(facet, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * Adds a an numeric filter to an attribute with the `operator` and `value` provided. If the\n * filter is already set, it doesn't change the filters.\n *\n * This method resets the current page to 0.\n * @param  {string} attribute the attribute on which the numeric filter applies\n * @param  {string} operator the operator of the filter\n * @param  {number} value the value of the filter\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.addNumericRefinement = function(attribute, operator, value) {\n  this._change({\n    state: this.state.resetPage().addNumericRefinement(attribute, operator, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * Adds a filter to a faceted attribute with the `value` provided. If the\n * filter is already set, it doesn't change the filters.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} value the associated value (will be converted to string)\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.addFacetRefinement = function(facet, value) {\n  this._change({\n    state: this.state.resetPage().addFacetRefinement(facet, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * @deprecated since version 2.4.0, see {@link AlgoliaSearchHelper#addFacetRefinement}\n */\nAlgoliaSearchHelper.prototype.addRefine = function() {\n  return this.addFacetRefinement.apply(this, arguments);\n};\n\n\n/**\n * Adds a an exclusion filter to a faceted attribute with the `value` provided. If the\n * filter is already set, it doesn't change the filters.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} value the associated value (will be converted to string)\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.addFacetExclusion = function(facet, value) {\n  this._change({\n    state: this.state.resetPage().addExcludeRefinement(facet, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * @deprecated since version 2.4.0, see {@link AlgoliaSearchHelper#addFacetExclusion}\n */\nAlgoliaSearchHelper.prototype.addExclude = function() {\n  return this.addFacetExclusion.apply(this, arguments);\n};\n\n/**\n * Adds a tag filter with the `tag` provided. If the\n * filter is already set, it doesn't change the filters.\n *\n * This method resets the current page to 0.\n * @param {string} tag the tag to add to the filter\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.addTag = function(tag) {\n  this._change({\n    state: this.state.resetPage().addTagRefinement(tag),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * Removes an numeric filter to an attribute with the `operator` and `value` provided. If the\n * filter is not set, it doesn't change the filters.\n *\n * Some parameters are optional, triggering different behavior:\n *  - if the value is not provided, then all the numeric value will be removed for the\n *  specified attribute/operator couple.\n *  - if the operator is not provided either, then all the numeric filter on this attribute\n *  will be removed.\n *\n * This method resets the current page to 0.\n * @param  {string} attribute the attribute on which the numeric filter applies\n * @param  {string} [operator] the operator of the filter\n * @param  {number} [value] the value of the filter\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.removeNumericRefinement = function(attribute, operator, value) {\n  this._change({\n    state: this.state.resetPage().removeNumericRefinement(attribute, operator, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * Removes a disjunctive filter to a faceted attribute with the `value` provided. If the\n * filter is not set, it doesn't change the filters.\n *\n * If the value is omitted, then this method will remove all the filters for the\n * attribute.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} [value] the associated value\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.removeDisjunctiveFacetRefinement = function(facet, value) {\n  this._change({\n    state: this.state.resetPage().removeDisjunctiveFacetRefinement(facet, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * @deprecated since version 2.4.0, see {@link AlgoliaSearchHelper#removeDisjunctiveFacetRefinement}\n */\nAlgoliaSearchHelper.prototype.removeDisjunctiveRefine = function() {\n  return this.removeDisjunctiveFacetRefinement.apply(this, arguments);\n};\n\n/**\n * Removes the refinement set on a hierarchical facet.\n * @param {string} facet the facet name\n * @return {AlgoliaSearchHelper}\n * @throws Error if the facet is not defined or if the facet is not refined\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.removeHierarchicalFacetRefinement = function(facet) {\n  this._change({\n    state: this.state.resetPage().removeHierarchicalFacetRefinement(facet),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * Removes a filter to a faceted attribute with the `value` provided. If the\n * filter is not set, it doesn't change the filters.\n *\n * If the value is omitted, then this method will remove all the filters for the\n * attribute.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} [value] the associated value\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.removeFacetRefinement = function(facet, value) {\n  this._change({\n    state: this.state.resetPage().removeFacetRefinement(facet, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * @deprecated since version 2.4.0, see {@link AlgoliaSearchHelper#removeFacetRefinement}\n */\nAlgoliaSearchHelper.prototype.removeRefine = function() {\n  return this.removeFacetRefinement.apply(this, arguments);\n};\n\n/**\n * Removes an exclusion filter to a faceted attribute with the `value` provided. If the\n * filter is not set, it doesn't change the filters.\n *\n * If the value is omitted, then this method will remove all the filters for the\n * attribute.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} [value] the associated value\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.removeFacetExclusion = function(facet, value) {\n  this._change({\n    state: this.state.resetPage().removeExcludeRefinement(facet, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * @deprecated since version 2.4.0, see {@link AlgoliaSearchHelper#removeFacetExclusion}\n */\nAlgoliaSearchHelper.prototype.removeExclude = function() {\n  return this.removeFacetExclusion.apply(this, arguments);\n};\n\n/**\n * Removes a tag filter with the `tag` provided. If the\n * filter is not set, it doesn't change the filters.\n *\n * This method resets the current page to 0.\n * @param {string} tag tag to remove from the filter\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.removeTag = function(tag) {\n  this._change({\n    state: this.state.resetPage().removeTagRefinement(tag),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * Adds or removes an exclusion filter to a faceted attribute with the `value` provided. If\n * the value is set then it removes it, otherwise it adds the filter.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} value the associated value\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.toggleFacetExclusion = function(facet, value) {\n  this._change({\n    state: this.state.resetPage().toggleExcludeFacetRefinement(facet, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * @deprecated since version 2.4.0, see {@link AlgoliaSearchHelper#toggleFacetExclusion}\n */\nAlgoliaSearchHelper.prototype.toggleExclude = function() {\n  return this.toggleFacetExclusion.apply(this, arguments);\n};\n\n/**\n * Adds or removes a filter to a faceted attribute with the `value` provided. If\n * the value is set then it removes it, otherwise it adds the filter.\n *\n * This method can be used for conjunctive, disjunctive and hierarchical filters.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} value the associated value\n * @return {AlgoliaSearchHelper}\n * @throws Error will throw an error if the facet is not declared in the settings of the helper\n * @fires change\n * @chainable\n * @deprecated since version 2.19.0, see {@link AlgoliaSearchHelper#toggleFacetRefinement}\n */\nAlgoliaSearchHelper.prototype.toggleRefinement = function(facet, value) {\n  return this.toggleFacetRefinement(facet, value);\n};\n\n/**\n * Adds or removes a filter to a faceted attribute with the `value` provided. If\n * the value is set then it removes it, otherwise it adds the filter.\n *\n * This method can be used for conjunctive, disjunctive and hierarchical filters.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} value the associated value\n * @return {AlgoliaSearchHelper}\n * @throws Error will throw an error if the facet is not declared in the settings of the helper\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.toggleFacetRefinement = function(facet, value) {\n  this._change({\n    state: this.state.resetPage().toggleFacetRefinement(facet, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * @deprecated since version 2.4.0, see {@link AlgoliaSearchHelper#toggleFacetRefinement}\n */\nAlgoliaSearchHelper.prototype.toggleRefine = function() {\n  return this.toggleFacetRefinement.apply(this, arguments);\n};\n\n/**\n * Adds or removes a tag filter with the `value` provided. If\n * the value is set then it removes it, otherwise it adds the filter.\n *\n * This method resets the current page to 0.\n * @param {string} tag tag to remove or add\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.toggleTag = function(tag) {\n  this._change({\n    state: this.state.resetPage().toggleTagRefinement(tag),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * Increments the page number by one.\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n * @example\n * helper.setPage(0).nextPage().getPage();\n * // returns 1\n */\nAlgoliaSearchHelper.prototype.nextPage = function() {\n  var page = this.state.page || 0;\n  return this.setPage(page + 1);\n};\n\n/**\n * Decrements the page number by one.\n * @fires change\n * @return {AlgoliaSearchHelper}\n * @chainable\n * @example\n * helper.setPage(1).previousPage().getPage();\n * // returns 0\n */\nAlgoliaSearchHelper.prototype.previousPage = function() {\n  var page = this.state.page || 0;\n  return this.setPage(page - 1);\n};\n\n/**\n * @private\n */\nfunction setCurrentPage(page) {\n  if (page < 0) throw new Error('Page requested below 0.');\n\n  this._change({\n    state: this.state.setPage(page),\n    isPageReset: false\n  });\n\n  return this;\n}\n\n/**\n * Change the current page\n * @deprecated\n * @param  {number} page The page number\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.setCurrentPage = setCurrentPage;\n\n/**\n * Updates the current page.\n * @function\n * @param  {number} page The page number\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.setPage = setCurrentPage;\n\n/**\n * Updates the name of the index that will be targeted by the query.\n *\n * This method resets the current page to 0.\n * @param {string} name the index name\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.setIndex = function(name) {\n  this._change({\n    state: this.state.resetPage().setIndex(name),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * Update a parameter of the search. This method reset the page\n *\n * The complete list of parameters is available on the\n * [Algolia website](https://www.algolia.com/doc/rest#query-an-index).\n * The most commonly used parameters have their own [shortcuts](#query-parameters-shortcuts)\n * or benefit from higher-level APIs (all the kind of filters and facets have their own API)\n *\n * This method resets the current page to 0.\n * @param {string} parameter name of the parameter to update\n * @param {any} value new value of the parameter\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n * @example\n * helper.setQueryParameter('hitsPerPage', 20).search();\n */\nAlgoliaSearchHelper.prototype.setQueryParameter = function(parameter, value) {\n  this._change({\n    state: this.state.resetPage().setQueryParameter(parameter, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * Set the whole state (warning: will erase previous state)\n * @param {SearchParameters} newState the whole new state\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.setState = function(newState) {\n  this._change({\n    state: SearchParameters.make(newState),\n    isPageReset: false\n  });\n\n  return this;\n};\n\n/**\n * Override the current state without triggering a change event.\n * Do not use this method unless you know what you are doing. (see the example\n * for a legit use case)\n * @param {SearchParameters} newState the whole new state\n * @return {AlgoliaSearchHelper}\n * @example\n *  helper.on('change', function(state){\n *    // In this function you might want to find a way to store the state in the url/history\n *    updateYourURL(state)\n *  })\n *  window.onpopstate = function(event){\n *    // This is naive though as you should check if the state is really defined etc.\n *    helper.overrideStateWithoutTriggeringChangeEvent(event.state).search()\n *  }\n * @chainable\n */\nAlgoliaSearchHelper.prototype.overrideStateWithoutTriggeringChangeEvent = function(newState) {\n  this.state = new SearchParameters(newState);\n  return this;\n};\n\n/**\n * Check if an attribute has any numeric, conjunctive, disjunctive or hierarchical filters.\n * @param {string} attribute the name of the attribute\n * @return {boolean} true if the attribute is filtered by at least one value\n * @example\n * // hasRefinements works with numeric, conjunctive, disjunctive and hierarchical filters\n * helper.hasRefinements('price'); // false\n * helper.addNumericRefinement('price', '>', 100);\n * helper.hasRefinements('price'); // true\n *\n * helper.hasRefinements('color'); // false\n * helper.addFacetRefinement('color', 'blue');\n * helper.hasRefinements('color'); // true\n *\n * helper.hasRefinements('material'); // false\n * helper.addDisjunctiveFacetRefinement('material', 'plastic');\n * helper.hasRefinements('material'); // true\n *\n * helper.hasRefinements('categories'); // false\n * helper.toggleFacetRefinement('categories', 'kitchen > knife');\n * helper.hasRefinements('categories'); // true\n *\n */\nAlgoliaSearchHelper.prototype.hasRefinements = function(attribute) {\n  if (objectHasKeys(this.state.getNumericRefinements(attribute))) {\n    return true;\n  } else if (this.state.isConjunctiveFacet(attribute)) {\n    return this.state.isFacetRefined(attribute);\n  } else if (this.state.isDisjunctiveFacet(attribute)) {\n    return this.state.isDisjunctiveFacetRefined(attribute);\n  } else if (this.state.isHierarchicalFacet(attribute)) {\n    return this.state.isHierarchicalFacetRefined(attribute);\n  }\n\n  // there's currently no way to know that the user did call `addNumericRefinement` at some point\n  // thus we cannot distinguish if there once was a numeric refinement that was cleared\n  // so we will return false in every other situations to be consistent\n  // while what we should do here is throw because we did not find the attribute in any type\n  // of refinement\n  return false;\n};\n\n/**\n * Check if a value is excluded for a specific faceted attribute. If the value\n * is omitted then the function checks if there is any excluding refinements.\n *\n * @param  {string}  facet name of the attribute for used for faceting\n * @param  {string}  [value] optional value. If passed will test that this value\n   * is filtering the given facet.\n * @return {boolean} true if refined\n * @example\n * helper.isExcludeRefined('color'); // false\n * helper.isExcludeRefined('color', 'blue') // false\n * helper.isExcludeRefined('color', 'red') // false\n *\n * helper.addFacetExclusion('color', 'red');\n *\n * helper.isExcludeRefined('color'); // true\n * helper.isExcludeRefined('color', 'blue') // false\n * helper.isExcludeRefined('color', 'red') // true\n */\nAlgoliaSearchHelper.prototype.isExcluded = function(facet, value) {\n  return this.state.isExcludeRefined(facet, value);\n};\n\n/**\n * @deprecated since 2.4.0, see {@link AlgoliaSearchHelper#hasRefinements}\n */\nAlgoliaSearchHelper.prototype.isDisjunctiveRefined = function(facet, value) {\n  return this.state.isDisjunctiveFacetRefined(facet, value);\n};\n\n/**\n * Check if the string is a currently filtering tag.\n * @param {string} tag tag to check\n * @return {boolean}\n */\nAlgoliaSearchHelper.prototype.hasTag = function(tag) {\n  return this.state.isTagRefined(tag);\n};\n\n/**\n * @deprecated since 2.4.0, see {@link AlgoliaSearchHelper#hasTag}\n */\nAlgoliaSearchHelper.prototype.isTagRefined = function() {\n  return this.hasTagRefinements.apply(this, arguments);\n};\n\n\n/**\n * Get the name of the currently used index.\n * @return {string}\n * @example\n * helper.setIndex('highestPrice_products').getIndex();\n * // returns 'highestPrice_products'\n */\nAlgoliaSearchHelper.prototype.getIndex = function() {\n  return this.state.index;\n};\n\nfunction getCurrentPage() {\n  return this.state.page;\n}\n\n/**\n * Get the currently selected page\n * @deprecated\n * @return {number} the current page\n */\nAlgoliaSearchHelper.prototype.getCurrentPage = getCurrentPage;\n/**\n * Get the currently selected page\n * @function\n * @return {number} the current page\n */\nAlgoliaSearchHelper.prototype.getPage = getCurrentPage;\n\n/**\n * Get all the tags currently set to filters the results.\n *\n * @return {string[]} The list of tags currently set.\n */\nAlgoliaSearchHelper.prototype.getTags = function() {\n  return this.state.tagRefinements;\n};\n\n/**\n * Get the list of refinements for a given attribute. This method works with\n * conjunctive, disjunctive, excluding and numerical filters.\n *\n * See also SearchResults#getRefinements\n *\n * @param {string} facetName attribute name used for faceting\n * @return {Array.<FacetRefinement|NumericRefinement>} All Refinement are objects that contain a value, and\n * a type. Numeric also contains an operator.\n * @example\n * helper.addNumericRefinement('price', '>', 100);\n * helper.getRefinements('price');\n * // [\n * //   {\n * //     \"value\": [\n * //       100\n * //     ],\n * //     \"operator\": \">\",\n * //     \"type\": \"numeric\"\n * //   }\n * // ]\n * @example\n * helper.addFacetRefinement('color', 'blue');\n * helper.addFacetExclusion('color', 'red');\n * helper.getRefinements('color');\n * // [\n * //   {\n * //     \"value\": \"blue\",\n * //     \"type\": \"conjunctive\"\n * //   },\n * //   {\n * //     \"value\": \"red\",\n * //     \"type\": \"exclude\"\n * //   }\n * // ]\n * @example\n * helper.addDisjunctiveFacetRefinement('material', 'plastic');\n * // [\n * //   {\n * //     \"value\": \"plastic\",\n * //     \"type\": \"disjunctive\"\n * //   }\n * // ]\n */\nAlgoliaSearchHelper.prototype.getRefinements = function(facetName) {\n  var refinements = [];\n\n  if (this.state.isConjunctiveFacet(facetName)) {\n    var conjRefinements = this.state.getConjunctiveRefinements(facetName);\n\n    conjRefinements.forEach(function(r) {\n      refinements.push({\n        value: r,\n        type: 'conjunctive'\n      });\n    });\n\n    var excludeRefinements = this.state.getExcludeRefinements(facetName);\n\n    excludeRefinements.forEach(function(r) {\n      refinements.push({\n        value: r,\n        type: 'exclude'\n      });\n    });\n  } else if (this.state.isDisjunctiveFacet(facetName)) {\n    var disjRefinements = this.state.getDisjunctiveRefinements(facetName);\n\n    disjRefinements.forEach(function(r) {\n      refinements.push({\n        value: r,\n        type: 'disjunctive'\n      });\n    });\n  }\n\n  var numericRefinements = this.state.getNumericRefinements(facetName);\n\n  Object.keys(numericRefinements).forEach(function(operator) {\n    var value = numericRefinements[operator];\n\n    refinements.push({\n      value: value,\n      operator: operator,\n      type: 'numeric'\n    });\n  });\n\n  return refinements;\n};\n\n/**\n * Return the current refinement for the (attribute, operator)\n * @param {string} attribute attribute in the record\n * @param {string} operator operator applied on the refined values\n * @return {Array.<number|number[]>} refined values\n */\nAlgoliaSearchHelper.prototype.getNumericRefinement = function(attribute, operator) {\n  return this.state.getNumericRefinement(attribute, operator);\n};\n\n/**\n * Get the current breadcrumb for a hierarchical facet, as an array\n * @param  {string} facetName Hierarchical facet name\n * @return {array.<string>} the path as an array of string\n */\nAlgoliaSearchHelper.prototype.getHierarchicalFacetBreadcrumb = function(facetName) {\n  return this.state.getHierarchicalFacetBreadcrumb(facetName);\n};\n\n// /////////// PRIVATE\n\n/**\n * Perform the underlying queries\n * @private\n * @return {undefined}\n * @fires search\n * @fires result\n * @fires error\n */\nAlgoliaSearchHelper.prototype._search = function(options) {\n  var state = this.state;\n  var states = [];\n  var mainQueries = [];\n\n  if (!options.onlyWithDerivedHelpers) {\n    mainQueries = requestBuilder._getQueries(state.index, state);\n\n    states.push({\n      state: state,\n      queriesCount: mainQueries.length,\n      helper: this\n    });\n\n    this.emit('search', {\n      state: state,\n      results: this.lastResults\n    });\n  }\n\n  var derivedQueries = this.derivedHelpers.map(function(derivedHelper) {\n    var derivedState = derivedHelper.getModifiedState(state);\n    var derivedStateQueries = requestBuilder._getQueries(derivedState.index, derivedState);\n\n    states.push({\n      state: derivedState,\n      queriesCount: derivedStateQueries.length,\n      helper: derivedHelper\n    });\n\n    derivedHelper.emit('search', {\n      state: derivedState,\n      results: derivedHelper.lastResults\n    });\n\n    return derivedStateQueries;\n  });\n\n  var queries = Array.prototype.concat.apply(mainQueries, derivedQueries);\n  var queryId = this._queryId++;\n\n  this._currentNbQueries++;\n\n  try {\n    this.client.search(queries)\n      .then(this._dispatchAlgoliaResponse.bind(this, states, queryId))\n      .catch(this._dispatchAlgoliaError.bind(this, queryId));\n  } catch (error) {\n    // If we reach this part, we're in an internal error state\n    this.emit('error', {\n      error: error\n    });\n  }\n};\n\n/**\n * Transform the responses as sent by the server and transform them into a user\n * usable object that merge the results of all the batch requests. It will dispatch\n * over the different helper + derived helpers (when there are some).\n * @private\n * @param {array.<{SearchParameters, AlgoliaQueries, AlgoliaSearchHelper}>}\n *  state state used for to generate the request\n * @param {number} queryId id of the current request\n * @param {object} content content of the response\n * @return {undefined}\n */\nAlgoliaSearchHelper.prototype._dispatchAlgoliaResponse = function(states, queryId, content) {\n  // FIXME remove the number of outdated queries discarded instead of just one\n\n  if (queryId < this._lastQueryIdReceived) {\n    // Outdated answer\n    return;\n  }\n\n  this._currentNbQueries -= (queryId - this._lastQueryIdReceived);\n  this._lastQueryIdReceived = queryId;\n\n  if (this._currentNbQueries === 0) this.emit('searchQueueEmpty');\n\n  var results = content.results.slice();\n\n  states.forEach(function(s) {\n    var state = s.state;\n    var queriesCount = s.queriesCount;\n    var helper = s.helper;\n    var specificResults = results.splice(0, queriesCount);\n\n    var formattedResponse = helper.lastResults = new SearchResults(state, specificResults);\n\n    helper.emit('result', {\n      results: formattedResponse,\n      state: state\n    });\n  });\n};\n\nAlgoliaSearchHelper.prototype._dispatchAlgoliaError = function(queryId, error) {\n  if (queryId < this._lastQueryIdReceived) {\n    // Outdated answer\n    return;\n  }\n\n  this._currentNbQueries -= queryId - this._lastQueryIdReceived;\n  this._lastQueryIdReceived = queryId;\n\n  this.emit('error', {\n    error: error\n  });\n\n  if (this._currentNbQueries === 0) this.emit('searchQueueEmpty');\n};\n\nAlgoliaSearchHelper.prototype.containsRefinement = function(query, facetFilters, numericFilters, tagFilters) {\n  return query ||\n    facetFilters.length !== 0 ||\n    numericFilters.length !== 0 ||\n    tagFilters.length !== 0;\n};\n\n/**\n * Test if there are some disjunctive refinements on the facet\n * @private\n * @param {string} facet the attribute to test\n * @return {boolean}\n */\nAlgoliaSearchHelper.prototype._hasDisjunctiveRefinements = function(facet) {\n  return this.state.disjunctiveRefinements[facet] &&\n    this.state.disjunctiveRefinements[facet].length > 0;\n};\n\nAlgoliaSearchHelper.prototype._change = function(event) {\n  var state = event.state;\n  var isPageReset = event.isPageReset;\n\n  if (state !== this.state) {\n    this.state = state;\n\n    this.emit('change', {\n      state: this.state,\n      results: this.lastResults,\n      isPageReset: isPageReset\n    });\n  }\n};\n\n/**\n * Clears the cache of the underlying Algolia client.\n * @return {AlgoliaSearchHelper}\n */\nAlgoliaSearchHelper.prototype.clearCache = function() {\n  this.client.clearCache && this.client.clearCache();\n  return this;\n};\n\n/**\n * Updates the internal client instance. If the reference of the clients\n * are equal then no update is actually done.\n * @param  {AlgoliaSearch} newClient an AlgoliaSearch client\n * @return {AlgoliaSearchHelper}\n */\nAlgoliaSearchHelper.prototype.setClient = function(newClient) {\n  if (this.client === newClient) return this;\n\n  if (typeof newClient.addAlgoliaAgent === 'function') {\n    newClient.addAlgoliaAgent('JS Helper (' + version + ')');\n  }\n  this.client = newClient;\n\n  return this;\n};\n\n/**\n * Gets the instance of the currently used client.\n * @return {AlgoliaSearch}\n */\nAlgoliaSearchHelper.prototype.getClient = function() {\n  return this.client;\n};\n\n/**\n * Creates an derived instance of the Helper. A derived helper\n * is a way to request other indices synchronised with the lifecycle\n * of the main Helper. This mechanism uses the multiqueries feature\n * of Algolia to aggregate all the requests in a single network call.\n *\n * This method takes a function that is used to create a new SearchParameter\n * that will be used to create requests to Algolia. Those new requests\n * are created just before the `search` event. The signature of the function\n * is `SearchParameters -> SearchParameters`.\n *\n * This method returns a new DerivedHelper which is an EventEmitter\n * that fires the same `search`, `result` and `error` events. Those\n * events, however, will receive data specific to this DerivedHelper\n * and the SearchParameters that is returned by the call of the\n * parameter function.\n * @param {function} fn SearchParameters -> SearchParameters\n * @return {DerivedHelper}\n */\nAlgoliaSearchHelper.prototype.derive = function(fn) {\n  var derivedHelper = new DerivedHelper(this, fn);\n  this.derivedHelpers.push(derivedHelper);\n  return derivedHelper;\n};\n\n/**\n * This method detaches a derived Helper from the main one. Prefer using the one from the\n * derived helper itself, to remove the event listeners too.\n * @private\n * @return {undefined}\n * @throws Error\n */\nAlgoliaSearchHelper.prototype.detachDerivedHelper = function(derivedHelper) {\n  var pos = this.derivedHelpers.indexOf(derivedHelper);\n  if (pos === -1) throw new Error('Derived helper already detached');\n  this.derivedHelpers.splice(pos, 1);\n};\n\n/**\n * This method returns true if there is currently at least one on-going search.\n * @return {boolean} true if there is a search pending\n */\nAlgoliaSearchHelper.prototype.hasPendingRequests = function() {\n  return this._currentNbQueries > 0;\n};\n\n/**\n * @typedef AlgoliaSearchHelper.NumericRefinement\n * @type {object}\n * @property {number[]} value the numbers that are used for filtering this attribute with\n * the operator specified.\n * @property {string} operator the faceting data: value, number of entries\n * @property {string} type will be 'numeric'\n */\n\n/**\n * @typedef AlgoliaSearchHelper.FacetRefinement\n * @type {object}\n * @property {string} value the string use to filter the attribute\n * @property {string} type the type of filter: 'conjunctive', 'disjunctive', 'exclude'\n */\n\nmodule.exports = AlgoliaSearchHelper;\n","// 7.3.20 SpeciesConstructor(O, defaultConstructor)\nvar anObject = require('./_an-object');\nvar aFunction = require('./_a-function');\nvar SPECIES = require('./_wks')('species');\nmodule.exports = function (O, D) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};\n","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction getIndexStateWithoutConfigure(uiState) {\n  var configure = uiState.configure,\n      trackedUiState = _objectWithoutProperties(uiState, [\"configure\"]);\n\n  return trackedUiState;\n} // technically a URL could contain any key, since users provide it,\n// which is why the input to this function is UiState, not something\n// which excludes \"configure\" as this function does.\n\n\nexport default function simpleStateMapping() {\n  return {\n    stateToRoute: function stateToRoute(uiState) {\n      return Object.keys(uiState).reduce(function (state, indexId) {\n        return _objectSpread({}, state, _defineProperty({}, indexId, getIndexStateWithoutConfigure(uiState[indexId])));\n      }, {});\n    },\n    routeToState: function routeToState() {\n      var routeState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      return Object.keys(routeState).reduce(function (state, indexId) {\n        return _objectSpread({}, state, _defineProperty({}, indexId, getIndexStateWithoutConfigure(routeState[indexId])));\n      }, {});\n    }\n  };\n}","module.exports = function (it, Constructor, name, forbiddenField) {\n  if (!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)) {\n    throw TypeError(name + ': incorrect invocation!');\n  } return it;\n};\n","// 19.1.3.1 Object.assign(target, source)\nvar $export = require('./_export');\n\n$export($export.S + $export.F, 'Object', { assign: require('./_object-assign') });\n","module.exports = require('./_shared')('native-function-to-string', Function.toString);\n","var document = require('./_global').document;\nmodule.exports = document && document.documentElement;\n","module.exports = '\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003' +\n  '\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport qs from 'qs';\n\nvar defaultCreateURL = function defaultCreateURL(_ref) {\n  var qsModule = _ref.qsModule,\n      routeState = _ref.routeState,\n      location = _ref.location;\n  var protocol = location.protocol,\n      hostname = location.hostname,\n      _location$port = location.port,\n      port = _location$port === void 0 ? '' : _location$port,\n      pathname = location.pathname,\n      hash = location.hash;\n  var queryString = qsModule.stringify(routeState);\n  var portWithPrefix = port === '' ? '' : \":\".concat(port); // IE <= 11 has no proper `location.origin` so we cannot rely on it.\n\n  if (!queryString) {\n    return \"\".concat(protocol, \"//\").concat(hostname).concat(portWithPrefix).concat(pathname).concat(hash);\n  }\n\n  return \"\".concat(protocol, \"//\").concat(hostname).concat(portWithPrefix).concat(pathname, \"?\").concat(queryString).concat(hash);\n};\n\nvar defaultParseURL = function defaultParseURL(_ref2) {\n  var qsModule = _ref2.qsModule,\n      location = _ref2.location;\n  // `qs` by default converts arrays with more than 20 items to an object.\n  // We want to avoid this because the data structure manipulated can therefore vary.\n  // Setting the limit to `100` seems a good number because the engine's default is 100\n  // (it can go up to 1000 but it is very unlikely to select more than 100 items in the UI).\n  //\n  // Using an `arrayLimit` of `n` allows `n + 1` items.\n  //\n  // See:\n  //   - https://github.com/ljharb/qs#parsing-arrays\n  //   - https://www.algolia.com/doc/api-reference/api-parameters/maxValuesPerFacet/\n  return qsModule.parse(location.search.slice(1), {\n    arrayLimit: 99\n  });\n};\n\nvar setWindowTitle = function setWindowTitle(title) {\n  if (title) {\n    window.document.title = title;\n  }\n};\n\nvar BrowserHistory =\n/*#__PURE__*/\nfunction () {\n  /**\n   * Initializes a new storage provider that syncs the search state to the URL\n   * using web APIs (`window.location.pushState` and `onpopstate` event).\n   */\n  function BrowserHistory() {\n    var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        windowTitle = _ref3.windowTitle,\n        _ref3$writeDelay = _ref3.writeDelay,\n        writeDelay = _ref3$writeDelay === void 0 ? 400 : _ref3$writeDelay,\n        _ref3$createURL = _ref3.createURL,\n        createURL = _ref3$createURL === void 0 ? defaultCreateURL : _ref3$createURL,\n        _ref3$parseURL = _ref3.parseURL,\n        parseURL = _ref3$parseURL === void 0 ? defaultParseURL : _ref3$parseURL;\n\n    _classCallCheck(this, BrowserHistory);\n\n    _defineProperty(this, \"windowTitle\", void 0);\n\n    _defineProperty(this, \"writeDelay\", void 0);\n\n    _defineProperty(this, \"_createURL\", void 0);\n\n    _defineProperty(this, \"parseURL\", void 0);\n\n    _defineProperty(this, \"writeTimer\", void 0);\n\n    this.windowTitle = windowTitle;\n    this.writeTimer = undefined;\n    this.writeDelay = writeDelay;\n    this._createURL = createURL;\n    this.parseURL = parseURL;\n    var title = this.windowTitle && this.windowTitle(this.read());\n    setWindowTitle(title);\n  }\n  /**\n   * Reads the URL and returns a syncable UI search state.\n   */\n\n\n  _createClass(BrowserHistory, [{\n    key: \"read\",\n    value: function read() {\n      return this.parseURL({\n        qsModule: qs,\n        location: window.location\n      });\n    }\n    /**\n     * Pushes a search state into the URL.\n     */\n\n  }, {\n    key: \"write\",\n    value: function write(routeState) {\n      var _this = this;\n\n      var url = this.createURL(routeState);\n      var title = this.windowTitle && this.windowTitle(routeState);\n\n      if (this.writeTimer) {\n        window.clearTimeout(this.writeTimer);\n      }\n\n      this.writeTimer = window.setTimeout(function () {\n        setWindowTitle(title);\n        window.history.pushState(routeState, title || '', url);\n        _this.writeTimer = undefined;\n      }, this.writeDelay);\n    }\n    /**\n     * Sets a callback on the `onpopstate` event of the history API of the current page.\n     * It enables the URL sync to keep track of the changes.\n     */\n\n  }, {\n    key: \"onUpdate\",\n    value: function onUpdate(callback) {\n      var _this2 = this;\n\n      this._onPopState = function (event) {\n        if (_this2.writeTimer) {\n          window.clearTimeout(_this2.writeTimer);\n          _this2.writeTimer = undefined;\n        }\n\n        var routeState = event.state; // At initial load, the state is read from the URL without update.\n        // Therefore the state object is not available.\n        // In this case, we fallback and read the URL.\n\n        if (!routeState) {\n          callback(_this2.read());\n        } else {\n          callback(routeState);\n        }\n      };\n\n      window.addEventListener('popstate', this._onPopState);\n    }\n    /**\n     * Creates a complete URL from a given syncable UI state.\n     *\n     * It always generates the full URL, not a relative one.\n     * This allows to handle cases like using a <base href>.\n     * See: https://github.com/algolia/instantsearch.js/issues/790\n     */\n\n  }, {\n    key: \"createURL\",\n    value: function createURL(routeState) {\n      return this._createURL({\n        qsModule: qs,\n        routeState: routeState,\n        location: window.location\n      });\n    }\n    /**\n     * Removes the event listener and cleans up the URL.\n     */\n\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      if (this._onPopState) {\n        window.removeEventListener('popstate', this._onPopState);\n      }\n\n      if (this.writeTimer) {\n        window.clearTimeout(this.writeTimer);\n      }\n\n      this.write({});\n    }\n  }]);\n\n  return BrowserHistory;\n}();\n\nexport default function (props) {\n  return new BrowserHistory(props);\n}"],"sourceRoot":""}